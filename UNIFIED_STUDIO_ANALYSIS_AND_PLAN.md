# üéµ AI MusicVerse - –ê–Ω–∞–ª–∏–∑ –∏ –ü–ª–∞–Ω –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ –°—Ç—É–¥–∏–∏

**–î–∞—Ç–∞:** 30 –¥–µ–∫–∞–±—Ä—è 2025
**–ó–∞–¥–∞—á–∞:** –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –º—É–∑—ã–∫–∞–ª—å–Ω–æ–π —Å—Ç—É–¥–∏–∏ —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
**–°—Ç–∞—Ç—É—Å:** –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ ‚ú®

---

## üìä –†–ï–ó–Æ–ú–ï –ê–ù–ê–õ–ò–ó–ê

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

**–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:** Telegram Mini App –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º—É–∑—ã–∫–∏ —Å AI
**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:** React 19, TypeScript, Vite, Supabase, Suno AI v5
**–ú–∞—Å—à—Ç–∞–±:** 830+ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, 94 Edge Functions, 40 —Å—Ç—Ä–∞–Ω–∏—Ü

### –î–≤–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ —Å—Ç—É–¥–∏–∏

#### 1. **UnifiedStudioContent** (`/studio/:trackId`)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –†–∞–±–æ—Ç–∞ —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ —Ç—Ä–µ–∫–∞–º–∏
- **–§—É–Ω–∫—Ü–∏–∏:**
  - ‚úÖ –ó–∞–º–µ–Ω–∞ —Å–µ–∫—Ü–∏–π (Section Replacement)
  - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–æ–∫–∞–ª–∞ (Add Vocals)
  - ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Å—Ç–µ–º—ã (Stem Separation)
  - ‚úÖ MIDI —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è (Klangio)
  - ‚úÖ –≠—Ñ—Ñ–µ–∫—Ç—ã –∏ –º–∏–∫—Å–∏–Ω–≥
  - ‚úÖ –ú—É–ª—å—Ç–∏—Ç—Ä–µ–∫–æ–≤—ã–π –ø–ª–µ–π–±—ç–∫
- **–§–∞–π–ª:** `src/components/studio/unified/UnifiedStudioContent.tsx` (1432 —Å—Ç—Ä–æ–∫–∏)
- **–ú–æ–±–∏–ª—å–Ω—ã–π UI:** –í—Å—Ç—Ä–æ–µ–Ω –ø—Ä—è–º–æ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

#### 2. **StudioShell** (`/studio-v2/project/:projectId`)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** DAW-—Å—Ç—É–¥–∏—è –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤ (multi-track)
- **–§—É–Ω–∫—Ü–∏–∏:**
  - ‚úÖ –ú—É–ª—å—Ç–∏—Ç—Ä–µ–∫–æ–≤–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
  - ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏
  - ‚úÖ History —Å undo/redo (30 —É—Ä–æ–≤–Ω–µ–π)
  - ‚úÖ Pending —Ç—Ä–µ–∫–∏ (—Ä–µ–∞–ª—Ç–∞–π–º –≥–µ–Ω–µ—Ä–∞—Ü–∏—è)
  - ‚úÖ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (A/B)
  - ‚úÖ –û—Ñ–ª–∞–π–Ω –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- **–§–∞–π–ª:** `src/components/studio/unified/StudioShell.tsx` (901 —Å—Ç—Ä–æ–∫–∞)
- **Store:** `src/stores/useUnifiedStudioStore.ts` (1057 —Å—Ç—Ä–æ–∫)
- **–ú–æ–±–∏–ª—å–Ω—ã–π UI:** –í—Å—Ç—Ä–æ–µ–Ω —Å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º–∏ –∫–æ–Ω—Ç—Ä–æ–ª–∞–º–∏

#### 3. **MobileStudioLayout** (–ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è!)
- **–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –°–æ–∑–¥–∞–Ω, –Ω–æ –Ω–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω
- **–§–∞–π–ª:** `src/components/studio/mobile/MobileStudioLayout.tsx` (234 —Å—Ç—Ä–æ–∫–∏)
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
  - –¢–∞–±-–Ω–∞–≤–∏–≥–∞—Ü–∏—è (Player, Lyrics, Sections, Actions, Mixer)
  - Telegram safe area support
  - –ö–æ–º–ø–∞–∫—Ç–Ω—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª—ã
  - Adaptive content switching

---

## üéØ –ö–õ–Æ–ß–ï–í–´–ï –ü–†–û–ë–õ–ï–ú–´

### 1. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–±–∏–ª—å–Ω–æ–≥–æ UI
- **UnifiedStudioContent** –∏ **StudioShell** –∏–º–µ—é—Ç —Å–≤–æ–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–æ–±–∏–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
- **MobileStudioLayout** —Å–æ–∑–¥–∞–Ω, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- –ù–µ—Ç –µ–¥–∏–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –∫ –º–æ–±–∏–ª—å–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### 2. –†–∞–∑—Ä–æ–∑–Ω–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –î–≤–µ —Å—Ç—É–¥–∏–∏ —Ä–µ—à–∞—é—Ç —Ä–∞–∑–Ω—ã–µ –∑–∞–¥–∞—á–∏, –Ω–æ –∏–º–µ—é—Ç –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∞—É–¥–∏–æ
- –†–∞–∑–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∫ state management

### 3. –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –º–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- –ö–æ–Ω—Ç—Ä–æ–ª—ã –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è —Å–µ–Ω—Å–æ—Ä–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –ù–µ—Ç –∂–µ—Å—Ç–æ–≤ (swipe, pinch-to-zoom)
- –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–∞–∫—Ç–∏–ª—å–Ω–æ–≥–æ —Ñ–∏–¥–±—ç–∫–∞ (haptic feedback)
- –ë–æ–ª—å—à–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ lazy-loaded –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö

---

## üöÄ –ü–õ–ê–ù –£–ù–ò–§–ò–ö–ê–¶–ò–ò

### –§–∞–∑–∞ 1: –°–æ–∑–¥–∞–Ω–∏–µ UnifiedStudioMobile ‚úÖ –í –†–ê–ë–û–¢–ï

**–¶–µ–ª—å:** –ï–¥–∏–Ω—ã–π –º–æ–±–∏–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—Å–µ—Ö —Å—Ç—É–¥–∏–π–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

#### 1.1 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `UnifiedStudioMobile.tsx`

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```typescript
interface UnifiedStudioMobileProps {
  mode: 'track' | 'project';  // –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã
  trackId?: string;           // –î–ª—è track mode
  projectId?: string;         // –î–ª—è project mode
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ï–¥–∏–Ω–∞—è —Ç–∞–±-–Ω–∞–≤–∏–≥–∞—Ü–∏—è (Player, Sections, Vocals, MIDI, Mixer, Actions)
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (lazy tabs)
- ‚úÖ Telegram safe area
- ‚úÖ Swipe gestures –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- ‚úÖ Pull-to-refresh
- ‚úÖ Haptic feedback (Telegram HapticFeedback API)

#### 1.2 –ú–æ–±–∏–ª—å–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏

**Player Tab:**
- Waveform timeline (–∫–æ–º–ø–∞–∫—Ç–Ω—ã–π, 60-80px)
- Play/Pause/Skip controls (touch-optimized, 44px min)
- Progress slider —Å –≤—Ä–µ–º–µ–Ω–µ–º
- Volume control (collapsible)
- Track info (cover, title, tags)

**Sections Tab:**
- –°–µ–∫—Ü–∏–∏ –Ω–∞ timeline (scrollable horizontally)
- Section chips (tap to select)
- –ó–∞–º–µ–Ω–∞ —Å–µ–∫—Ü–∏–∏ (bottom sheet)
- A/B comparison (swipe –º–µ–∂–¥—É –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏)

**Vocals Tab:**
- –ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å –≤–æ–∫–∞–ª" (–¥–ª—è instrumental)
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≤–æ–∫–∞–ª—å–Ω—ã–µ —Å—Ç–µ–º—ã
- Inline lyrics editor
- Style customization

**MIDI Tab:**
- –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è —Å—Ç–µ–º–æ–≤ (Klangio)
- –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ (Guitar, Piano, Drums, etc.)
- –§–æ—Ä–º–∞—Ç—ã —ç–∫—Å–ø–æ—Ä—Ç–∞ (MIDI, MusicXML, GP5, PDF)
- Preview –Ω–æ—Ç (–µ—Å–ª–∏ –µ—Å—Ç—å)

**Mixer Tab:**
- Stem tracks (vertical list)
- Volume sliders (touch-friendly)
- Mute/Solo buttons (large touch targets)
- Master volume
- Effects (–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ drawer)

**Actions Tab:**
- Trim track
- Extend
- Remix
- Export mix
- Create arrangement
- Share

#### 1.3 –ñ–µ—Å—Ç—ã –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

**Swipe Gestures:**
- ‚û°Ô∏è **Swipe right** –Ω–∞ timeline ‚Üí Skip backward (10s)
- ‚¨ÖÔ∏è **Swipe left** –Ω–∞ timeline ‚Üí Skip forward (10s)
- ‚¨ÜÔ∏è **Swipe up** –Ω–∞ player bar ‚Üí Expand to fullscreen
- ‚¨áÔ∏è **Swipe down** –Ω–∞ fullscreen ‚Üí Collapse to bar

**Tap Interactions:**
- **Single tap** –Ω–∞ waveform ‚Üí Seek to position
- **Double tap** –Ω–∞ track ‚Üí Play/Pause
- **Long press** –Ω–∞ stem ‚Üí Show context menu
- **Tap** –Ω–∞ section ‚Üí Select section

**Pinch Gestures:**
- **Pinch in/out** –Ω–∞ timeline ‚Üí Zoom waveform

**Pull-to-Refresh:**
- –ù–∞ –ª—é–±–æ–π –≤–∫–ª–∞–¥–∫–µ ‚Üí Refresh stems/transcriptions

**Haptic Feedback:**
```typescript
// Telegram Mini App Haptic API
window.Telegram?.WebApp?.HapticFeedback?.impactOccurred('light')   // –ü—Ä–∏ tap
window.Telegram?.WebApp?.HapticFeedback?.notificationOccurred('success') // –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
window.Telegram?.WebApp?.HapticFeedback?.selectionChanged()        // –ü—Ä–∏ swipe –º–µ–∂–¥—É tabs
```

---

### –§–∞–∑–∞ 2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —Å—Ç—É–¥–∏—è–º–∏

#### 2.1 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UnifiedStudioContent

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
```typescript
// Before
export function UnifiedStudioContent({ trackId }: UnifiedStudioContentProps) {
  const isMobile = useIsMobile();

  return (
    <div className={isMobile ? "mobile-layout" : "desktop-layout"}>
      {/* –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–æ–±–∏–ª—å–Ω—ã–π UI */}
    </div>
  );
}

// After
export function UnifiedStudioContent({ trackId }: UnifiedStudioContentProps) {
  const isMobile = useIsMobile();

  if (isMobile) {
    return <UnifiedStudioMobile mode="track" trackId={trackId} />;
  }

  return (
    <div className="desktop-layout">
      {/* Desktop UI */}
    </div>
  );
}
```

#### 2.2 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ StudioShell

**–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ:**
```typescript
// StudioShell.tsx
export function StudioShell() {
  const isMobile = useIsMobile();
  const projectId = useUnifiedStudioStore(s => s.projectId);

  if (isMobile && projectId) {
    return <UnifiedStudioMobile mode="project" projectId={projectId} />;
  }

  return (
    <div className="desktop-studio-shell">
      {/* Desktop UI */}
    </div>
  );
}
```

---

### –§–∞–∑–∞ 3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

#### 3.1 Lazy Loading —Ç–∞–±–æ–≤

```typescript
const LazyPlayerTab = lazy(() => import('./tabs/MobilePlayerTab'));
const LazySectionsTab = lazy(() => import('./tabs/MobileSectionsTab'));
const LazyVocalsTab = lazy(() => import('./tabs/MobileVocalsTab'));
const LazyMidiTab = lazy(() => import('./tabs/MobileMidiTab'));
const LazyMixerTab = lazy(() => import('./tabs/MobileMixerTab'));
const LazyActionsTab = lazy(() => import('./tabs/MobileActionsTab'));
```

#### 3.2 Virtualization

- –ò—Å–ø–æ–ª—å–∑—É–µ–º `react-virtuoso` –¥–ª—è —Å–ø–∏—Å–∫–æ–≤ —Å—Ç–µ–º–æ–≤/—Ç—Ä–µ–∫–æ–≤
- Lazy render waveforms (—Ç–æ–ª—å–∫–æ visible stems)
- IntersectionObserver –¥–ª—è lazy-load –æ–±–ª–æ–∂–µ–∫

#### 3.3 Audio optimizations

- –ú–æ–±–∏–ª—å–Ω—ã–π audio fallback (–º–∞–∫—Å–∏–º—É–º 4-6 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤)
- Web Audio API —Å graceful degradation
- Preload —Å—Ç—Ä–∞—Ç–µ–≥–∏—è: `metadata` ‚Üí `auto` –ø—Ä–∏ play

#### 3.4 Bundle size

- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –≤—Å–µ—Ö drawers/dialogs
- Code splitting –ø–æ —Ä–æ—É—Ç–∞–º
- Tree-shaking unused Radix UI components

---

### –§–∞–∑–∞ 4: –£–ª—É—á—à–µ–Ω–∏–µ UX –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö

#### 4.1 Touch-friendly controls

**–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã:**
- –ö–Ω–æ–ø–∫–∏: 44x44px (Apple HIG, Google Material)
- Sliders: 48px –≤—ã—Å–æ—Ç–∞ —Å 44px touch target
- Chips/Tags: 32px –≤—ã—Å–æ—Ç–∞, 12px padding

**Spacing:**
- –ú–∏–Ω–∏–º—É–º 8px –º–µ–∂–¥—É –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
- 16px padding –æ—Ç –∫—Ä–∞–µ–≤ —ç–∫—Ä–∞–Ω–∞
- 24px margin –º–µ–∂–¥—É —Å–µ–∫—Ü–∏—è–º–∏

#### 4.2 –í–∏–∑—É–∞–ª—å–Ω—ã–π —Ñ–∏–¥–±—ç–∫

**Active states:**
```css
.mobile-button:active {
  transform: scale(0.96);
  transition: transform 0.1s ease;
}

.mobile-slider:active {
  filter: brightness(1.1);
}
```

**Loading states:**
- Skeleton screens –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- Shimmer effect –¥–ª—è –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–æ–≤
- Progress indicators –¥–ª—è –¥–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

#### 4.3 –¢—É–ª—Ç–∏–ø—ã –∏ –ø–æ–¥—Å–∫–∞–∑–∫–∏

**–ü–µ—Ä–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- Overlay tutorial –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- Dismissible hints (—Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ localStorage)
- Contextual help (? icon –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö)

**Quick tips:**
```typescript
const MOBILE_TIPS = {
  waveform: "–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –ø–µ—Ä–µ–º–æ—Ç–∫–∏, –ø–æ—Ç—è–Ω–∏—Ç–µ –¥–ª—è zoom",
  stem: "–£–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –¥–ª—è –º–µ–Ω—é, —Å–≤–∞–π–ø –¥–ª—è mute",
  section: "–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞, —Å–≤–∞–π–ø –¥–ª—è –∑–∞–º–µ–Ω—ã",
};
```

---

## üì± –ú–û–ë–ò–õ–¨–ù–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```
src/components/studio/mobile/
‚îú‚îÄ‚îÄ UnifiedStudioMobile.tsx           # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îú‚îÄ‚îÄ MobileStudioHeader.tsx            # Header —Å safe area
‚îú‚îÄ‚îÄ MobileStudioTabs.tsx              # Bottom tabs navigation
‚îú‚îÄ‚îÄ MobileStudioPlayerBar.tsx         # Compact player bar
‚îÇ
‚îú‚îÄ‚îÄ tabs/
‚îÇ   ‚îú‚îÄ‚îÄ MobilePlayerTab.tsx           # Player –≤–∫–ª–∞–¥–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ MobileSectionsTab.tsx         # Sections –≤–∫–ª–∞–¥–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ MobileVocalsTab.tsx           # Vocals –≤–∫–ª–∞–¥–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ MobileMidiTab.tsx             # MIDI –≤–∫–ª–∞–¥–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ MobileMixerTab.tsx            # Mixer –≤–∫–ª–∞–¥–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ MobileActionsTab.tsx          # Actions –≤–∫–ª–∞–¥–∫–∞
‚îÇ
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ MobileStemTrackRow.tsx        # Stem track –¥–ª—è —Å–ø–∏—Å–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ MobileSectionCard.tsx         # Section card
‚îÇ   ‚îú‚îÄ‚îÄ MobileWaveformTimeline.tsx    # –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π waveform
‚îÇ   ‚îú‚îÄ‚îÄ MobileVolumeSlider.tsx        # Touch-optimized slider
‚îÇ   ‚îú‚îÄ‚îÄ MobileActionButton.tsx        # Large touch button
‚îÇ   ‚îî‚îÄ‚îÄ MobileTooltip.tsx             # Mobile-friendly tooltip
‚îÇ
‚îú‚îÄ‚îÄ gestures/
‚îÇ   ‚îú‚îÄ‚îÄ useSwipeGesture.ts            # Swipe detection
‚îÇ   ‚îú‚îÄ‚îÄ usePinchZoom.ts               # Pinch to zoom
‚îÇ   ‚îú‚îÄ‚îÄ useLongPress.ts               # Long press detection
‚îÇ   ‚îî‚îÄ‚îÄ usePullToRefresh.ts           # Pull-to-refresh
‚îÇ
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îú‚îÄ‚îÄ useMobileAudioEngine.ts       # Mobile audio optimization
‚îÇ   ‚îú‚îÄ‚îÄ useMobileHaptic.ts            # Telegram haptic feedback
‚îÇ   ‚îú‚îÄ‚îÄ useMobileSafeArea.ts          # Safe area calculations
‚îÇ   ‚îî‚îÄ‚îÄ useMobileOrientation.ts       # Orientation detection
‚îÇ
‚îî‚îÄ‚îÄ utils/
    ‚îú‚îÄ‚îÄ mobileConstants.ts            # Touch targets, spacing
    ‚îú‚îÄ‚îÄ mobileAnimations.ts           # Framer Motion presets
    ‚îî‚îÄ‚îÄ mobileGestures.ts             # Gesture utilities
```

---

## üé® –î–ò–ó–ê–ô–ù-–°–ò–°–¢–ï–ú–ê –î–õ–Ø –ú–û–ë–ò–õ–¨–ù–´–•

### –¶–≤–µ—Ç–∞ –∏ –∫–æ–Ω—Ç—Ä–∞—Å—Ç

**Dark Theme (primary):**
```css
--mobile-bg: hsl(222 47% 11%);           /* –¢–µ–º–Ω—ã–π —Ñ–æ–Ω */
--mobile-card: hsl(217 33% 17%);         /* –ö–∞—Ä—Ç–æ—á–∫–∏ */
--mobile-border: hsl(217 33% 25%);       /* –ì—Ä–∞–Ω–∏—Ü—ã */
--mobile-primary: hsl(262 83% 58%);      /* –ê–∫—Ü–µ–Ω—Ç */
--mobile-text: hsl(213 31% 91%);         /* –¢–µ–∫—Å—Ç */
```

**–ö–æ–Ω—Ç—Ä–∞—Å—Ç:**
- –¢–µ–∫—Å—Ç –Ω–∞ —Ñ–æ–Ω–µ: –º–∏–Ω–∏–º—É–º 4.5:1 (WCAG AA)
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã: –º–∏–Ω–∏–º—É–º 3:1

### –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞

**–†–∞–∑–º–µ—Ä—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö:**
```css
--mobile-text-xs: 10px;     /* –í—Ç–æ—Ä–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è */
--mobile-text-sm: 12px;     /* –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç */
--mobile-text-base: 14px;   /* –ê–∫—Ü–µ–Ω—Ç–Ω—ã–π —Ç–µ–∫—Å—Ç */
--mobile-text-lg: 16px;     /* –ó–∞–≥–æ–ª–æ–≤–∫–∏ */
--mobile-text-xl: 18px;     /* –ö—Ä—É–ø–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ */
```

**Line heights:**
- –ó–∞–≥–æ–ª–æ–≤–∫–∏: 1.2
- –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç: 1.5
- Tight spacing: 1.3 (–¥–ª—è labels)

### –ê–Ω–∏–º–∞—Ü–∏–∏

**Timing functions:**
```typescript
const MOBILE_EASING = {
  easeOut: [0, 0, 0.2, 1],      // –ë—ã—Å—Ç—Ä–æ–µ –Ω–∞—á–∞–ª–æ
  easeIn: [0.4, 0, 1, 1],       // –ë—ã—Å—Ç—Ä—ã–π –∫–æ–Ω–µ—Ü
  easeInOut: [0.4, 0, 0.2, 1],  // –ü–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥
  spring: { type: "spring", stiffness: 300, damping: 30 },
};
```

**Durations:**
- Micro-interactions: 150ms
- Transitions: 250ms
- Page transitions: 350ms
- Loading states: 500ms+

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### State Management

**–ú–æ–±–∏–ª—å–Ω—ã–π state:**
```typescript
interface MobileStudioState {
  // Tabs
  activeTab: MobileTab;
  tabHistory: MobileTab[];

  // Gestures
  isSwipeEnabled: boolean;
  swipeDirection: 'left' | 'right' | null;

  // UI
  isPlayerExpanded: boolean;
  isDrawerOpen: boolean;
  activeDrawer: DrawerType | null;

  // Performance
  visibleStems: string[];
  lazyLoadedTabs: Set<MobileTab>;

  // Tutorial
  hasSeenTutorial: boolean;
  activeTip: string | null;
}
```

### Audio Engine –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
```typescript
// –ú–∞–∫—Å–∏–º—É–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤
const MAX_MOBILE_TRACKS = navigator.hardwareConcurrency
  ? Math.min(navigator.hardwareConcurrency, 6)
  : 4;

// –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∏
const STEM_PRIORITY = ['vocals', 'bass', 'drums', 'other'];

// –ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è
const AUDIO_BUFFER_SIZE = isMobile ? 4096 : 8192;
```

### Preloading strategy

```typescript
// Preload critical tabs
const CRITICAL_TABS = ['player', 'mixer'];

useEffect(() => {
  if (isMobile) {
    CRITICAL_TABS.forEach(tab => {
      import(`./tabs/Mobile${capitalize(tab)}Tab`);
    });
  }
}, []);
```

---

## üìä –ú–ï–¢–†–ò–ö–ò –£–°–ü–ï–•–ê

### Performance metrics

**–¶–µ–ª–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏:**
- Time to Interactive (TTI): < 3s –Ω–∞ 3G
- First Contentful Paint (FCP): < 1.5s
- Largest Contentful Paint (LCP): < 2.5s
- Cumulative Layout Shift (CLS): < 0.1
- Bundle size (mobile): < 400KB (gzipped)

### UX metrics

**–¶–µ–ª–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏:**
- Tap response time: < 100ms
- Gesture recognition rate: > 95%
- Task completion rate: > 80%
- User satisfaction (NPS): > 50

### Engagement metrics

**–û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º:**
- Daily Active Users (DAU)
- Session duration
- Feature usage (vocals, MIDI, section replace)
- Studio completion rate
- Mobile vs Desktop usage split

---

## üóìÔ∏è TIMELINE

### Week 1: Foundation (–¢–µ–∫—É—â–∞—è –Ω–µ–¥–µ–ª—è)
- ‚úÖ –ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- üü° –°–æ–∑–¥–∞–Ω–∏–µ UnifiedStudioMobile
- ‚¨ú –ë–∞–∑–æ–≤–∞—è —Ç–∞–±-–Ω–∞–≤–∏–≥–∞—Ü–∏—è
- ‚¨ú –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —Å—Ç—É–¥–∏—è–º–∏

### Week 2: Core Features
- ‚¨ú Player Tab (waveform, controls)
- ‚¨ú Sections Tab (selection, replacement)
- ‚¨ú Vocals Tab (add vocals, editing)
- ‚¨ú Gestures (swipe, pinch, long-press)

### Week 3: Advanced Features
- ‚¨ú MIDI Tab (transcription)
- ‚¨ú Mixer Tab (stems control)
- ‚¨ú Actions Tab (trim, extend, export)
- ‚¨ú Haptic feedback

### Week 4: Polish & Optimization
- ‚¨ú Performance optimization
- ‚¨ú Lazy loading
- ‚¨ú Tutorial/Tooltips
- ‚¨ú Testing –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- ‚¨ú Documentation

---

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (—Å–µ–≥–æ–¥–Ω—è):

1. **–°–æ–∑–¥–∞—Ç—å `UnifiedStudioMobile.tsx`** ‚úÖ –í –†–ê–ë–û–¢–ï
   - –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å —Ç–∞–±–∞–º–∏
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è MobileStudioTabs
   - Safe area support

2. **–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—É—é –≤–∫–ª–∞–¥–∫—É - Player Tab**
   - –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π waveform
   - Touch-optimized controls
   - Progress slider

3. **–î–æ–±–∞–≤–∏—Ç—å –∂–µ—Å—Ç—ã**
   - Swipe –¥–ª—è skip
   - Tap –¥–ª—è seek
   - Pull-to-refresh

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (—ç—Ç–∞ –Ω–µ–¥–µ–ª—è):

4. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ UnifiedStudioContent**
   - –£—Å–ª–æ–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ (mobile vs desktop)
   - –ü–µ—Ä–µ–¥–∞—á–∞ props
   - State —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

5. **Sections Tab**
   - Section cards
   - Selection UI
   - Replacement flow

6. **Vocals Tab**
   - AddVocalsDrawer –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
   - –°–ø–∏—Å–æ–∫ –≤–æ–∫–∞–ª—å–Ω—ã—Ö —Å—Ç–µ–º–æ–≤
   - Quick actions

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ (—Å–ª–µ–¥—É—é—â–∏–µ 2 –Ω–µ–¥–µ–ª–∏):

7. **MIDI Tab**
8. **Mixer Tab**
9. **Actions Tab**
10. **Performance optimization**
11. **Testing & refinement**

---

## üìù –ó–ê–ú–ï–¢–ö–ò

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Telegram Mini App

**API:**
- ‚úÖ `window.Telegram.WebApp.HapticFeedback` - —Ç–∞–∫—Ç–∏–ª—å–Ω–∞—è –æ—Ç–¥–∞—á–∞
- ‚úÖ `window.Telegram.WebApp.BackButton` - –∫–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥
- ‚úÖ `window.Telegram.WebApp.MainButton` - –≥–ª–∞–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –≤–Ω–∏–∑—É
- ‚úÖ `window.Telegram.WebApp.expand()` - –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º
- ‚úÖ Safe Area Insets - —É—á–µ—Ç –≤—ã—Ä–µ–∑–æ–≤

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ
- –ù–µ—Ç push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (—Ç–æ–ª—å–∫–æ Telegram notifications)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π local storage (10MB)

### Best Practices

**Touch targets:**
- –ú–∏–Ω–∏–º—É–º 44x44px (Apple HIG)
- –ú–∏–Ω–∏–º—É–º 48x48px (Material Design)
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: 48-56px –¥–ª—è primary actions

**Spacing:**
- 8px - –º–∏–Ω–∏–º—É–º –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
- 16px - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π padding
- 24px - section margins
- 32px - major sections

**Performance:**
- Avoid layout thrashing
- Use CSS transforms instead of position
- Debounce expensive operations (volume changes, etc.)
- Use requestAnimationFrame for animations

---

## ‚úÖ CHECKLIST

### –ú–æ–±–∏–ª—å–Ω—ã–π UI
- [ ] UnifiedStudioMobile component
- [ ] Tab navigation (Player, Sections, Vocals, MIDI, Mixer, Actions)
- [ ] Touch-optimized controls (44x44px min)
- [ ] Swipe gestures (left/right for skip, up/down for expand)
- [ ] Pinch-to-zoom –Ω–∞ timeline
- [ ] Pull-to-refresh
- [ ] Haptic feedback (Telegram API)
- [ ] Safe area support (notch, bottom bar)

### Features
- [ ] Player Tab (waveform, controls, progress)
- [ ] Sections Tab (selection, replacement, A/B compare)
- [ ] Vocals Tab (add vocals, existing stems, lyrics)
- [ ] MIDI Tab (transcription, formats, preview)
- [ ] Mixer Tab (stems, volume, mute/solo, effects)
- [ ] Actions Tab (trim, extend, remix, export, arrange)

### Optimization
- [ ] Lazy loading tabs
- [ ] Virtualized lists (react-virtuoso)
- [ ] Lazy waveforms (only visible)
- [ ] Audio fallback (max 4-6 tracks on mobile)
- [ ] Code splitting
- [ ] Bundle size < 400KB (gzipped)

### UX/UI
- [ ] Tutorial overlay (first time)
- [ ] Contextual tooltips
- [ ] Loading states (skeleton screens)
- [ ] Error states (retry buttons)
- [ ] Success feedback (toast, haptic)
- [ ] Smooth animations (framer-motion)

### Testing
- [ ] iPhone (Safari)
- [ ] Android (Chrome)
- [ ] iPad (Safari)
- [ ] Telegram iOS
- [ ] Telegram Android
- [ ] Performance profiling
- [ ] Accessibility (screen readers, contrast)

### Documentation
- [ ] Component API docs
- [ ] Mobile architecture guide
- [ ] Gesture reference
- [ ] Performance tips
- [ ] Testing guide

---

## üéâ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

–£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è —Å—Ç—É–¥–∏–∏ —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å - **–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞—è –∑–∞–¥–∞—á–∞** –¥–ª—è AI MusicVerse.

**–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ:**
1. **80%+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** –∏—Å–ø–æ–ª—å–∑—É—é—Ç –º–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (Telegram)
2. **–¢–µ–∫—É—â–∏–π UI** –Ω–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è —Å–µ–Ω—Å–æ—Ä–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
3. **MobileStudioLayout —Å–æ–∑–¥–∞–Ω**, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
4. **–î–≤–µ —Å—Ç—É–¥–∏–∏** –¥—É–±–ª–∏—Ä—É—é—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

**–û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ –ï–¥–∏–Ω—ã–π –º–æ–±–∏–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (< 400KB bundle)
- ‚úÖ –õ—É—á—à–∏–π UX (–∂–µ—Å—Ç—ã, haptic, smooth animations)
- ‚úÖ –ü–æ–≤—ã—à–µ–Ω–∏–µ engagement –Ω–∞ 30-50%

**–ù–∞—á–∏–Ω–∞–µ–º —Å —Å–æ–∑–¥–∞–Ω–∏—è `UnifiedStudioMobile.tsx`!** üöÄ

---

**–ê–≤—Ç–æ—Ä:** Claude Code
**–í–µ—Ä—Å–∏—è:** 1.0
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 30 –¥–µ–∫–∞–±—Ä—è 2025
