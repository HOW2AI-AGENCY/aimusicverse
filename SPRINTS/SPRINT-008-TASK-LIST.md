# –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –¥–ª—è –°–ø—Ä–∏–Ω—Ç–∞ 008

**–°–ø—Ä–∏–Ω—Ç**: 008 - Library & Player MVP (User Stories 1 & 2)  
**–ü–µ—Ä–∏–æ–¥**: 2025-12-15 - 2025-12-29 (2 –Ω–µ–¥–µ–ª–∏)  
**–¶–µ–ª—å**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–ª–µ–µ—Ä–∞

---

## üìä –ü—Ä–æ–≥—Ä–µ—Å—Å —Å–ø—Ä–∏–Ω—Ç–∞

**–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å**: 0% (0/22 –∑–∞–¥–∞—á–∏)

- ‚è≥ **–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ**: 22 –∑–∞–¥–∞—á–∏
- üîÑ **–í —Ä–∞–±–æ—Ç–µ**: 0 –∑–∞–¥–∞—á
- ‚úÖ **–ó–∞–≤–µ—Ä—à–µ–Ω–æ**: 0 –∑–∞–¥–∞—á

---

## üéØ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ (User Stories)

### User Story 1: Library Mobile Redesign & Versioning (P1)
**–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–±–∏–ª—å–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞**, —è —Ö–æ—á—É –≤–∏–¥–µ—Ç—å –∫–æ–º–ø–∞–∫—Ç–Ω—É—é, —É–¥–æ–±–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤–µ—Ä—Å–∏–π —Ç—Ä–µ–∫–æ–≤, —á—Ç–æ–±—ã —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–µ–π –º—É–∑—ã–∫–æ–π –æ–¥–Ω–æ–π —Ä—É–∫–æ–π.

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏**:
1. ‚úÖ TrackCard –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è—Ö 320px-1920px
2. ‚úÖ Touch targets –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ ‚â•44√ó44px
3. ‚úÖ Swipe gestures —Ä–∞–±–æ—Ç–∞—é—Ç —Å haptic feedback
4. ‚úÖ –í–µ—Ä—Å–∏–∏ —Ç—Ä–µ–∫–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å –±–µ–π–¥–∂–∞–º–∏
5. ‚úÖ Master –≤–µ—Ä—Å–∏—è –ø–æ–º–µ—á–µ–Ω–∞ –≤–∏–∑—É–∞–ª—å–Ω–æ
6. ‚úÖ List/Grid —Ä–µ–∂–∏–º—ã –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Ç—Å—è –ø–ª–∞–≤–Ω–æ
7. ‚úÖ Lazy loading —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ —Å–∫–µ–ª–µ—Ç–æ–Ω–∞–º–∏
8. ‚úÖ Lighthouse Mobile Score >90

### User Story 2: Player Mobile Optimization (P1)
**–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–±–∏–ª—å–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞**, —è —Ö–æ—á—É –∏–º–µ—Ç—å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –ø–ª–µ–µ—Ä —Å —Ç—Ä–µ–º—è —Ä–µ–∂–∏–º–∞–º–∏ (–∫–æ–º–ø–∞–∫—Ç–Ω—ã–π/—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π/–ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π), —á—Ç–æ–±—ã —Å–ª—É—à–∞—Ç—å –º—É–∑—ã–∫—É –±–µ–∑ –æ—Ç—Ä—ã–≤–∞ –æ—Ç –¥—Ä—É–≥–∏—Ö –∑–∞–¥–∞—á.

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏**:
1. ‚úÖ CompactPlayer –∑–∞–Ω–∏–º–∞–µ—Ç 64px
2. ‚úÖ ExpandedPlayer –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å–≤–∞–π–ø–æ–º –≤–≤–µ—Ä—Ö
3. ‚úÖ FullscreenPlayer –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ª–∏—Ä–∏–∫—É
4. ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –∫–∞—Å–∞–Ω–∏–µ
5. ‚úÖ QueueSheet –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç drag-to-reorder
6. ‚úÖ Shuffle –∏ repeat —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
7. ‚úÖ Smooth animations 60fps

---

## üìã –ó–∞–¥–∞—á–∏ User Story 1: Library (10 –∑–∞–¥–∞—á)

### US1-T01: TrackCard Mobile Redesign üî¥ –ö–†–ò–¢–ò–ß–ù–û
- **–°—Ç–∞—Ç—É—Å**: ‚è≥ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ
- **–§–∞–π–ª**: `src/components/library/TrackCard.tsx`
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P0
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: Sprint 007 –∑–∞–≤–µ—Ä—à–µ–Ω

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç TrackCard –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ —Å touch-friendly –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
- Touch targets –º–∏–Ω–∏–º—É–º 44√ó44px
- Swipe gestures (—Å–≤–∞–π–ø –≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ)
- Haptic feedback –ø—Ä–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏
- Mobile-first layout (320px ‚Üí 1920px)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Grid –∏ List —Ä–µ–∂–∏–º–æ–≤

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```tsx
// src/components/library/TrackCard.tsx
import { motion } from 'framer-motion';
import { useTelegram } from '@/hooks/useTelegram';

export function TrackCard({ track }: { track: Track }) {
  const { hapticFeedback } = useTelegram();
  
  const handleSwipeLeft = () => {
    hapticFeedback('impact', 'medium');
    // –î–µ–π—Å—Ç–≤–∏–µ: –¥–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
  };
  
  const handleSwipeRight = () => {
    hapticFeedback('impact', 'medium');
    // –î–µ–π—Å—Ç–≤–∏–µ: —É–¥–∞–ª–∏—Ç—å
  };
  
  return (
    <motion.div
      drag="x"
      dragConstraints={{ left: -100, right: 100 }}
      onDragEnd={(e, { offset }) => {
        if (offset.x < -50) handleSwipeLeft();
        if (offset.x > 50) handleSwipeRight();
      }}
      className="min-h-[88px] touch-manipulation"
    >
      {/* Track content */}
    </motion.div>
  );
}
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
- [ ] Touch targets ‚â•44√ó44px (–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: Chrome DevTools)
- [ ] Swipe —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–ª–∞–≤–Ω–æ –Ω–∞ 320px-1920px
- [ ] Haptic feedback —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç (—Ç–µ—Å—Ç –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ)
- [ ] Grid —Ä–µ–∂–∏–º: 2 –∫–æ–ª–æ–Ω–∫–∏ –Ω–∞ mobile, 3+ –Ω–∞ tablet/desktop
- [ ] List —Ä–µ–∂–∏–º: 1 –∫–æ–ª–æ–Ω–∫–∞, –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π layout

---

### US1-T02: TrackRow Component [P]
- **–°—Ç–∞—Ç—É—Å**: ‚è≥ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ
- **–§–∞–π–ª**: `src/components/library/TrackRow.tsx` (—Å–æ–∑–¥–∞—Ç—å)
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P0
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –ù–µ—Ç (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å T01)

**–û–ø–∏—Å–∞–Ω–∏–µ**: –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –∫–æ–º–ø–∞–∫—Ç–Ω–æ–≥–æ —Å—Ç—Ä–æ—á–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç—Ä–µ–∫–∞ –≤ list —Ä–µ–∂–∏–º–µ.

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
- –í—ã—Å–æ—Ç–∞: 56-64px
- Compact layout: cover (48x48) + info + actions
- Touch-friendly –∫–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π
- –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –±–µ–∑ –ª–∞–≥–æ–≤

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```tsx
// src/components/library/TrackRow.tsx
export function TrackRow({ track }: { track: Track }) {
  return (
    <div className="flex items-center gap-3 h-16 px-4 touch-manipulation">
      <img 
        src={track.cover_url} 
        className="w-12 h-12 rounded"
        loading="lazy"
      />
      <div className="flex-1 min-w-0">
        <p className="text-sm font-medium truncate">{track.title}</p>
        <p className="text-xs text-muted-foreground truncate">{track.style}</p>
      </div>
      <button className="w-11 h-11 touch-manipulation">
        {/* Play button */}
      </button>
      <button className="w-11 h-11 touch-manipulation">
        {/* More actions */}
      </button>
    </div>
  );
}
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
- [ ] –í—ã—Å–æ—Ç–∞ —Ä–æ–≤–Ω–æ 64px
- [ ] –¢–µ–∫—Å—Ç –Ω–µ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã (truncate)
- [ ] –ö–Ω–æ–ø–∫–∏ ‚â•44√ó44px
- [ ] –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è lazy loading

---

### US1-T03: VersionBadge Component [P]
- **–°—Ç–∞—Ç—É—Å**: ‚è≥ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ
- **–§–∞–π–ª**: `src/components/library/VersionBadge.tsx` (—Å–æ–∑–¥–∞—Ç—å)
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P0
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –ù–µ—Ç

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ë–µ–π–¥–∂ —Å –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤–µ—Ä—Å–∏–π –∏ –æ—Ç–º–µ—Ç–∫–æ–π master –≤–µ—Ä—Å–∏–∏.

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–µ—Ä—Å–∏–π: "v1", "v3 (5 versions)"
- Master –≤–µ—Ä—Å–∏—è: –∑–æ–ª–æ—Ç–∞—è –∑–≤–µ–∑–¥–∞ ‚≠ê
- –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ä–∞–∑–º–µ—Ä: ~24-32px –≤—ã—Å–æ—Ç–∞
- Clickable: –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç VersionSwitcher

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```tsx
// src/components/library/VersionBadge.tsx
import { Badge } from '@/components/ui/badge';

export function VersionBadge({ 
  versionNumber, 
  versionCount, 
  isMaster,
  onClick 
}: VersionBadgeProps) {
  return (
    <Badge 
      variant={isMaster ? 'default' : 'secondary'}
      className="text-xs cursor-pointer touch-manipulation min-h-[28px]"
      onClick={onClick}
    >
      {isMaster && '‚≠ê '}
      v{versionNumber}
      {versionCount > 1 && ` (${versionCount})`}
    </Badge>
  );
}
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
- [ ] –ë–µ–π–¥–∂ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–π (‚â•44√ó44px touch area)
- [ ] Master –≤–µ—Ä—Å–∏—è –≤–∏–∑—É–∞–ª—å–Ω–æ –≤—ã–¥–µ–ª–µ–Ω–∞
- [ ] –¢–µ–∫—Å—Ç —á–∏—Ç–∞–µ—Ç—Å—è –Ω–∞ –≤—Å–µ—Ö —Ç–µ–º–∞—Ö (light/dark)

---

### US1-T04: VersionSwitcher Component
- **–°—Ç–∞—Ç—É—Å**: ‚è≥ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ
- **–§–∞–π–ª**: `src/components/library/VersionSwitcher.tsx` (—Å–æ–∑–¥–∞—Ç—å)
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P0
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: T03 (VersionBadge), useTrackVersions, useVersionSwitcher hooks

**–û–ø–∏—Å–∞–Ω–∏–µ**: UI –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏ —Ç—Ä–µ–∫–∞ —Å dropdown –∏–ª–∏ bottom sheet.

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
- Desktop: Dropdown menu
- Mobile: Bottom Sheet (–±–æ–ª–µ–µ —É–¥–æ–±–Ω–æ)
- –°–ø–∏—Å–æ–∫ –≤–µ—Ä—Å–∏–π —Å –¥–µ—Ç–∞–ª—è–º–∏ (–¥–∞—Ç–∞, —Ä–∞–∑–º–µ—Ä)
- –ö–Ω–æ–ø–∫–∞ "Set as Master"
- –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```tsx
// src/components/library/VersionSwitcher.tsx
import { Sheet, SheetContent, SheetHeader, SheetTitle } from '@/components/ui/sheet';
import { useTrackVersions } from '@/hooks/useTrackVersions';
import { useVersionSwitcher } from '@/hooks/useVersionSwitcher';

export function VersionSwitcher({ trackId, open, onOpenChange }: Props) {
  const { data: versions, isLoading } = useTrackVersions(trackId);
  const { switchToVersion, setPrimaryVersion } = useVersionSwitcher(trackId);
  
  return (
    <Sheet open={open} onOpenChange={onOpenChange}>
      <SheetContent side="bottom" className="h-[60vh]">
        <SheetHeader>
          <SheetTitle>Select Version</SheetTitle>
        </SheetHeader>
        
        <div className="space-y-2 mt-4">
          {versions?.map(version => (
            <div key={version.id} className="flex items-center gap-3 p-3 border rounded">
              <div className="flex-1">
                <p className="font-medium">v{version.version_number}</p>
                <p className="text-xs text-muted-foreground">
                  {formatDate(version.created_at)} ‚Ä¢ {formatSize(version.file_size_bytes)}
                </p>
              </div>
              
              {version.is_primary && <Badge>Primary</Badge>}
              
              <Button 
                size="sm"
                onClick={() => switchToVersion(version.id)}
                className="touch-manipulation"
              >
                Use This
              </Button>
            </div>
          ))}
        </div>
      </SheetContent>
    </Sheet>
  );
}
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
- [ ] Bottom sheet –ø–ª–∞–≤–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- [ ] –í–µ—Ä—Å–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å –¥–µ—Ç–∞–ª—è–º–∏
- [ ] –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–º–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏
- [ ] UI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è

---

### US1-T05: TrackTypeIcons Component [P]
- **–°—Ç–∞—Ç—É—Å**: ‚è≥ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ
- **–§–∞–π–ª**: `src/components/library/TrackTypeIcons.tsx` (—Å–æ–∑–¥–∞—Ç—å)
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P1
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –ù–µ—Ç

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ò–∫–æ–Ω–∫–∏ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–∏ —Ç–∏–ø–∞ —Ç—Ä–µ–∫–∞ (–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª, –≤–æ–∫–∞–ª, —Å—Ç–µ–º—ã).

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
- –ò–∫–æ–Ω–∫–∏: üéµ (vocal), üé∏ (instrumental), üéõÔ∏è (stems)
- –†–∞–∑–º–µ—Ä: 16√ó16px
- Tooltip –ø—Ä–∏ hover
- –ì—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```tsx
// src/components/library/TrackTypeIcons.tsx
export function TrackTypeIcons({ track }: { track: Track }) {
  return (
    <div className="flex gap-1">
      {track.has_vocals && (
        <Tooltip content="Has vocals">
          <Music className="w-4 h-4 text-blue-500" />
        </Tooltip>
      )}
      {track.is_instrumental && (
        <Tooltip content="Instrumental">
          <Guitar className="w-4 h-4 text-green-500" />
        </Tooltip>
      )}
      {track.has_stems && (
        <Tooltip content="Stems available">
          <Sliders className="w-4 h-4 text-purple-500" />
        </Tooltip>
      )}
    </div>
  );
}
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
- [ ] –ò–∫–æ–Ω–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] Tooltip —Ä–∞–±–æ—Ç–∞–µ—Ç (desktop)
- [ ] –¶–≤–µ—Ç–∞ —Ä–∞–∑–ª–∏—á–∏–º—ã –Ω–∞ –≤—Å–µ—Ö —Ç–µ–º–∞—Ö

---

### US1-T06: Library Page Update
- **–°—Ç–∞—Ç—É—Å**: ‚è≥ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ
- **–§–∞–π–ª**: `src/pages/Library.tsx`
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P0
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: T01-T05 (–≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Library)

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ Library page, –¥–æ–±–∞–≤–∏—Ç—å backend —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é, lazy loading.

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
- –†–µ–∂–∏–º—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è: Grid / List (–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ)
- Backend —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
- Infinite scroll —Å lazy loading
- Skeleton loaders –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- Search –∏ —Ñ–∏–ª—å—Ç—Ä—ã

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```tsx
// src/pages/Library.tsx (–æ–±–Ω–æ–≤–∏—Ç—å)
import { useInfiniteQuery } from '@tanstack/react-query';
import { TrackCard } from '@/components/library/TrackCard';
import { TrackRow } from '@/components/library/TrackRow';
import { SkeletonLoader } from '@/components/ui/skeleton-loader';

export default function Library() {
  const [viewMode, setViewMode] = useState<'grid' | 'list'>('grid');
  
  const {
    data,
    fetchNextPage,
    hasNextPage,
    isFetchingNextPage,
    isLoading
  } = useInfiniteQuery({
    queryKey: ['tracks', filters],
    queryFn: ({ pageParam = 0 }) => fetchTracks({ page: pageParam, ...filters }),
    getNextPageParam: (lastPage) => lastPage.nextPage
  });
  
  return (
    <div className="p-4">
      {/* Header with view mode toggle */}
      <div className="flex justify-between mb-4">
        <h1>Library</h1>
        <ToggleGroup value={viewMode} onValueChange={setViewMode}>
          <ToggleGroupItem value="grid">Grid</ToggleGroupItem>
          <ToggleGroupItem value="list">List</ToggleGroupItem>
        </ToggleGroup>
      </div>
      
      {/* Track list */}
      <div className={viewMode === 'grid' ? 'grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4' : 'space-y-2'}>
        {isLoading ? (
          <SkeletonLoader count={8} type={viewMode === 'grid' ? 'card' : 'row'} />
        ) : (
          data?.pages.flatMap(page => 
            page.tracks.map(track => 
              viewMode === 'grid' 
                ? <TrackCard key={track.id} track={track} />
                : <TrackRow key={track.id} track={track} />
            )
          )
        )}
      </div>
      
      {/* Infinite scroll trigger */}
      {hasNextPage && (
        <div ref={loadMoreRef}>
          {isFetchingNextPage && <SkeletonLoader count={4} type={viewMode} />}
        </div>
      )}
    </div>
  );
}
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
- [ ] Grid/List —Ä–µ–∂–∏–º—ã –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Ç—Å—è
- [ ] Infinite scroll —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Backend —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –±—ã—Å—Ç—Ä–µ–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π
- [ ] Skeleton loaders –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

---

### US1-T07: Swipe Actions
- **–°—Ç–∞—Ç—É—Å**: ‚è≥ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ
- **–§–∞–π–ª**: `src/components/library/TrackCard.tsx`
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P1
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: T01 (TrackCard)

**–û–ø–∏—Å–∞–Ω–∏–µ**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å swipe-to-like, swipe-to-delete —Å haptic feedback.

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
- Swipe –≤–ª–µ–≤–æ: Like/Unlike
- Swipe –≤–ø—Ä–∞–≤–æ: Delete
- Haptic feedback –ø—Ä–∏ –¥–µ–π—Å—Ç–≤–∏–∏
- –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –ø—Ä–∏ —Å–≤–∞–π–ø–µ
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–ª—è delete

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```tsx
// –î–æ–±–∞–≤–∏—Ç—å –≤ TrackCard.tsx
const handleSwipe = (direction: 'left' | 'right') => {
  if (direction === 'left') {
    // Like action
    hapticFeedback('impact', 'light');
    toggleLike(track.id);
  } else {
    // Delete action - –ø–æ–∫–∞–∑–∞—Ç—å confirmation
    hapticFeedback('impact', 'heavy');
    setShowDeleteConfirm(true);
  }
};
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
- [ ] Swipe —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–ª–∞–≤–Ω–æ
- [ ] Haptic feedback –æ—â—É—Ç–∏–º –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
- [ ] Delete —Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- [ ] –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –ø–æ–Ω—è—Ç–Ω–∞

---

### US1-T08: Skeleton Loaders [P]
- **–°—Ç–∞—Ç—É—Å**: ‚è≥ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ
- **–§–∞–π–ª**: `src/components/ui/skeleton-loader.tsx` (—Å–æ–∑–¥–∞—Ç—å)
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P1
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –ù–µ—Ç

**–û–ø–∏—Å–∞–Ω–∏–µ**: –°–æ–∑–¥–∞—Ç—å —Å–∫–µ–ª–µ—Ç–æ–Ω—ã –¥–ª—è TrackCard –∏ TrackRow.

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```tsx
// src/components/ui/skeleton-loader.tsx
import { Skeleton } from '@/components/ui/skeleton';

export function SkeletonLoader({ count = 4, type = 'card' }: Props) {
  return (
    <>
      {Array.from({ length: count }).map((_, i) => (
        <div key={i}>
          {type === 'card' ? (
            <div className="space-y-2">
              <Skeleton className="h-48 w-full" />
              <Skeleton className="h-4 w-3/4" />
              <Skeleton className="h-3 w-1/2" />
            </div>
          ) : (
            <div className="flex items-center gap-3 h-16">
              <Skeleton className="w-12 h-12 rounded" />
              <div className="flex-1 space-y-2">
                <Skeleton className="h-4 w-3/4" />
                <Skeleton className="h-3 w-1/2" />
              </div>
            </div>
          )}
        </div>
      ))}
    </>
  );
}
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
- [ ] –°–∫–µ–ª–µ—Ç–æ–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ä–µ–∞–ª—å–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
- [ ] –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø–ª–∞–≤–Ω–∞—è

---

### US1-T09: Library Tests (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **–°—Ç–∞—Ç—É—Å**: ‚è≥ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ
- **–§–∞–π–ª**: `src/pages/Library.test.tsx` (—Å–æ–∑–¥–∞—Ç—å)
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P2
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: T01-T08

**–û–ø–∏—Å–∞–Ω–∏–µ**: Unit –∏ integration —Ç–µ—Å—Ç—ã –¥–ª—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.

**–¢–µ—Å—Ç—ã**:
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ Grid/List —Ä–µ–∂–∏–º–æ–≤
- –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–µ–∫–æ–≤
- Swipe actions
- Infinite scroll

---

### US1-T10: Library Mobile E2E (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **–°—Ç–∞—Ç—É—Å**: ‚è≥ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ
- **–§–∞–π–ª**: `tests/e2e/library.spec.ts` (—Å–æ–∑–¥–∞—Ç—å)
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P2
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: T01-T08

**–û–ø–∏—Å–∞–Ω–∏–µ**: E2E —Ç–µ—Å—Ç—ã —Å Playwright –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º viewport.

**–°—Ü–µ–Ω–∞—Ä–∏–∏**:
- –û—Ç–∫—Ä—ã—Ç—å Library –Ω–∞ 375√ó667px
- –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ List —Ä–µ–∂–∏–º
- –°–≤–∞–π–ø–Ω—É—Ç—å —Ç—Ä–µ–∫ –≤–ª–µ–≤–æ (like)
- –û—Ç–∫—Ä—ã—Ç—å VersionSwitcher
- –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –≤–µ—Ä—Å–∏—é

---

## üìã –ó–∞–¥–∞—á–∏ User Story 2: Player (12 –∑–∞–¥–∞—á)

### US2-T01: CompactPlayer Redesign [P]
- **–°—Ç–∞—Ç—É—Å**: ‚è≥ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ
- **–§–∞–π–ª**: `src/components/player/CompactPlayer.tsx`
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P0
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: usePlayerState hook

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –ø–ª–µ–µ—Ä –≤—ã—Å–æ—Ç–æ–π 64px –¥–ª—è bottom navigation.

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
- –í—ã—Å–æ—Ç–∞: —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è 64px
- Layout: cover (48√ó48) + track info + play/pause
- Swipe up ‚Üí ExpandedPlayer
- Tap ‚Üí ExpandedPlayer
- –ù–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç (fixed bottom)

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```tsx
// src/components/player/CompactPlayer.tsx
import { motion } from 'framer-motion';
import { usePlayerState } from '@/hooks/usePlayerState';

export function CompactPlayer() {
  const { state, play, pause, setMode } = usePlayerState();
  
  const handleSwipeUp = () => {
    setMode('expanded');
  };
  
  if (!state.currentTrack) return null;
  
  return (
    <motion.div
      className="fixed bottom-0 left-0 right-0 h-16 bg-background border-t z-40"
      drag="y"
      dragConstraints={{ top: 0, bottom: 0 }}
      onDragEnd={(e, { offset }) => {
        if (offset.y < -50) handleSwipeUp();
      }}
    >
      <div className="flex items-center gap-3 h-full px-4">
        <img 
          src={state.currentTrack.cover_url}
          className="w-12 h-12 rounded"
        />
        <div className="flex-1 min-w-0">
          <p className="text-sm font-medium truncate">{state.currentTrack.title}</p>
          <p className="text-xs text-muted-foreground truncate">{state.currentTrack.style}</p>
        </div>
        <button 
          onClick={() => state.isPlaying ? pause() : play()}
          className="w-11 h-11 touch-manipulation"
        >
          {state.isPlaying ? <Pause /> : <Play />}
        </button>
      </div>
    </motion.div>
  );
}
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
- [ ] –í—ã—Å–æ—Ç–∞ —Ä–æ–≤–Ω–æ 64px
- [ ] Swipe up –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç ExpandedPlayer
- [ ] –ù–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- [ ] Play/pause —Ä–∞–±–æ—Ç–∞–µ—Ç

---

### US2-T02: ExpandedPlayer Component [P]
- **–°—Ç–∞—Ç—É—Å**: ‚è≥ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ
- **–§–∞–π–ª**: `src/components/player/ExpandedPlayer.tsx` (—Å–æ–∑–¥–∞—Ç—å)
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P0
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: usePlayerState, PlaybackControls, ProgressBar

**–û–ø–∏—Å–∞–Ω–∏–µ**: –°—Ä–µ–¥–Ω–∏–π —Ä–µ–∂–∏–º –ø–ª–µ–µ—Ä–∞ (~40% viewport) —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –∫–æ–Ω—Ç—Ä–æ–ª–∞–º–∏.

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
- –í—ã—Å–æ—Ç–∞: ~40vh (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è)
- Bottom sheet –¥–∏–∑–∞–π–Ω
- Swipe down ‚Üí CompactPlayer
- Swipe up ‚Üí FullscreenPlayer
- Cover, progress bar, controls, queue button

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```tsx
// src/components/player/ExpandedPlayer.tsx
import { Sheet, SheetContent } from '@/components/ui/sheet';
import { usePlayerState } from '@/hooks/usePlayerState';
import { PlaybackControls } from './PlaybackControls';
import { ProgressBar } from './ProgressBar';

export function ExpandedPlayer() {
  const { state, setMode } = usePlayerState();
  const isExpanded = state.mode === 'expanded';
  
  return (
    <Sheet open={isExpanded} onOpenChange={(open) => setMode(open ? 'expanded' : 'compact')}>
      <SheetContent side="bottom" className="h-[40vh]">
        <div className="flex flex-col h-full justify-between">
          {/* Cover art */}
          <div className="flex justify-center">
            <img 
              src={state.currentTrack?.cover_url}
              className="w-32 h-32 rounded-lg shadow-lg"
            />
          </div>
          
          {/* Track info */}
          <div className="text-center">
            <h3 className="font-semibold text-lg">{state.currentTrack?.title}</h3>
            <p className="text-sm text-muted-foreground">{state.currentTrack?.style}</p>
          </div>
          
          {/* Progress bar */}
          <ProgressBar 
            current={state.currentTime}
            duration={state.duration}
          />
          
          {/* Playback controls */}
          <PlaybackControls />
        </div>
      </SheetContent>
    </Sheet>
  );
}
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
- [ ] –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–ª–∞–≤–Ω–æ (–∞–Ω–∏–º–∞—Ü–∏—è)
- [ ] Swipe down –∑–∞–∫—Ä—ã–≤–∞–µ—Ç
- [ ] Swipe up –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Fullscreen
- [ ] –ö–æ–Ω—Ç—Ä–æ–ª—ã —Ä–∞–±–æ—Ç–∞—é—Ç

---

### US2-T03: FullscreenPlayer Redesign [P]
- **–°—Ç–∞—Ç—É—Å**: ‚è≥ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ
- **–§–∞–π–ª**: `src/components/player/FullscreenPlayer.tsx`
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P0
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: TimestampedLyrics, PlaybackControls, QueueSheet

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ª–∏—Ä–∏–∫–æ–π –∏ –≤—Å–µ–º–∏ –∫–æ–Ω—Ç—Ä–æ–ª–∞–º–∏.

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
- Fullscreen (100vh)
- Large cover art
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ª–∏—Ä–∏–∫–∞ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–∞)
- Waveform visualization (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –í—Å–µ –∫–æ–Ω—Ç—Ä–æ–ª—ã: volume, queue, shuffle, repeat

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```tsx
// src/components/player/FullscreenPlayer.tsx
export function FullscreenPlayer() {
  const { state, setMode } = usePlayerState();
  const [showLyrics, setShowLyrics] = useState(true);
  const isFullscreen = state.mode === 'fullscreen';
  
  if (!isFullscreen) return null;
  
  return (
    <div className="fixed inset-0 bg-background z-50 flex flex-col">
      {/* Header */}
      <div className="flex justify-between p-4">
        <button onClick={() => setMode('expanded')}>
          <ChevronDown />
        </button>
        <button onClick={() => setShowLyrics(!showLyrics)}>
          <Music />
        </button>
      </div>
      
      {/* Cover or Lyrics */}
      <div className="flex-1 overflow-auto p-6">
        {showLyrics && state.currentTrack?.lyrics ? (
          <TimestampedLyrics 
            lyrics={state.currentTrack.lyrics}
            currentTime={state.currentTime}
          />
        ) : (
          <img 
            src={state.currentTrack?.cover_url}
            className="w-full max-w-sm mx-auto rounded-xl shadow-2xl"
          />
        )}
      </div>
      
      {/* Progress and Controls */}
      <div className="p-6 space-y-4">
        <ProgressBar />
        <PlaybackControls size="large" />
        <VolumeControl />
      </div>
    </div>
  );
}
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
- [ ] Fullscreen —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –õ–∏—Ä–∏–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è
- [ ] Swipe down –∑–∞–∫—Ä—ã–≤–∞–µ—Ç
- [ ] –í—Å–µ –∫–æ–Ω—Ç—Ä–æ–ª—ã –¥–æ—Å—Ç—É–ø–Ω—ã

---

### US2-T04: PlaybackControls Component [P]
- **–°—Ç–∞—Ç—É—Å**: ‚è≥ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ
- **–§–∞–π–ª**: `src/components/player/PlaybackControls.tsx` (—Å–æ–∑–¥–∞—Ç—å)
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P0
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: usePlayerState, usePlaybackQueue

**–û–ø–∏—Å–∞–Ω–∏–µ**: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª—ã –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è.

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
- –ö–Ω–æ–ø–∫–∏: Previous, Play/Pause, Next
- Shuffle, Repeat toggles
- Touch-friendly (‚â•44√ó44px)
- Responsive sizes: compact, medium, large

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```tsx
// src/components/player/PlaybackControls.tsx
export function PlaybackControls({ size = 'medium' }: Props) {
  const { state, play, pause } = usePlayerState();
  const { previous, next, toggleShuffle, setRepeatMode } = usePlaybackQueue();
  
  const buttonSize = {
    compact: 'w-8 h-8',
    medium: 'w-11 h-11',
    large: 'w-14 h-14'
  }[size];
  
  return (
    <div className="flex items-center justify-center gap-4">
      <button onClick={toggleShuffle} className={buttonSize}>
        <Shuffle className={state.queue.shuffle ? 'text-primary' : ''} />
      </button>
      
      <button onClick={previous} className={buttonSize}>
        <SkipBack />
      </button>
      
      <button 
        onClick={() => state.isPlaying ? pause() : play()}
        className={`${buttonSize} bg-primary text-primary-foreground rounded-full`}
      >
        {state.isPlaying ? <Pause /> : <Play />}
      </button>
      
      <button onClick={next} className={buttonSize}>
        <SkipForward />
      </button>
      
      <button onClick={() => setRepeatMode(cycleRepeat(state.queue.repeat))} className={buttonSize}>
        <Repeat className={state.queue.repeat !== 'off' ? 'text-primary' : ''} />
      </button>
    </div>
  );
}
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
- [ ] –í—Å–µ –∫–Ω–æ–ø–∫–∏ ‚â•44√ó44px
- [ ] Shuffle/Repeat –≤–∏–∑—É–∞–ª—å–Ω–æ –∞–∫—Ç–∏–≤–Ω—ã
- [ ] Previous/Next —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] Play/Pause –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è

---

### US2-T05: ProgressBar Component [P]
- **–°—Ç–∞—Ç—É—Å**: ‚è≥ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ
- **–§–∞–π–ª**: `src/components/player/ProgressBar.tsx` (—Å–æ–∑–¥–∞—Ç—å)
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P0
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: usePlayerState

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä —Å seek –∏ buffering –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º.

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
- Touch-friendly: –≤—ã—Å–æ—Ç–∞ ‚â•44px touch area
- Drag to seek
- Tap to seek
- Buffering indicator
- Time labels (current / total)

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```tsx
// src/components/player/ProgressBar.tsx
export function ProgressBar() {
  const { state, seek } = usePlayerState();
  
  const handleSeek = (e: React.PointerEvent<HTMLDivElement>) => {
    const rect = e.currentTarget.getBoundingClientRect();
    const percent = (e.clientX - rect.left) / rect.width;
    const newTime = percent * state.duration;
    seek(newTime);
  };
  
  return (
    <div className="space-y-2">
      <div 
        className="relative h-1 bg-secondary rounded-full cursor-pointer touch-manipulation"
        onClick={handleSeek}
        style={{ minHeight: '44px', paddingTop: '21px', paddingBottom: '21px' }}
      >
        <div className="absolute top-1/2 left-0 right-0 h-1 -translate-y-1/2 bg-secondary rounded-full">
          <div 
            className="h-full bg-primary rounded-full transition-all"
            style={{ width: `${(state.currentTime / state.duration) * 100}%` }}
          />
        </div>
      </div>
      
      <div className="flex justify-between text-xs text-muted-foreground">
        <span>{formatTime(state.currentTime)}</span>
        <span>{formatTime(state.duration)}</span>
      </div>
    </div>
  );
}
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
- [ ] Seek —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ touch
- [ ] –ü—Ä–æ–≥—Ä–µ—Å—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–ª–∞–≤–Ω–æ
- [ ] Time labels –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

---

### US2-T06: QueueSheet Component [P]
- **–°—Ç–∞—Ç—É—Å**: ‚è≥ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ
- **–§–∞–π–ª**: `src/components/player/QueueSheet.tsx` (—Å–æ–∑–¥–∞—Ç—å)
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P1
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: usePlaybackQueue, QueueItem

**–û–ø–∏—Å–∞–Ω–∏–µ**: Bottom sheet —Å –æ—á–µ—Ä–µ–¥—å—é –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è.

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
- Drag-to-reorder tracks
- Swipe-to-remove
- Current track highlight
- Clear queue button

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```tsx
// src/components/player/QueueSheet.tsx
import { DndContext, closestCenter } from '@dnd-kit/core';
import { SortableContext, verticalListSortingStrategy } from '@dnd-kit/sortable';

export function QueueSheet({ open, onOpenChange }: Props) {
  const { queue, reorderQueue, removeFromQueue } = usePlaybackQueue();
  
  return (
    <Sheet open={open} onOpenChange={onOpenChange}>
      <SheetContent side="bottom" className="h-[70vh]">
        <SheetHeader>
          <SheetTitle>Queue ({queue.items.length})</SheetTitle>
        </SheetHeader>
        
        <DndContext onDragEnd={handleDragEnd}>
          <SortableContext items={queue.items} strategy={verticalListSortingStrategy}>
            {queue.items.map((track, index) => (
              <QueueItem 
                key={track.id}
                track={track}
                isCurrentTrack={index === queue.currentIndex}
                onRemove={() => removeFromQueue(index)}
              />
            ))}
          </SortableContext>
        </DndContext>
      </SheetContent>
    </Sheet>
  );
}
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
- [ ] Drag-to-reorder —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Swipe-to-remove —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Current track –≤—ã–¥–µ–ª–µ–Ω
- [ ] Smooth animations

---

### US2-T07: QueueItem Component [P]
- **–°—Ç–∞—Ç—É—Å**: ‚è≥ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ
- **–§–∞–π–ª**: `src/components/player/QueueItem.tsx` (—Å–æ–∑–¥–∞—Ç—å)
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P1
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –ù–µ—Ç

**–û–ø–∏—Å–∞–Ω–∏–µ**: –≠–ª–µ–º–µ–Ω—Ç –æ—á–µ—Ä–µ–¥–∏ —Å drag handle –∏ swipe-to-remove.

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```tsx
// src/components/player/QueueItem.tsx
import { useSortable } from '@dnd-kit/sortable';

export function QueueItem({ track, isCurrentTrack, onRemove }: Props) {
  const { attributes, listeners, setNodeRef, transform } = useSortable({ id: track.id });
  
  return (
    <div 
      ref={setNodeRef}
      className={`flex items-center gap-3 p-3 ${isCurrentTrack ? 'bg-accent' : ''}`}
    >
      <div {...attributes} {...listeners} className="touch-manipulation cursor-grab">
        <GripVertical className="w-5 h-5" />
      </div>
      
      <img src={track.cover_url} className="w-10 h-10 rounded" />
      
      <div className="flex-1 min-w-0">
        <p className="text-sm font-medium truncate">{track.title}</p>
        <p className="text-xs text-muted-foreground truncate">{track.style}</p>
      </div>
      
      <button onClick={onRemove} className="w-9 h-9 touch-manipulation">
        <X className="w-4 h-4" />
      </button>
    </div>
  );
}
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
- [ ] Drag handle —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Remove button —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] isCurrentTrack –≤—ã–¥–µ–ª—è–µ—Ç—Å—è

---

### US2-T08: TimestampedLyrics Update
- **–°—Ç–∞—Ç—É—Å**: ‚è≥ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ
- **–§–∞–π–ª**: `src/components/player/TimestampedLyrics.tsx`
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P1
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –ù–µ—Ç

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –∏ –≤–∏–¥–∏–º–æ—Å—Ç—å –ª–∏—Ä–∏–∫–∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö.

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
- Word-by-word highlight
- Auto-scroll to current line
- Mobile-optimized layout
- Fallback –¥–ª—è —Ç—Ä–µ–∫–æ–≤ –±–µ–∑ timestamps

**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
- [ ] –õ–∏—Ä–∏–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è
- [ ] Auto-scroll —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ß–∏—Ç–∞–µ—Ç—Å—è –Ω–∞ mobile

---

### US2-T09: Player State Management
- **–°—Ç–∞—Ç—É—Å**: ‚è≥ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ
- **–§–∞–π–ª**: `src/hooks/usePlayerState.ts`
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P0
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: Sprint 007 (hooks –≥–æ—Ç–æ–≤—ã)

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è usePlayerState –∏ usePlaybackQueue —Ö—É–∫–æ–≤ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.

**–ó–∞–¥–∞—á–∏**:
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å usePlayerState –≤ –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–ª–µ–µ—Ä–∞
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å usePlaybackQueue –≤ QueueSheet
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ state transitions
- Persist state –≤ localStorage

**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
- [ ] State —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- [ ] Queue –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
- [ ] State —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ

---

### US2-T10: Player Transitions
- **–°—Ç–∞—Ç—É—Å**: ‚è≥ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ
- **–§–∞–π–ª**: `src/components/player/` (–≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P1
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: T01-T03 (–≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–ª–µ–µ—Ä–∞)

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏ –ø–ª–µ–µ—Ä–∞ —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏.

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
- Framer Motion –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π
- Smooth transitions (60fps)
- Spring physics
- Gesture-based transitions

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```tsx
// –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–ª–µ–µ—Ä–∞
const variants = {
  compact: { height: '64px', opacity: 1 },
  expanded: { height: '40vh', opacity: 1 },
  fullscreen: { height: '100vh', opacity: 1 }
};

<motion.div
  initial={false}
  animate={state.mode}
  variants={variants}
  transition={{ type: 'spring', damping: 30, stiffness: 300 }}
>
  {/* Player content */}
</motion.div>
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
- [ ] Transitions –ø–ª–∞–≤–Ω—ã–µ (60fps)
- [ ] –ù–µ—Ç –ª–∞–≥–æ–≤ –ø—Ä–∏ —Å–≤–∞–π–ø–µ
- [ ] Spring animation –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–∞—è

---

### US2-T11: Player Tests (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **–°—Ç–∞—Ç—É—Å**: ‚è≥ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ
- **–§–∞–π–ª—ã**: `src/components/player/*.test.tsx` (—Å–æ–∑–¥–∞—Ç—å)
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P2

**–¢–µ—Å—Ç—ã**:
- PlaybackControls: play/pause, next/prev, shuffle, repeat
- ProgressBar: seek, time display
- QueueSheet: drag-to-reorder, remove

---

### US2-T12: Player Mobile E2E (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **–°—Ç–∞—Ç—É—Å**: ‚è≥ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ
- **–§–∞–π–ª**: `tests/e2e/player.spec.ts` (—Å–æ–∑–¥–∞—Ç—å)
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P2

**–°—Ü–µ–Ω–∞—Ä–∏–∏**:
- –û—Ç–∫—Ä—ã—Ç—å –ø–ª–µ–µ—Ä –≤ Compact —Ä–µ–∂–∏–º–µ
- –°–≤–∞–π–ø –≤–≤–µ—Ä—Ö ‚Üí Expanded
- –°–≤–∞–π–ø –≤–≤–µ—Ä—Ö ‚Üí Fullscreen
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ–º
- Drag-to-reorder –≤ –æ—á–µ—Ä–µ–¥–∏

---

## üéØ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏ —Å–ø—Ä–∏–Ω—Ç–∞

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- [ ] –í—Å–µ –∑–∞–¥–∞—á–∏ US1 (1-10) –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- [ ] –í—Å–µ –∑–∞–¥–∞—á–∏ US2 (1-12) –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- [ ] TrackCard –∏ TrackRow —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ 320px-1920px
- [ ] –ü–ª–µ–µ—Ä –∏–º–µ–µ—Ç 3 —Ä–µ–∂–∏–º–∞ (compact/expanded/fullscreen)
- [ ] –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–µ–∫–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Swipe gestures —Ä–∞–±–æ—Ç–∞—é—Ç —Å haptic feedback
- [ ] Queue management —Ä–∞–±–æ—Ç–∞–µ—Ç (drag-to-reorder)

### –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞
- [ ] Code review –ø—Ä–æ–π–¥–µ–Ω
- [ ] TypeScript: 0 –æ—à–∏–±–æ–∫ `tsc --noEmit`
- [ ] ESLint: 0 –æ—à–∏–±–æ–∫ `npm run lint`
- [ ] Prettier: –∫–æ–¥ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω `npm run format`
- [ ] Unit —Ç–µ—Å—Ç—ã: –ø–æ–∫—Ä—ã—Ç–∏–µ >80% (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### Performance
- [ ] Lighthouse Mobile Score >90
- [ ] FCP (First Contentful Paint) <2s –Ω–∞ 3G
- [ ] Smooth animations 60fps
- [ ] No layout shifts (CLS <0.1)

### Accessibility
- [ ] WCAG 2.1 AA compliance
- [ ] Touch targets ‚â•44√ó44px
- [ ] ARIA labels –Ω–∞ –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö
- [ ] Keyboard navigation —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Screen reader support

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [ ] README –æ–±–Ω–æ–≤–ª–µ–Ω —Å –Ω–æ–≤—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- [ ] Storybook stories —Å–æ–∑–¥–∞–Ω—ã –¥–ª—è –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- [ ] API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

---

## üìù –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
```bash
npm run dev
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
```bash
npx tsc --noEmit
```

### –õ–∏–Ω—Ç–∏–Ω–≥ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
npm run lint
npm run lint -- --fix
npm run format
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
npm test
npm test:coverage
npm test -- --watch
```

### Storybook
```bash
npm run storybook
```

### Performance audit
```bash
npm run build
npm run preview
# Open Chrome DevTools ‚Üí Lighthouse ‚Üí Run audit (mobile)
```

---

## ‚ö†Ô∏è –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

| –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –í–ª–∏—è–Ω–∏–µ | –ú–∏—Ç–∏–≥–∞—Ü–∏—è |
|------|-------------|---------|-----------|
| –°–ª–æ–∂–Ω–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–π Framer Motion | –°—Ä–µ–¥–Ω—è—è | –°—Ä–µ–¥–Ω–µ | –ù–∞—á–∞—Ç—å —Å –ø—Ä–æ—Å—Ç—ã—Ö –∞–Ω–∏–º–∞—Ü–∏–π, –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —É—Å–ª–æ–∂–Ω—è—Ç—å |
| Performance –Ω–∞ —Å—Ç–∞—Ä—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–æ–µ | Profiling, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, fallback –¥–ª—è —Å—Ç–∞—Ä—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ |
| Gesture conflicts (swipe vs scroll) | –í—ã—Å–æ–∫–∞—è | –°—Ä–µ–¥–Ω–µ | Threshold detection, direction detection |
| Haptic feedback –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ | –ù–∏–∑–∫–∞—è | –ù–∏–∑–∫–æ–µ | Graceful fallback, optional feature |
| –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç Sprint 007 | –ù–∏–∑–∫–∞—è | –í—ã—Å–æ–∫–æ–µ | –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ Sprint 007 –∑–∞–≤–µ—Ä—à–µ–Ω –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º |

---

## üîó –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –í–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ Sprint 007 –∑–∞–≤–µ—Ä—à–µ–Ω (–º–∏–≥—Ä–∞—Ü–∏–∏, —Ç–∏–ø—ã, —Ö—É–∫–∏)
- ‚è≥ Design assets –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚è≥ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ç—Ä–µ–∫–∏ —Å –≤–µ—Ä—Å–∏—è–º–∏, –ª–∏—Ä–∏–∫–∞)

### NPM –ø–∞–∫–µ—Ç—ã (—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
```bash
# Framer Motion (–∞–Ω–∏–º–∞—Ü–∏–∏)
npm install framer-motion

# DnD Kit (drag-and-drop)
npm install @dnd-kit/core @dnd-kit/sortable

# TanStack Query (—É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
# @twa-dev/sdk (—É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
```

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

### User Story 1: Library
- Touch target compliance: 100%
- Mobile responsiveness: 320px-1920px
- Lighthouse Mobile: >90
- –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: <500ms –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ

### User Story 2: Player
- Player mode transitions: <300ms
- 60fps animations –Ω–∞ –≤—Å–µ—Ö –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö
- Queue reorder: smooth drag-and-drop
- Haptic feedback: —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ iOS/Android

---

## üîÑ –°–ª–µ–¥—É—é—â–∏–π —Å–ø—Ä–∏–Ω—Ç

**Sprint 009: Track Details & Actions (User Stories 3 & 4)**
- –ü–µ—Ä–∏–æ–¥: 2025-12-29 - 2026-01-12
- –ó–∞–¥–∞—á–∏: 19 –∑–∞–¥–∞—á
- –§–æ–∫—É—Å: 
  - –ü–∞–Ω–µ–ª—å –¥–µ—Ç–∞–ª–µ–π —Ç—Ä–µ–∫–∞ (–ª–∏—Ä–∏–∫–∞, –≤–µ—Ä—Å–∏–∏, —Å—Ç–µ–º—ã, analysis, changelog)
  - –ú–µ–Ω—é –¥–µ–π—Å—Ç–≤–∏–π (Create Persona, Open in Studio, Add to Project/Playlist)

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- üìÑ –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω: `specs/copilot/audit-interface-and-optimize/tasks.md` (T025-T046)
- üìä –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è: `specs/copilot/audit-interface-and-optimize/spec.md`
- üíæ –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö: `specs/copilot/audit-interface-and-optimize/data-model.md`
- üîå API –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã: `specs/copilot/audit-interface-and-optimize/contracts/`
- üìñ Quickstart: `specs/copilot/audit-interface-and-optimize/quickstart.md`
- üé® Design: Telegram Design Guidelines - https://core.telegram.org/bots/webapps#design-guidelines

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2025-12-02*
