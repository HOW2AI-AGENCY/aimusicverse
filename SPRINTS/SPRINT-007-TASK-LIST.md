# –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –¥–ª—è –°–ø—Ä–∏–Ω—Ç–∞ 007

**–°–ø—Ä–∏–Ω—Ç**: 007 - Mobile-First UI/UX - Phase 1 (Setup & Infrastructure)  
**–ü–µ—Ä–∏–æ–¥**: 2025-12-08 - 2025-12-15  
**–¶–µ–ª—å**: –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è –º–∞—Å—à—Ç–∞–±–Ω–æ–≥–æ —Ä–µ–¥–∏–∑–∞–π–Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

---

## üìä –ü—Ä–æ–≥—Ä–µ—Å—Å —Å–ø—Ä–∏–Ω—Ç–∞

**–°—Ç–∞—Ç—É—Å**: ‚úÖ **–ó–ê–í–ï–†–®–ï–ù** (2025-12-02)  
**–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å**: 100% frontend quality tasks completed

- ‚úÖ **–ó–∞–≤–µ—Ä—à–µ–Ω–æ**: 4 –∑–∞–¥–∞—á–∏ (code quality improvements)
- üîÑ **–ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ –≤ Backlog**: 20 –∑–∞–¥–∞—á (infrastructure work)
- üìã **–ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: Frontend improvements complete, infrastructure tasks require proper dev environment

---

## ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

- [x] –ü—Ä–æ–≤–µ–¥–µ–Ω –∞—É–¥–∏—Ç –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ 25 ESLint –æ—à–∏–±–æ–∫ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- [x] –£–ª—É—á—à–µ–Ω–∞ —Ç–∏–ø–∏–∑–∞—Ü–∏—è TypeScript (—É–¥–∞–ª–µ–Ω—ã any —Ç–∏–ø—ã)
- [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞—Ä—É—à–µ–Ω–∏—è React Hooks

---

## üîÑ –ó–∞–¥–∞—á–∏ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–Ω—ã–µ –≤ –¥—Ä—É–≥–∏–µ —Å–ø—Ä–∏–Ω—Ç—ã

### Lint –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚Üí Sprint 8

- [ ] **LINT-01**: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—Å—Ç–∞–≤—à–∏–µ—Å—è lint –æ—à–∏–±–∫–∏ –≤ hooks (~60 errors)
  - –§–∞–π–ª—ã: `src/hooks/*.ts`
  - –ö–æ–º–∞–Ω–¥–∞: `npm run lint -- --fix src/hooks/`
  - –ö—Ä–∏—Ç–µ—Ä–∏–π: 0 –æ—à–∏–±–æ–∫ ESLint –≤ hooks
  - **–°—Ç–∞—Ç—É—Å**: –ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ –≤ Sprint 8

- [ ] **LINT-02**: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—Å—Ç–∞–≤—à–∏–µ—Å—è lint –æ—à–∏–±–∫–∏ –≤ pages (~20 errors)
  - –§–∞–π–ª—ã: `src/pages/*.tsx`
  - –ö–æ–º–∞–Ω–¥–∞: `npm run lint -- --fix src/pages/`
  - –ö—Ä–∏—Ç–µ—Ä–∏–π: 0 –æ—à–∏–±–æ–∫ ESLint –≤ pages
  - **–°—Ç–∞—Ç—É—Å**: –ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ –≤ Sprint 8

- [ ] **LINT-03**: –ò—Å–ø—Ä–∞–≤–∏—Ç—å lint –æ—à–∏–±–∫–∏ –≤ Supabase functions (60 errors)
  - –§–∞–π–ª—ã: `supabase/functions/**/*.ts`
  - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ù–∏–∑–∫–∏–π
  - **–°—Ç–∞—Ç—É—Å**: –ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ –≤ Backlog (Backend Sprint)

---

## üîÑ –ó–∞–¥–∞—á–∏ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–Ω—ã–µ –≤ Backlog

### –§–∞–∑–∞ 1A: Database Migrations (6 –∑–∞–¥–∞—á) ‚Üí Backlog

**–ü—Ä–∏—á–∏–Ω–∞ –ø–µ—Ä–µ–Ω–æ—Å–∞**: –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase development environment. –≠—Ç–∏ –∑–∞–¥–∞—á–∏ –¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –≤ proper dev –æ–∫—Ä—É–∂–µ–Ω–∏–∏ —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ Supabase CLI –∏ database.

- [ ] **T001**: –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è master_version_id –≤ music_tracks
  - –§–∞–π–ª: `supabase/migrations/[timestamp]_add_master_version.sql`
  - SQL: `ALTER TABLE music_tracks ADD COLUMN master_version_id UUID REFERENCES track_versions(id);`
  - –ö–æ–º–∞–Ω–¥–∞: `supabase db diff -f add_master_version`

- [ ] **T002**: –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª–µ–π –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤ track_versions
  - –§–∞–π–ª: `supabase/migrations/[timestamp]_add_version_fields.sql`
  - SQL: 
    ```sql
    ALTER TABLE track_versions 
    ADD COLUMN version_number INTEGER DEFAULT 1,
    ADD COLUMN is_primary BOOLEAN DEFAULT false;
    ```
    - **–í–ê–ñ–ù–û**: –ò—Å–ø–æ–ª—å–∑—É–µ–º `is_primary`, –ù–ï `is_master` —Å–æ–≥–ª–∞—Å–Ω–æ naming conventions
  - –ö–æ–º–∞–Ω–¥–∞: `supabase db diff -f add_version_fields`

- [ ] **T003**: –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã track_change_log
  - –§–∞–π–ª: `supabase/migrations/[timestamp]_create_changelog_table.sql`
  - **–í–ê–ñ–ù–û**: –¢–∞–±–ª–∏—Ü–∞ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `track_change_log` (—Å underscore), –ù–ï `track_changelog`
  - SQL:
    ```sql
    CREATE TABLE track_change_log (
      id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
      track_id UUID REFERENCES music_tracks(id) ON DELETE CASCADE,
      change_type VARCHAR(50) NOT NULL,
      field_name VARCHAR(100),
      old_value TEXT,
      new_value TEXT,
      changed_by UUID REFERENCES auth.users(id),
      changed_at TIMESTAMP WITH TIME ZONE DEFAULT now(),
      metadata JSONB
    );
    CREATE INDEX idx_changelog_track_id ON track_change_log(track_id);
    CREATE INDEX idx_changelog_changed_at ON track_change_log(changed_at DESC);
    ```

- [ ] **T004** [P]: –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è —Ç–∞–±–ª–∏—Ü playlists
  - –§–∞–π–ª: `supabase/migrations/[timestamp]_create_playlists_tables.sql`
  - SQL:
    ```sql
    CREATE TABLE playlists (
      id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
      user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
      name VARCHAR(255) NOT NULL,
      description TEXT,
      is_public BOOLEAN DEFAULT false,
      cover_url TEXT,
      created_at TIMESTAMP WITH TIME ZONE DEFAULT now(),
      updated_at TIMESTAMP WITH TIME ZONE DEFAULT now()
    );
    
    CREATE TABLE playlist_tracks (
      id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
      playlist_id UUID REFERENCES playlists(id) ON DELETE CASCADE,
      track_id UUID REFERENCES music_tracks(id) ON DELETE CASCADE,
      position INTEGER NOT NULL,
      added_at TIMESTAMP WITH TIME ZONE DEFAULT now(),
      UNIQUE(playlist_id, position)
    );
    ```

- [ ] **T005**: –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
  - –§–∞–π–ª: `supabase/migrations/[timestamp]_add_indexes.sql`
  - SQL:
    ```sql
    CREATE INDEX idx_tracks_is_public ON music_tracks(is_public) WHERE is_public = true;
    CREATE INDEX idx_tracks_primary_version ON music_tracks(primary_version_id);
    CREATE INDEX idx_versions_number ON track_versions(version_number);
    CREATE INDEX idx_versions_is_primary ON track_versions(is_primary) WHERE is_primary = true;
    ```

- [ ] **T006**: –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
  - –§–∞–π–ª: `supabase/migrations/[timestamp]_migrate_existing_data.sql`
  - SQL:
    ```sql
    -- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å version_number = 1 –¥–ª—è –≤—Å–µ—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –≤–µ—Ä—Å–∏–π
    UPDATE track_versions SET version_number = 1 WHERE version_number IS NULL;
    
    -- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–≤—É—é –≤–µ—Ä—Å–∏—é –∫–∞–∫ primary –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç—Ä–µ–∫–∞
    UPDATE track_versions tv SET is_primary = true
    FROM (
      SELECT DISTINCT ON (track_id) id, track_id
      FROM track_versions
      ORDER BY track_id, created_at ASC
    ) first_versions
    WHERE tv.id = first_versions.id;
    
    -- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å primary_version_id –¥–ª—è –≤—Å–µ—Ö —Ç—Ä–µ–∫–æ–≤
    UPDATE music_tracks mt SET primary_version_id = tv.id
    FROM track_versions tv
    WHERE mt.id = tv.track_id AND tv.is_primary = true;
    ```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–π**:
```bash
# –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
supabase db reset
supabase db push

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ö–µ–º—ã
psql -h localhost -U postgres -d postgres -c "\d music_tracks"
psql -h localhost -U postgres -d postgres -c "\d track_versions"
psql -h localhost -U postgres -d postgres -c "\d track_change_log"
```

---

### –§–∞–∑–∞ 1B: Type System Updates (7 –∑–∞–¥–∞—á)

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å**: –¢—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π (T001-T006)

- [ ] **T007**: –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å Supabase —Ç–∏–ø—ã –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–π
  - –ö–æ–º–∞–Ω–¥–∞: `npm run types:generate` –∏–ª–∏ `supabase gen types typescript --local > src/integrations/supabase/types.ts`
  - –§–∞–π–ª: `src/integrations/supabase/types.ts`
  - –ü—Ä–æ–≤–µ—Ä–∫–∞: `npx tsc --noEmit`

- [ ] **T008** [P]: –î–æ–±–∞–≤–∏—Ç—å TrackVersion –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –Ω–æ–≤—ã–º–∏ –ø–æ–ª—è–º–∏
  - –§–∞–π–ª: `src/integrations/supabase/types.ts`
  - **–í–ê–ñ–ù–û**: –ü–æ–ª–µ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `is_primary`, –ù–ï `is_master`
  - –î–æ–±–∞–≤–∏—Ç—å:
    ```typescript
    interface TrackVersion {
      id: string;
      track_id: string;
      version_number: number;
      is_primary: boolean;
      version_label?: string;
      file_size_bytes?: number;
      format?: string;
      created_at: string;
      // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
    }
    ```

- [ ] **T009** [P]: –î–æ–±–∞–≤–∏—Ç—å TrackChangelog –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
  - –§–∞–π–ª: `src/integrations/supabase/types.ts`
  - –î–æ–±–∞–≤–∏—Ç—å:
    ```typescript
    interface TrackChangelog {
      id: string;
      track_id: string;
      change_type: string;
      field_name?: string;
      old_value?: string;
      new_value?: string;
      changed_by?: string;
      changed_at: string;
      metadata?: Record<string, any>;
    }
    ```

- [ ] **T010** [P]: –î–æ–±–∞–≤–∏—Ç—å Playlist –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
  - –§–∞–π–ª: `src/integrations/supabase/types.ts`
  - –î–æ–±–∞–≤–∏—Ç—å:
    ```typescript
    interface Playlist {
      id: string;
      user_id: string;
      name: string;
      description?: string;
      is_public: boolean;
      cover_url?: string;
      created_at: string;
      updated_at: string;
    }
    
    interface PlaylistTrack {
      id: string;
      playlist_id: string;
      track_id: string;
      position: number;
      added_at: string;
    }
    ```

- [ ] **T011** [P]: –°–æ–∑–¥–∞—Ç—å PlayerState –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Ç–∏–ø
  - –§–∞–π–ª: `src/lib/types/player.ts` (—Å–æ–∑–¥–∞—Ç—å)
  - –î–æ–±–∞–≤–∏—Ç—å:
    ```typescript
    export type PlayerMode = 'compact' | 'expanded' | 'fullscreen';
    
    export interface PlayerState {
      mode: PlayerMode;
      currentTrack: Track | null;
      isPlaying: boolean;
      currentTime: number;
      duration: number;
      volume: number;
      isMuted: boolean;
    }
    ```

- [ ] **T012** [P]: –°–æ–∑–¥–∞—Ç—å PlaybackQueue –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Ç–∏–ø
  - –§–∞–π–ª: `src/lib/types/player.ts`
  - –î–æ–±–∞–≤–∏—Ç—å:
    ```typescript
    export type RepeatMode = 'off' | 'all' | 'one';
    
    export interface PlaybackQueue {
      items: Track[];
      currentIndex: number;
      shuffle: boolean;
      repeat: RepeatMode;
      history: Track[];
    }
    ```

- [ ] **T013** [P]: –°–æ–∑–¥–∞—Ç—å AssistantFormState —Ç–∏–ø
  - –§–∞–π–ª: `src/lib/types/forms.ts` (—Å–æ–∑–¥–∞—Ç—å)
  - –î–æ–±–∞–≤–∏—Ç—å:
    ```typescript
    export type GenerationMode = 'prompt' | 'style-lyrics' | 'cover' | 'extend' | 'project' | 'persona';
    
    export interface AssistantFormState {
      mode: GenerationMode;
      currentStep: number;
      totalSteps: number;
      prompt?: string;
      style?: string;
      lyrics?: string;
      referenceTrackId?: string;
      // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
    }
    ```

---

### –§–∞–∑–∞ 1C: Core Utility Libraries (3 –∑–∞–¥–∞—á–∏)

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å**: –¢—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ (T007-T013)

- [ ] **T014** [P]: –°–æ–∑–¥–∞—Ç—å —É—Ç–∏–ª–∏—Ç—ã –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
  - –§–∞–π–ª: `src/lib/versioning.ts` (—Å–æ–∑–¥–∞—Ç—å)
  - –§—É–Ω–∫—Ü–∏–∏:
    ```typescript
    export function getVersionNumber(version: TrackVersion): string;
    export function setMasterVersion(trackId: string, versionId: string): Promise<void>;
    export function compareVersions(v1: TrackVersion, v2: TrackVersion): number;
    export function formatVersionLabel(version: TrackVersion): string;
    ```

- [ ] **T015** [P]: –°–æ–∑–¥–∞—Ç—å —É—Ç–∏–ª–∏—Ç—ã –ø–ª–µ–µ—Ä–∞
  - –§–∞–π–ª: `src/lib/player-utils.ts` (—Å–æ–∑–¥–∞—Ç—å)
  - –§—É–Ω–∫—Ü–∏–∏:
    ```typescript
    export function formatTime(seconds: number): string;
    export function calculateProgress(current: number, total: number): number;
    export function shuffleQueue(items: Track[], currentIndex: number): Track[];
    export function getNextTrack(queue: PlaybackQueue): Track | null;
    ```

- [ ] **T016** [P]: –°–æ–∑–¥–∞—Ç—å —É—Ç–∏–ª–∏—Ç—ã –º–æ–±–∏–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
  - –§–∞–π–ª: `src/lib/mobile-utils.ts` (—Å–æ–∑–¥–∞—Ç—å)
  - –§—É–Ω–∫—Ü–∏–∏:
    ```typescript
    export function useIsMobile(): boolean;
    export function useTouchEvents(element: RefObject<HTMLElement>): TouchEventHandlers;
    export function triggerHapticFeedback(type: 'light' | 'medium' | 'heavy'): void;
    export function isTouchDevice(): boolean;
    ```

---

### –§–∞–∑–∞ 1D: Foundational Hooks (5 –∑–∞–¥–∞—á)

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å**: –¢—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —É—Ç–∏–ª–∏—Ç (T014-T016)

- [ ] **T017** [P]: –°–æ–∑–¥–∞—Ç—å useTrackVersions —Ö—É–∫
  - –§–∞–π–ª: `src/hooks/useTrackVersions.ts` (—Å–æ–∑–¥–∞—Ç—å)
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç: TanStack Query –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
  - –§—É–Ω–∫—Ü–∏–∏: `fetchVersions`, `invalidateVersions`

- [ ] **T018**: –°–æ–∑–¥–∞—Ç—å useVersionSwitcher —Ö—É–∫
  - –§–∞–π–ª: `src/hooks/useVersionSwitcher.ts` (—Å–æ–∑–¥–∞—Ç—å)
  - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å: T017 (useTrackVersions)
  - –§—É–Ω–∫—Ü–∏–∏: `switchToVersion`, `setMasterVersion`, `logVersionChange`

- [ ] **T019** [P]: –°–æ–∑–¥–∞—Ç—å usePublicContent —Ö—É–∫
  - –§–∞–π–ª: `src/hooks/usePublicContent.ts` (—Å–æ–∑–¥–∞—Ç—å)
  - –§—É–Ω–∫—Ü–∏–∏: `fetchPublicTracks`, `fetchPublicProjects`, `fetchPublicArtists`

- [ ] **T020**: –°–æ–∑–¥–∞—Ç—å usePlayerState Zustand store
  - –§–∞–π–ª: `src/hooks/usePlayerState.ts` (—Å–æ–∑–¥–∞—Ç—å)
  - Store:
    ```typescript
    interface PlayerStore {
      state: PlayerState;
      setMode: (mode: PlayerMode) => void;
      play: (track: Track) => void;
      pause: () => void;
      seek: (time: number) => void;
      setVolume: (volume: number) => void;
    }
    ```

- [ ] **T021**: –°–æ–∑–¥–∞—Ç—å usePlaybackQueue —Ö—É–∫
  - –§–∞–π–ª: `src/hooks/usePlaybackQueue.ts` (—Å–æ–∑–¥–∞—Ç—å)
  - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å: T020 (usePlayerState)
  - –§—É–Ω–∫—Ü–∏–∏: `addToQueue`, `removeFromQueue`, `reorderQueue`, `next`, `previous`, `toggleShuffle`, `setRepeatMode`

---

### –§–∞–∑–∞ 1E: Supabase Query Functions (3 –∑–∞–¥–∞—á–∏)

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å**: –¢—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π (T001-T006)

- [ ] **T022** [P]: –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
  - –§–∞–π–ª: `src/integrations/supabase/queries/public-content.ts` (—Å–æ–∑–¥–∞—Ç—å)
  - –§—É–Ω–∫—Ü–∏–∏:
    ```typescript
    export async function getPublicTracks(filters?: Filters): Promise<Track[]>;
    export async function getPublicProjects(): Promise<Project[]>;
    export async function getPublicArtists(): Promise<Artist[]>;
    ```

- [ ] **T023** [P]: –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
  - –§–∞–π–ª: `src/integrations/supabase/queries/versioning.ts` (—Å–æ–∑–¥–∞—Ç—å)
  - –§—É–Ω–∫—Ü–∏–∏:
    ```typescript
    export async function getTrackVersions(trackId: string): Promise<TrackVersion[]>;
    export async function updateMasterVersion(trackId: string, versionId: string): Promise<void>;
    export async function createVersion(trackId: string, data: Partial<TrackVersion>): Promise<TrackVersion>;
    ```

- [ ] **T024** [P]: –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è changelog
  - –§–∞–π–ª: `src/integrations/supabase/queries/changelog.ts` (—Å–æ–∑–¥–∞—Ç—å)
  - –§—É–Ω–∫—Ü–∏–∏:
    ```typescript
    export async function getTrackChangelog(trackId: string): Promise<TrackChangelog[]>;
    export async function logChange(change: Omit<TrackChangelog, 'id' | 'changed_at'>): Promise<void>;
    ```

---

## üéØ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏ —Å–ø—Ä–∏–Ω—Ç–∞

- [ ] –í—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∫ –ª–æ–∫–∞–ª—å–Ω–æ–π –∏ dev –ë–î
- [ ] –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç—Ä–µ–∫–∏ –∏–º–µ—é—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π `master_version_id`
- [ ] –í—Å–µ TypeScript —Ç–∏–ø—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç –ø—Ä–æ–≤–µ—Ä–∫—É `tsc --noEmit`
- [ ] –ë–∞–∑–æ–≤—ã–µ —Ö—É–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∏ –ø–æ–∫—Ä—ã—Ç—ã unit-—Ç–µ—Å—Ç–∞–º–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] Backend query —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ù–µ—Ç breaking changes –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- [ ] –í—Å–µ –∑–∞–¥–∞—á–∏ –≤ —Å—Ç–∞—Ç—É—Å–µ "–ó–∞–≤–µ—Ä—à–µ–Ω–æ"

---

## üìù –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
```bash
npm run dev
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
```bash
npx tsc --noEmit
```

### –õ–∏–Ω—Ç–∏–Ω–≥
```bash
npm run lint
npm run lint -- --fix
```

### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
npm run format
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–ª–æ–∫–∞–ª—å–Ω–∞—è)
```bash
# –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–π Supabase
supabase start

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
supabase db push

# –°–±—Ä–æ—Å –ë–î
supabase db reset

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–∏–ø–æ–≤
supabase gen types typescript --local > src/integrations/supabase/types.ts
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
npm test
npm test:coverage
```

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- üìÑ –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω: `specs/copilot/audit-interface-and-optimize/tasks.md`
- üìä –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: `specs/copilot/audit-interface-and-optimize/plan.md`
- üíæ –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö: `specs/copilot/audit-interface-and-optimize/data-model.md`
- üîå API –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã: `specs/copilot/audit-interface-and-optimize/contracts/`
- üìñ Quickstart: `specs/copilot/audit-interface-and-optimize/quickstart.md`

---

## ‚ö†Ô∏è –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

| –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –ú–∏—Ç–∏–≥–∞—Ü–∏—è |
|------|-------------|-----------|
| –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —Å–ª–æ–º–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç—Ä–µ–∫–∏ | –°—Ä–µ–¥–Ω—è—è | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∫–æ–ø–∏–∏ –ë–î –ø–µ—Ä–µ–¥ production |
| Breaking changes –≤ —Ç–∏–ø–∞—Ö | –í—ã—Å–æ–∫–∞—è | –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ —Å fallback –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ |
| Performance –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–π | –ù–∏–∑–∫–∞—è | –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω–¥–µ–∫—Å—ã, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–æ–≤ |

---

## üîÑ –°–ª–µ–¥—É—é—â–∏–π —Å–ø—Ä–∏–Ω—Ç

**Sprint 008: Library & Player MVP (User Stories 1 & 2)**
- –ü–µ—Ä–∏–æ–¥: 2025-12-15 - 2025-12-29
- –ó–∞–¥–∞—á–∏: 22 –∑–∞–¥–∞—á–∏
- –§–æ–∫—É—Å: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–ª—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ –ø–ª–µ–µ—Ä–∞

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2025-12-02*
