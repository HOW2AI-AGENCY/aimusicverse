# –°–ø—Ä–∏–Ω—Ç 007: Mobile-First UI/UX - Phase 1 (Setup & Infrastructure)

- **–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 2025-12-08 - 2025-12-15
- **–¶–µ–ª—å:** –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è –º–∞—Å—à—Ç–∞–±–Ω–æ–≥–æ —Ä–µ–¥–∏–∑–∞–π–Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ –º–æ–±–∏–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é. –í–Ω–µ–¥—Ä–∏—Ç—å –±–∞–∑–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ç—Ä–µ–∫–æ–≤, –æ–±–Ω–æ–≤–∏—Ç—å —Ç–∏–ø—ã –∏ —Å–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ —Ö—É–∫–∏ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

## –ö–æ–Ω—Ç–µ–∫—Å—Ç

–≠—Ç–æ—Ç —Å–ø—Ä–∏–Ω—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç Phase 1 –∏–∑ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ (`specs/copilot/audit-interface-and-optimize/`). –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å - –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é –±–∞–∑—É –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ 6 –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤:
- **US1**: Library Mobile Redesign & Versioning (P1)
- **US2**: Player Mobile Optimization (P1)
- **US3**: Track Details Panel (P2)
- **US4**: Track Actions Menu (P2)
- **US5**: Homepage Discovery (P2)
- **US6**: AI Assistant Mode (P3)

## –ó–∞–¥–∞—á–∏

### Database & Migrations (6 –∑–∞–¥–∞—á)

| ID | –ù–∞–∑–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π |
|---|---|---|---|---|
| T001 | **Migration: Master Version Tracking** - –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `master_version_id` –≤ —Ç–∞–±–ª–∏—Ü—É `tracks` —Å FK –Ω–∞ `track_versions.id` | To Do | P0 | Backend |
| T002 | **Migration: Version Numbering** - –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è `version_number` (INTEGER) –∏ `version_label` (VARCHAR) –≤ `track_versions` | To Do | P0 | Backend |
| T003 | **Migration: Track Changelog Table** - –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É `track_changelog` –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π (change_type, field_name, old_value, new_value, changed_by) | To Do | P0 | Backend |
| T004 | **Migration: Playlists Support** - –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã `playlists` –∏ `playlist_tracks` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ø—É–±–ª–∏—á–Ω—ã—Ö –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤ | To Do | P1 | Backend |
| T005 | **Migration: Performance Indexes** - –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è `is_public`, `master_version_id`, `version_number` | To Do | P0 | Backend |
| T006 | **Data Migration: Initial Master Versions** - –°–∫—Ä–∏–ø—Ç –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ `master_version_id` –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç—Ä–µ–∫–æ–≤ | To Do | P0 | Backend |

### Type System Updates (7 –∑–∞–¥–∞—á)

| ID | –ù–∞–∑–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π |
|---|---|---|---|---|
| T007 | **Types: Extend Track Interface** - –î–æ–±–∞–≤–∏—Ç—å `master_version_id`, `version_count`, `stem_count`, `has_stems` | To Do | P0 | Frontend |
| T008 | **Types: Extend TrackVersion Interface** - –î–æ–±–∞–≤–∏—Ç—å `version_number`, `version_label`, `file_size_bytes`, `format` | To Do | P0 | Frontend |
| T009 | **Types: TrackChangelog Type** - –°–æ–∑–¥–∞—Ç—å `TrackChangelog` —Å –ø–æ–ª—è–º–∏ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è | To Do | P0 | Frontend |
| T010 | **Types: Playlist Types** - –°–æ–∑–¥–∞—Ç—å `Playlist`, `PlaylistTrack`, `PlaylistStats` –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã | To Do | P1 | Frontend |
| T011 | **Types: PlayerState Type** - –°–æ–∑–¥–∞—Ç—å `PlayerState` —Å `mode`, `queue`, `currentTrack`, `isPlaying` | To Do | P0 | Frontend |
| T012 | **Types: PlaybackQueue Type** - –°–æ–∑–¥–∞—Ç—å `PlaybackQueue` —Å `items`, `currentIndex`, `shuffle`, `repeat` | To Do | P0 | Frontend |
| T013 | **Types: AssistantFormState** - –°–æ–∑–¥–∞—Ç—å —Ç–∏–ø—ã –¥–ª—è AI Assistant —Ä–µ–∂–∏–º–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ | To Do | P2 | Frontend |

### Core Hooks & Queries (11 –∑–∞–¥–∞—á)

| ID | –ù–∞–∑–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π |
|---|---|---|---|---|
| T014 | **Hook: useTrackVersions** - –•—É–∫ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö –≤–µ—Ä—Å–∏–π —Ç—Ä–µ–∫–∞ —Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π | To Do | P0 | Frontend |
| T015 | **Hook: useVersionSwitcher** - –•—É–∫ –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è master –≤–µ—Ä—Å–∏–∏ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º | To Do | P0 | Frontend |
| T016 | **Hook: useTrackChangelog** - –•—É–∫ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ç—Ä–µ–∫–∞ | To Do | P1 | Frontend |
| T017 | **Hook: usePublicContent** - –•—É–∫ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—É–±–ª–∏—á–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤/–ø—Ä–æ–µ–∫—Ç–æ–≤/–∞—Ä—Ç–∏—Å—Ç–æ–≤ | To Do | P1 | Frontend |
| T018 | **Hook: usePlayerState** - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø–ª–µ–µ—Ä–∞ | To Do | P0 | Frontend |
| T019 | **Hook: usePlaybackQueue** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥—å—é –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è | To Do | P0 | Frontend |
| T020 | **Query: Backend Filtering for Library** - –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏/—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –Ω–∞ –±—ç–∫–µ–Ω–¥ | To Do | P0 | Backend |
| T021 | **Query: Public Content API** - –°–æ–∑–¥–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ | To Do | P1 | Backend |
| T022 | **Query: Version Management API** - –°–æ–∑–¥–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏—è–º–∏ | To Do | P0 | Backend |
| T023 | **Realtime: Version Updates** - –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–µ—Ä—Å–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ | To Do | P1 | Backend |
| T024 | **Realtime: Stem Generation** - –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–µ–º–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ | To Do | P1 | Backend |

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏

- [ ] –í—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∫ –ë–î
- [ ] –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç—Ä–µ–∫–∏ –∏–º–µ—é—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π `master_version_id`
- [ ] –í—Å–µ TypeScript —Ç–∏–ø—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç –ø—Ä–æ–≤–µ—Ä–∫—É `tsc --noEmit`
- [ ] –ë–∞–∑–æ–≤—ã–µ —Ö—É–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∏ –ø–æ–∫—Ä—ã—Ç—ã unit-—Ç–µ—Å—Ç–∞–º–∏
- [ ] Backend API –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—ã—Å—Ç—Ä–µ–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- [ ] Realtime –ø–æ–¥–ø–∏—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±–Ω–æ–≤–ª—è—é—Ç UI –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- [ ] –ù–µ—Ç breaking changes –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- ‚úÖ –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –ø–ª–∞–Ω –≥–æ—Ç–æ–≤—ã (Sprint 006)
- ‚è≥ –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è Phase 1 –º–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É –Ω–∞–¥ User Stories

## –†–∏—Å–∫–∏

- **–ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:** –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç—Ä–µ–∫–∏ –±–µ–∑ –≤–µ—Ä—Å–∏–π. –†–µ—à–µ–Ω–∏–µ: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Ç—å –≤–µ—Ä—Å–∏—é v1.0 –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç—Ä–µ–∫–∞
- **Breaking changes:** –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã Track –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã. –†–µ—à–µ–Ω–∏–µ: –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ —Å fallback
- **Performance:** Backend —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ –Ω–∞ –º–∞–ª–æ–º –æ–±—ä–µ–º–µ –¥–∞–Ω–Ω—ã—Ö. –†–µ—à–µ–Ω–∏–µ: hybrid approach —Å –ø–æ—Ä–æ–≥–æ–º

## –°–ª–µ–¥—É—é—â–∏–π —Å–ø—Ä–∏–Ω—Ç

**Sprint 008: Library & Player MVP (User Stories 1 & 2)**
- –†–µ–¥–∏–∑–∞–π–Ω TrackCard/TrackRow –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π –≤ UI
- –†–µ–¥–∏–∑–∞–π–Ω –ø–ª–µ–µ—Ä–∞ (3 —Å–æ—Å—Ç–æ—è–Ω–∏—è: compact/expanded/fullscreen)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥—å—é –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è

## –°—Å—ã–ª–∫–∏

- üìÑ –î–µ—Ç–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏: `specs/copilot/audit-interface-and-optimize/tasks.md`
- üìä –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: `specs/copilot/audit-interface-and-optimize/plan.md`
- üíæ –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö: `specs/copilot/audit-interface-and-optimize/data-model.md`
- üîå API –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã: `specs/copilot/audit-interface-and-optimize/contracts/`
