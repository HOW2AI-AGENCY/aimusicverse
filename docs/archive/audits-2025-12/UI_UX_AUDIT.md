# UI/UX Audit & Redesign Plan: MusicVerse AI

## 1. Общий анализ (General Analysis)

Приложение имеет современный технологический стек и продуманную архитектуру с использованием ленивой загрузки и защищенных маршрутов. Основные пользовательские сценарии (генерация и библиотека) реализованы, но содержат ряд критических UX-проблем, которые могут приводить к потере данных, вызывать фрустрацию и снижать общее впечатление от продукта.

## 2. Ключевые проблемы и точки роста (Key Issues & Opportunities)

### 2.1. Процесс генерации музыки (`GenerateWizard`)

Это самый важный сценарий, и он должен быть безупречным.

| Проблема (Pain Point)                                       | Влияние (Impact) | Рекомендация (Recommendation)                                                                                             | Приоритет |
| ----------------------------------------------------------- | ---------------- | ------------------------------------------------------------------------------------------------------------------------- | --------- |
| **Отсутствие индикатора прогресса** в мастере из 4 шагов.      | Высокий          | Добавить визуальный индикатор шагов (например, "Step 1 of 4"). Это снижает неопределенность и дает пользователю контроль. | **Высокий**   |
| **Потеря всех введенных данных** при уходе со страницы.        | Критический      | Внедрить сохранение состояния формы (например, в `localStorage` или `sessionStorage`). Пользователь должен иметь возможность вернуться и продолжить с того же места. | **Критический** |
| **Негибкая навигация** (только на шаг назад).                | Средний          | Позволить пользователю переходить к любому уже пройденному шагу через индикатор прогресса.                               | **Средний**   |
| **Нетипизированные данные формы** (`any`).                     | Низкий (Тех. долг) | Использовать TypeScript-интерфейсы для данных формы. Это повысит надежность и упростит разработку.                    | Низкий    |
| **Непонятные диалоги `UploadExtendDialog` и `UploadCoverDialog`** | Средний | Названия диалогов не объясняют их назначение. Необходимо переименовать их и добавить поясняющий текст. | **Средний** |

### 2.2. Библиотека треков (`Library`)

Второй по важности экран, где пользователь взаимодействует с результатами.

| Проблема (Pain Point)                                                | Влияние (Impact) | Рекомендация (Recommendation)                                                                                                    | Приоритет |
| -------------------------------------------------------------------- | ---------------- | -------------------------------------------------------------------------------------------------------------------------------- | --------- |
| **Фильтрация и сортировка на клиенте.**                               | Критический (Масштаб) | Перенести логику фильтрации, поиска и сортировки на сторону бэкенда (Supabase). Это обеспечит производительность при большом количестве треков. | **Высокий**   |
| **Неочевидная иконка сортировки** (`SlidersHorizontal`).             | Низкий           | Заменить иконку на более узнаваемую (например, стрелки вверх/вниз) и добавить текстовую метку "Сортировка".                | **Низкий**    |
| **Непроверенная адаптивность** карточки трека (`TrackCard`).           | Высокий          | Провести полный аудит компонента `TrackCard` в режимах "список" и "сетка" на всех разрешениях от 320px до 1920px. Убедиться, что все элементы читаемы и доступны. | **Высокий**   |
| **Отсутствие "быстрых действий"** при долгом нажатии на трек (long press). | Средний          | Для мобильных устройств добавить контекстное меню с действиями (скачать, удалить, поделиться) по долгому нажатию на карточку трека. | **Средний**   |
| **Нет пакетных действий** (выбрать несколько треков).                 | Низкий           | Внедрить возможность выбора нескольких треков для выполнения пакетных операций (удаление, добавление в плейлист).           | **Низкий**    |

### 2.3. Общие компоненты и UX (Global Components & UX)

| Проблема (Pain Point)                                                              | Влияние (Impact) | Рекомендация (Recommendation)                                                                                             | Приоритет |
| ---------------------------------------------------------------------------------- | ---------------- | ------------------------------------------------------------------------------------------------------------------------- | --------- |
| **Две системы уведомлений** (`Toaster` и `Sonner`).                                | Средний          | Выбрать одну систему для консистентности. `Sonner` выглядит более современно. Определить четкие правила, когда и какие уведомления показывать. | **Средний**   |
| **Неясная иерархия навигации** в `BottomNavigation`.                                | Средний          | Проанализировать частоту использования разделов и, возможно, перегруппировать их. Главный сценарий (генерация) должен быть самым доступным. | **Средний**   |
| **Недостаточная обратная связь при нажатии** на интерактивные элементы.              | Высокий          | Все кнопки, иконки и карточки должны иметь четкие состояния `hover` и `active` (нажатие). Использовать микро-анимации для подтверждения действия. | **Высокий**   |
| **Неполная поддержка доступности (Accessibility, a11y)**.                        | Высокий          | Убедиться, что у всех интерактивных элементов есть `aria-labels`, а навигация с клавиатуры работает корректно. Цветовые контрасты должны соответствовать стандартам WCAG. | **Высокий**   |

## 3. План действий (Action Plan)

1.  **Спринт 1: Критические улучшения**
    *   **Задача 1:** Рефакторинг `GenerateWizard`: добавить индикатор шагов и сохранение состояния формы в `localStorage`.
    *   **Задача 2:** Рефакторинг `Library`: перенести логику сортировки/фильтрации на бэкенд.
    *   **Задача 3:** Аудит и исправление адаптивности `TrackCard` на всех разрешениях.
    *   **Задача 4:** Внедрение состояний `hover`/`active` для всех ключевых интерактивных элементов.

2.  **Спринт 2: Функциональные улучшения**
    *   **Задача 5:** Унификация системы уведомлений (оставить только `Sonner`).
    *   **Задача 6:** Улучшение навигации в `GenerateWizard` (переход к любому шагу).
    *   **Задача 7:** Внедрение контекстного меню по долгому нажатию на трек в библиотеке.
    *   **Задача 8:** Провести полный аудит доступности (a11y) и исправить основные проблемы.

3.  **Бэклог (Дальнейшие улучшения)**
    *   Внедрить пакетные действия в библиотеке.
    *   Провести ревизию иерархии `BottomNavigation`.
    *   Рефакторинг `GenerateWizard` для использования типизированных данных формы.
    *   Переименовать и добавить поясняющий текст в диалоги `UploadExtendDialog` и `UploadCoverDialog`.
