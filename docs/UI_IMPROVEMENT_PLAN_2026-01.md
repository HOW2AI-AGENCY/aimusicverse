# üé® –ü–ª–∞–Ω —É–ª—É—á—à–µ–Ω–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ MusicVerse AI

> **–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2026-01-13  
> **–°—Ç–∞—Ç—É—Å:** Draft  
> **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** High

---

## üìä –¢–µ–∫—É—â–∏–π –∞–Ω–∞–ª–∏–∑

### –ü—Ä–æ–±–ª–µ–º—ã, –≤—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–∏ –∞—É–¥–∏—Ç–µ

#### üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ

1. **404 —Å—Ç—Ä–∞–Ω–∏—Ü–∞ "–¢—Ä–µ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω" –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ**
   - –°—Ç—Ä–∞–Ω–∏—Ü–∞ NotFound –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–¢—Ä–µ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω" –¥–ª—è –ª—é–±—ã—Ö 404 –æ—à–∏–±–æ–∫
   - –ù—É–∂–Ω–æ: —Ä–∞–∑–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (—Ç—Ä–µ–∫/–ø—Ä–æ–µ–∫—Ç/–ø–ª–µ–π–ª–∏—Å—Ç/—Å—Ç—Ä–∞–Ω–∏—Ü–∞)
   - –§–∞–π–ª: `src/pages/NotFound.tsx`

2. **Screenshot Mode –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω**
   - –ó–∞—â–∏—â—ë–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–µ –ø–æ–ª—É—á–∞—é—Ç mock-–¥–∞–Ω–Ω—ã–µ –≤ screenshot mode
   - –•—É–∫–∏ –¥–∞–Ω–Ω—ã—Ö (useProfile, useTracks) –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç isScreenshotMode
   - –ù—É–∂–Ω–æ: –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å mock-–¥–∞–Ω–Ω—ã–µ –≤–æ –≤—Å–µ –∫–ª—é—á–µ–≤—ã–µ —Ö—É–∫–∏

3. **–ë–∞–Ω–Ω–µ—Ä—ã Guest/Screenshot Mode –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—é—Ç –∫–æ–Ω—Ç–µ–Ω—Ç**
   - –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –±–∞–Ω–Ω–µ—Ä—ã –Ω–µ —É—á–∏—Ç—ã–≤–∞—é—Ç safe areas Telegram
   - –ö–æ–Ω—Ç–µ–Ω—Ç –ø–æ–¥ –±–∞–Ω–Ω–µ—Ä–∞–º–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±—Ä–µ–∑–∞–Ω

#### üü° –í–∞–∂–Ω—ã–µ

4. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –≤ Empty States**
   - –ö–∞–∂–¥–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–º–µ–µ—Ç —Å–≤–æ–π –ø—É—Å—Ç–æ–π —Å—Ç–µ–π—Ç
   - –ù—É–∂–Ω–æ: —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç EmptyState

5. **–ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–µ –∏–∫–æ–Ω–∫–∏ –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏**
   - –†–∞–∑–Ω—ã–µ —Å—Ç–∏–ª–∏ –∏–∫–æ–Ω–æ–∫ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —ç–∫—Ä–∞–Ω–∞—Ö
   - –ù—É–∂–Ω–æ: –µ–¥–∏–Ω—ã–π IconSet —Å consistent stroke-width

6. **–°–ª–∞–±–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ—Å—Ç—å Loading States**
   - –ü—Ä–æ—Å—Ç—ã–µ —Å–ø–∏–Ω–Ω–µ—Ä—ã –±–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
   - –ù—É–∂–Ω–æ: skeleton screens –¥–ª—è –∫–ª—é—á–µ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

7. **–ü–ª–µ–µ—Ä –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–µ—Ä—Å–∏—é —Ç—Ä–µ–∫–∞ (A/B)**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç –∫–∞–∫—É—é –≤–µ—Ä—Å–∏—é —Å–ª—É—à–∞–µ—Ç
   - –ù—É–∂–Ω–æ: –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤–µ—Ä—Å–∏–∏ –≤ compact –∏ expanded —Ä–µ–∂–∏–º–∞—Ö

#### üü¢ –£–ª—É—á—à–µ–Ω–∏—è

8. **–ê–Ω–∏–º–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏**
   - –†–µ–∑–∫–∏–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Ä–æ—É—Ç–∞–º–∏
   - –ù—É–∂–Ω–æ: page transitions —Å framer-motion

9. **Haptic feedback –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö**
   - –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Telegram haptic API
   - –ù—É–∂–Ω–æ: —Ç–∞–∫—Ç–∏–ª—å–Ω—ã–π –æ—Ç–∫–ª–∏–∫ –Ω–∞ –∫–ª—é—á–µ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

10. **Dark/Light mode toggle**
    - –ù–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è —Ç–µ–º—ã
    - –ù—É–∂–Ω–æ: —É–≤–∞–∂–∞—Ç—å system preference + manual toggle

---

## üéØ –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –§–∞–∑–∞ 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (1-2 –¥–Ω—è)

#### 1.1 –£–ª—É—á—à–µ–Ω–∏–µ NotFound —Å—Ç—Ä–∞–Ω–∏—Ü—ã

```tsx
// –ù–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ —Ç–∏–ø—É –∫–æ–Ω—Ç–µ–Ω—Ç–∞
const messages = {
  track: { title: '–¢—Ä–µ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω', icon: Music },
  project: { title: '–ü—Ä–æ–µ–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω', icon: FolderOpen },
  playlist: { title: '–ü–ª–µ–π–ª–∏—Å—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω', icon: ListMusic },
  user: { title: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω', icon: User },
  default: { title: '–°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞', icon: Search },
};
```

#### 1.2 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Screenshot Mode –≤ —Ö—É–∫–∏

–û–±–Ω–æ–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Ö—É–∫–∏:
- `src/hooks/useProfile.tsx` - –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å mockProfile
- `src/hooks/useTracks.ts` - –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å mockTracks  
- `src/hooks/useUserCredits.ts` - –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å mockCredits
- `src/hooks/useProjects.ts` - –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å mockProjects

#### 1.3 –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –±–∞–Ω–Ω–µ—Ä–æ–≤

```tsx
// GuestModeBanner.tsx - —É—á—ë—Ç safe areas
className="fixed top-0 left-0 right-0 z-50"
style={{
  paddingTop: 'max(env(safe-area-inset-top), var(--tg-safe-area-inset-top, 0px))'
}}
```

### –§–∞–∑–∞ 2: –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (2-3 –¥–Ω—è)

#### 2.1 –°–æ–∑–¥–∞–Ω–∏–µ UnifiedEmptyState

```tsx
// src/components/ui/unified-empty-state.tsx
interface EmptyStateProps {
  type: 'tracks' | 'projects' | 'playlists' | 'artists' | 'search';
  action?: { label: string; onClick: () => void };
  className?: string;
}

export const UnifiedEmptyState = ({ type, action }: EmptyStateProps) => {
  const configs = {
    tracks: {
      icon: Music,
      title: '–ù–µ—Ç —Ç—Ä–µ–∫–æ–≤',
      description: '–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π –ø–µ—Ä–≤—ã–π —Ç—Ä–µ–∫ —Å –ø–æ–º–æ—â—å—é AI',
      actionLabel: '–°–æ–∑–¥–∞—Ç—å —Ç—Ä–µ–∫',
    },
    // ...
  };
};
```

#### 2.2 Skeleton –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

–°–æ–∑–¥–∞—Ç—å:
- `TrackCardSkeleton` - –¥–ª—è —Å–ø–∏—Å–∫–æ–≤ —Ç—Ä–µ–∫–æ–≤
- `ProjectCardSkeleton` - –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤
- `ProfileSkeleton` - –¥–ª—è –ø—Ä–æ—Ñ–∏–ª—è
- `PlayerSkeleton` - –¥–ª—è –ø–ª–µ–µ—Ä–∞

#### 2.3 –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤–µ—Ä—Å–∏–∏ –≤ –ø–ª–µ–µ—Ä–µ

```tsx
// –í CompactPlayer.tsx
<Badge variant="outline" className="text-[10px] px-1.5">
  {activeVersion?.version_label || 'A'}
</Badge>
```

### –§–∞–∑–∞ 3: UX —É–ª—É—á—à–µ–Ω–∏—è (2-3 –¥–Ω—è)

#### 3.1 Page Transitions

```tsx
// src/components/PageTransition.tsx
import { motion, AnimatePresence } from '@/lib/motion';

export const PageTransition = ({ children }: { children: ReactNode }) => (
  <motion.div
    initial={{ opacity: 0, y: 10 }}
    animate={{ opacity: 1, y: 0 }}
    exit={{ opacity: 0, y: -10 }}
    transition={{ duration: 0.2 }}
  >
    {children}
  </motion.div>
);
```

#### 3.2 Haptic Feedback

```tsx
// src/hooks/useHaptic.ts
export const useHaptic = () => {
  const trigger = (type: 'light' | 'medium' | 'heavy' | 'success' | 'error') => {
    if (window.Telegram?.WebApp?.HapticFeedback) {
      const feedback = window.Telegram.WebApp.HapticFeedback;
      switch (type) {
        case 'light': feedback.impactOccurred('light'); break;
        case 'medium': feedback.impactOccurred('medium'); break;
        case 'heavy': feedback.impactOccurred('heavy'); break;
        case 'success': feedback.notificationOccurred('success'); break;
        case 'error': feedback.notificationOccurred('error'); break;
      }
    }
  };
  return { trigger };
};
```

#### 3.3 Theme Toggle

```tsx
// src/components/ThemeToggle.tsx
const ThemeToggle = () => {
  const { theme, setTheme } = useTheme();
  
  return (
    <Button
      variant="ghost"
      size="icon"
      onClick={() => setTheme(theme === 'dark' ? 'light' : 'dark')}
    >
      {theme === 'dark' ? <Sun /> : <Moon />}
    </Button>
  );
};
```

### –§–∞–∑–∞ 4: –ü–æ–ª–∏—Ä–æ–≤–∫–∞ (1-2 –¥–Ω—è)

#### 4.1 Micro-interactions

- Hover —ç—Ñ—Ñ–µ–∫—Ç—ã –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö
- Press states –Ω–∞ –∫–Ω–æ–ø–∫–∞—Ö
- Loading shimmer –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö
- Reveal –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —Å–ø–∏—Å–∫–æ–≤

#### 4.2 Accessibility

- Focus visible —Å—Ç–∏–ª–∏
- ARIA labels
- Keyboard navigation
- Screen reader support

#### 4.3 Performance

- Lazy loading –¥–ª—è heavy –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- Image optimization
- Bundle splitting
- Prefetching –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–æ—É—Ç–æ–≤

---

## üì± –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è

| –≠–∫—Ä–∞–Ω | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –û—Å–Ω–æ–≤–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è |
|-------|-----------|-------------------|
| **–ì–ª–∞–≤–Ω–∞—è** | üî¥ High | Hero section, skeleton loading, better empty states |
| **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞** | üî¥ High | Virtualization, swipe actions, version indicators |
| **–ü–ª–µ–µ—Ä** | üî¥ High | Version badge, better controls, lyrics sync |
| **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è** | üü° Medium | Form validation UX, preview, tips |
| **–ü—Ä–æ—Ñ–∏–ª—å** | üü° Medium | Stats visualization, achievements display |
| **–ü—Ä–æ–µ–∫—Ç—ã** | üü° Medium | Project cards, progress indicators |
| **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** | üü¢ Low | Theme toggle, better organization |

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è

```
src/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ unified-empty-state.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ skeleton/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ track-card-skeleton.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ project-card-skeleton.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ profile-skeleton.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page-transition.tsx
‚îÇ   ‚îî‚îÄ‚îÄ theme/
‚îÇ       ‚îî‚îÄ‚îÄ ThemeToggle.tsx
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îú‚îÄ‚îÄ useHaptic.ts
‚îÇ   ‚îî‚îÄ‚îÄ usePageTransition.ts
‚îî‚îÄ‚îÄ lib/
    ‚îî‚îÄ‚îÄ haptic.ts
```

### –§–∞–π–ª—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

- `src/pages/NotFound.tsx` - –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- `src/hooks/useProfile.tsx` - screenshot mode
- `src/hooks/useTracks.ts` - screenshot mode
- `src/components/GuestModeBanner.tsx` - safe areas
- `src/components/player/CompactPlayer.tsx` - version badge
- `src/components/player/ExpandedPlayer.tsx` - version badge
- `src/components/MainLayout.tsx` - page transitions

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –§–∞–∑–∞ 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ
- [ ] –£–ª—É—á—à–∏—Ç—å NotFound —Å—Ç—Ä–∞–Ω–∏—Ü—É
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å screenshot mode –≤ useProfile
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å screenshot mode –≤ useTracks
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–Ω–Ω–µ—Ä–æ–≤

### –§–∞–∑–∞ 2: –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è
- [ ] –°–æ–∑–¥–∞—Ç—å UnifiedEmptyState
- [ ] –°–æ–∑–¥–∞—Ç—å TrackCardSkeleton
- [ ] –°–æ–∑–¥–∞—Ç—å ProjectCardSkeleton
- [ ] –î–æ–±–∞–≤–∏—Ç—å version badge –≤ –ø–ª–µ–µ—Ä

### –§–∞–∑–∞ 3: UX
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å PageTransition
- [ ] –î–æ–±–∞–≤–∏—Ç—å useHaptic —Ö—É–∫
- [ ] –°–æ–∑–¥–∞—Ç—å ThemeToggle
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å haptic –≤ –∫–ª—é—á–µ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

### –§–∞–∑–∞ 4: –ü–æ–ª–∏—Ä–æ–≤–∫–∞
- [ ] –î–æ–±–∞–≤–∏—Ç—å micro-interactions
- [ ] –£–ª—É—á—à–∏—Ç—å accessibility
- [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å performance
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

---

## üìà –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

1. **UX Score:** +15-20% (–Ω–∞ –æ—Å–Ω–æ–≤–µ user feedback)
2. **Loading perceived time:** -30% (skeleton screens)
3. **Error recovery:** +50% (better error states)
4. **Engagement:** +10% (haptic feedback, animations)
5. **Accessibility:** WCAG 2.1 AA compliance

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å mobile-first
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ design tokens –∏–∑ `index.css`
- –°–ª–µ–¥–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º –∏–∑ `src/lib/errors` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Telegram Mini App –Ω–∞ iOS –∏ Android
