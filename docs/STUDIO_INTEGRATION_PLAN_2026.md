# üéº –ü–ª–∞–Ω –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Studio —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –∑–∞–ø–∏—Å–∏ –∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2026-01-04  
**–°—Ç–∞—Ç—É—Å:** üìã Planning  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1 (Critical)  
**–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:**
- [SDD-015-Studio-Enhancement.md](../specs/SDD-015-Studio-Enhancement.md)
- [001-unified-studio-mobile](../specs/001-unified-studio-mobile/)
- [STUDIO_V2_INTERFACE_IMPROVEMENTS.md](../STUDIO_V2_INTERFACE_IMPROVEMENTS.md)

---

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–í–≤–µ–¥–µ–Ω–∏–µ –∏ —Ü–µ–ª–∏](#-–≤–≤–µ–¥–µ–Ω–∏–µ-–∏-—Ü–µ–ª–∏)
2. [–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ](#-—Ç–µ–∫—É—â–µ–µ-—Å–æ—Å—Ç–æ—è–Ω–∏–µ)
3. [–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#-–ø—Ä–µ–¥–ª–∞–≥–∞–µ–º–∞—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
4. [–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
5. [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏](#-—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ-—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏)
6. [–î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏](#-–¥–æ—Ä–æ–∂–Ω–∞—è-–∫–∞—Ä—Ç–∞-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
7. [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å API](#-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏-—Å-api)
8. [–ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö](#-–º–æ–¥–µ–ª—å-–¥–∞–Ω–Ω—ã—Ö)
9. [UX/UI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏](#-uxui-—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏)
10. [–ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞](#-–º–µ—Ç—Ä–∏–∫–∏-—É—Å–ø–µ—Ö–∞)

---

## üéØ –í–≤–µ–¥–µ–Ω–∏–µ –∏ —Ü–µ–ª–∏

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ MusicVerse AI –∏–º–µ–µ—Ç —Ä–∞–∑—Ä–æ–∑–Ω–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–ø–∏—Å–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞—É–¥–∏–æ:
- **AudioRecordDialog** - –±–∞–∑–æ–≤–∞—è –∑–∞–ø–∏—Å—å –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞
- **GuitarStudio** - —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –≥–∏—Ç–∞—Ä–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
- **TranscriptionExportPanel** - —ç–∫—Å–ø–æ—Ä—Ç —Å—Ç–µ–º–æ–≤ –≤ MIDI
- **VocalReplacementDialog/ArrangementReplacementDialog** - –∑–∞–º–µ–Ω–∞ —á–∞—Å—Ç–µ–π —Ç—Ä–µ–∫–∞

–≠—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ, —á—Ç–æ —Å–æ–∑–¥–∞—ë—Ç:
- ‚ùå –§—Ä–∞–≥–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç
- ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ (~30% –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏—è)
- ‚ùå –°–ª–æ–∂–Ω–æ—Å—Ç—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫–µ –∏ —Ä–∞–∑–≤–∏—Ç–∏–∏
- ‚ùå –ù–µ–ø–æ–ª–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π API (Klangio, Replicate, Suno)
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –µ–¥–∏–Ω–æ–≥–æ workflow –¥–ª—è –º—É–∑—ã–∫–∞–Ω—Ç–æ–≤

### –¶–µ–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

#### –ë–∏–∑–Ω–µ—Å-—Ü–µ–ª–∏
1. **Unified Recording Studio** - –µ–¥–∏–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∑–∞–ø–∏—Å–∏
2. **Professional Workflow** - DAW-—Å—Ç–∏–ª—å —Ä–∞–±–æ—Ç—ã –¥–ª—è –º—É–∑—ã–∫–∞–Ω—Ç–æ–≤
3. **AI-Powered Tools** - –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –∏ –∞–Ω–∞–ª–∏–∑
4. **Mobile-First** - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
5. **User Retention** - —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

#### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ü–µ–ª–∏
1. –ö–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã (-40% –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è)
2. –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π API –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∑–∞–ø–∏—Å–∏
3. –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Klangio API (chords, transcription, beat tracking)
4. Real-time –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (waveform, chords, MIDI roll)
5. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (lazy loading, virtualization)

---

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### 1. Recording Components
```
src/components/audio-record/
‚îú‚îÄ‚îÄ AudioRecordDialog.tsx           # –î–∏–∞–ª–æ–≥ –∑–∞–ø–∏—Å–∏ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ (‚úÖ —Ä–∞–±–æ—Ç–∞–µ—Ç)
‚îú‚îÄ‚îÄ CloudAudioPicker.tsx            # –í—ã–±–æ—Ä –∏–∑ –æ–±–ª–∞—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (‚úÖ —Ä–∞–±–æ—Ç–∞–µ—Ç)
‚îî‚îÄ‚îÄ InstrumentalSettingsDialog.tsx  # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª–∞ (‚úÖ —Ä–∞–±–æ—Ç–∞–µ—Ç)
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ó–∞–ø–∏—Å—å —Å –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ (–¥–æ 5 –º–∏–Ω—É—Ç)
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ –æ–±–ª–∞–∫–∞ (reference-audio bucket)
- ‚úÖ –ê–≤—Ç–æ-—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –æ–±–ª–∞–∫–æ
- ‚úÖ Preview –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç: –º–µ—Ç—Ä–æ–Ω–æ–º, —Ç—é–Ω–µ—Ä, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —É—Ä–æ–≤–Ω—è
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç: multi-take recording (–∑–∞–ø–∏—Å—å –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥—É–±–ª–µ–π)

#### 2. Guitar Studio
```
src/pages/GuitarStudio.tsx          # –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (‚úÖ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–∞—Å—Ç–∏—á–Ω–æ)
src/hooks/useGuitarAnalysis.ts      # –ê–Ω–∞–ª–∏–∑ —á–µ—Ä–µ–∑ Klangio (‚ö†Ô∏è —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏)
src/types/guitar.ts                 # –¢–∏–ø—ã –¥–ª—è –≥–∏—Ç–∞—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ó–∞–ø–∏—Å—å –≥–∏—Ç–∞—Ä—ã
- ‚úÖ –ê–Ω–∞–ª–∏–∑ —á–µ—Ä–µ–∑ Klangio API
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–º–ø–∞, –∞–∫–∫–æ—Ä–¥–æ–≤, –±–∏—Ç-—Ç—Ä–µ–∫–∏–Ω–≥
- ‚ö†Ô∏è –≠–∫—Å–ø–æ—Ä—Ç –≤ MIDI/GP5/PDF (—á–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç - —Å–º. SDD-015)
- ‚ùå –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∞–∫–∫–æ—Ä–¥–æ–≤ –Ω–∞ waveform
- ‚ùå –¢–∞–±—É–ª–∞—Ç—É—Ä—ã guitar pro

#### 3. Transcription Export
```
src/components/stem-studio/TranscriptionExportPanel.tsx  # MIDI —ç–∫—Å–ø–æ—Ä—Ç (‚úÖ —Ä–∞–±–æ—Ç–∞–µ—Ç)
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è —Å—Ç–µ–º–æ–≤ –≤ MIDI (Replicate + Klangio)
- ‚úÖ –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ (guitar/piano/bass/drums/vocal/universal)
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –≤ MIDI, GP5, PDF, MusicXML
- ‚ö†Ô∏è Klangio –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ 2/5 —Ñ–æ—Ä–º–∞—Ç–æ–≤ (MIDI + MusicXML) - –±–∞–≥ –≤ API
- ‚ùå MIDI roll –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
- ‚ùå –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ MIDI –ø–µ—Ä–µ–¥ —ç–∫—Å–ø–æ—Ä—Ç–æ–º

#### 4. Stem Studio Dialogs
```
src/components/stem-studio/
‚îú‚îÄ‚îÄ VocalReplacementDialog.tsx       # –ó–∞–º–µ–Ω–∞ –≤–æ–∫–∞–ª–∞ (‚ö†Ô∏è —Ç—Ä–µ–±—É–µ—Ç audioUrl —Å—Ç–µ–º–∞)
‚îú‚îÄ‚îÄ ArrangementReplacementDialog.tsx # –ó–∞–º–µ–Ω–∞ –∞—Ä–∞–Ω–∂–∏—Ä–æ–≤–∫–∏ (‚ö†Ô∏è —Ç—Ä–µ–±—É–µ—Ç audioUrl —Å—Ç–µ–º–∞)
‚îú‚îÄ‚îÄ ExtendDialog.tsx                 # –ü—Ä–æ–¥–ª–µ–Ω–∏–µ —Ç—Ä–µ–∫–∞ (‚úÖ —Ä–∞–±–æ—Ç–∞–µ—Ç)
‚îú‚îÄ‚îÄ RemixDialog.tsx                  # –†–µ–º–∏–∫—Å —Ç—Ä–µ–∫–∞ (‚úÖ —Ä–∞–±–æ—Ç–∞–µ—Ç)
‚îî‚îÄ‚îÄ TrimDialog.tsx                   # –û–±—Ä–µ–∑–∫–∞ —Ç—Ä–µ–∫–∞ (‚úÖ —Ä–∞–±–æ—Ç–∞–µ—Ç)
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ Extend - –ø—Ä–æ–¥–ª–µ–Ω–∏–µ —Ç—Ä–µ–∫–∞ –Ω–∞ 10-40 —Å–µ–∫—É–Ω–¥
- ‚úÖ Remix - —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–º–∏–∫—Å–∞ —Å –Ω–æ–≤—ã–º —Å—Ç–∏–ª–µ–º
- ‚úÖ Trim - –æ–±—Ä–µ–∑–∫–∞ –Ω–∞—á–∞–ª–∞/–∫–æ–Ω—Ü–∞
- ‚ö†Ô∏è Replace Vocal - —Ç—Ä–µ–±—É–µ—Ç instrumental stem URL (–±–∞–≥)
- ‚ö†Ô∏è Replace Arrangement - —Ç—Ä–µ–±—É–µ—Ç vocal stem URL (–±–∞–≥)
- ‚ùå Add Vocal - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–æ–∫–∞–ª–∞ –∫ instrumental —Ç—Ä–µ–∫—É
- ‚ùå Add Instrumental - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª–∞ –∫ vocal —Ç—Ä–µ–∫—É

#### 5. Edge Functions
```
supabase/functions/
‚îú‚îÄ‚îÄ klangio-analyze/           # Klangio API integration (‚ö†Ô∏è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –≤ PR #149)
‚îú‚îÄ‚îÄ replicate-midi-transcription/ # Basic Pitch MIDI transcription (‚úÖ —Ä–∞–±–æ—Ç–∞–µ—Ç)
‚îú‚îÄ‚îÄ transcribe-midi/           # Legacy MIDI transcription (‚ùå —É—Å—Ç–∞—Ä–µ–ª)
‚îî‚îÄ‚îÄ transcribe-lyrics/         # Lyrics transcription (‚úÖ —Ä–∞–±–æ—Ç–∞–µ—Ç)
```

**–°—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π:**
- ‚úÖ **Klangio API** - chord recognition, beat tracking, transcription
  - ‚ö†Ô∏è **BLOCKER**: API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ 2/5 —Ñ–æ—Ä–º–∞—Ç–æ–≤ (MIDI + MusicXML)
  - ‚è≥ **PR #149**: –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç–æ, –æ–∂–∏–¥–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚úÖ **Replicate Basic Pitch** - MIDI transcription (—Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ)
- ‚úÖ **Suno AI v5** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –º—É–∑—ã–∫–∏, extend, remix

### –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –∑–æ–Ω—ã

#### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–∞–≥–∏ (P1)
1. **VocalReplacementDialog** - –Ω–µ –ø–µ—Ä–µ–¥–∞—ë—Ç audioUrl —Å—Ç–µ–º–∞ ‚Üí –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞–¥–∞–µ—Ç
2. **ArrangementReplacementDialog** - –Ω–µ –ø–µ—Ä–µ–¥–∞—ë—Ç audioUrl —Å—Ç–µ–º–∞ ‚Üí –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞–¥–∞–µ—Ç
3. **Klangio outputs** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ 2/5 —Ñ–æ—Ä–º–∞—Ç–æ–≤ (MIDI + MusicXML)
4. **Section detection** - –Ω–µ –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Å–µ–∫—Ü–∏–∏ –∏–∑ lyrics –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã (P2)
1. **–§—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è** - 3 —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏ –∞—É–¥–∏–æ
2. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Å—Ö–æ–∂–∏–π –∫–æ–¥ –≤ AudioRecordDialog –∏ GuitarStudio
3. **–ù–µ—Ç –µ–¥–∏–Ω–æ–≥–æ workflow** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç, –≥–¥–µ —á—Ç–æ –¥–µ–ª–∞—Ç—å
4. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏** - –Ω–µ—Ç chord overlay –Ω–∞ waveform, –Ω–µ—Ç MIDI roll

#### –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ (P3)
1. **Multi-take recording** - –∑–∞–ø–∏—Å—å –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥—É–±–ª–µ–π –¥–ª—è –≤—ã–±–æ—Ä–∞ –ª—É—á—à–µ–≥–æ
2. **Vocal tuning tools** - –º–µ—Ç—Ä–æ–Ω–æ–º, —Ç—é–Ω–µ—Ä, pitch correction
3. **Chord library** - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∞–∫–∫–æ—Ä–¥–æ–≤ —Å –∞–ø–ø–ª–∏–∫–∞—Ç—É—Ä–∞–º–∏
4. **MIDI editor** - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ MIDI –ø–µ—Ä–µ–¥ —ç–∫—Å–ø–æ—Ä—Ç–æ–º
5. **Export presets** - –ø—Ä–µ—Å–µ—Ç—ã —ç–∫—Å–ø–æ—Ä—Ç–∞ (stems + MIDI + PDF –≤ –æ–¥–∏–Ω –∫–ª–∏–∫)

---

## üèóÔ∏è –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è: Unified Recording Studio

–°–æ–∑–¥–∞–Ω–∏–µ –µ–¥–∏–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ **UnifiedRecordingStudio**, –∫–æ—Ç–æ—Ä—ã–π:
1. –ó–∞–º–µ–Ω—è–µ—Ç —Ä–∞–∑—Ä–æ–∑–Ω–µ–Ω–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏ –∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
2. –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è –≤ **UnifiedStudioPage** –∫–∞–∫ –≤–∫–ª–∞–¥–∫–∞ "Recording"
3. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∑–∞–ø–∏—Å–∏
4. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π workflow (–∑–∞–ø–∏—Å—å ‚Üí –∞–Ω–∞–ª–∏–∑ ‚Üí —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è ‚Üí —ç–∫—Å–ø–æ—Ä—Ç)

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —Å—Ö–µ–º–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    UnifiedStudioPage                         ‚îÇ
‚îÇ  (src/pages/studio-v2/UnifiedStudioPage.tsx)                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚îÇ
                           ‚îÇ tabs: ['tracks', 'mixer', 'recording', 'export']
                           ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     StudioShell                              ‚îÇ
‚îÇ  (src/components/studio/unified/StudioShell.tsx)            ‚îÇ
‚îÇ                                                              ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Tracks Tab  ‚îÇ  ‚îÇ  Mixer Tab   ‚îÇ  ‚îÇ  Recording Tab   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ              ‚îÇ  ‚îÇ              ‚îÇ  ‚îÇ  (NEW)           ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                                               ‚îÇ              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                                ‚îÇ
                        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                        ‚îÇ                                               ‚îÇ
                        ‚ñº                                               ‚ñº
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ  UnifiedRecordingStudio      ‚îÇ              ‚îÇ  TranscriptionWorkflow       ‚îÇ
        ‚îÇ  (NEW Component)             ‚îÇ              ‚îÇ  (NEW Component)             ‚îÇ
        ‚îÇ                              ‚îÇ              ‚îÇ                              ‚îÇ
        ‚îÇ  ‚Ä¢ RecordingPanel            ‚îÇ              ‚îÇ  ‚Ä¢ TranscriptionPanel        ‚îÇ
        ‚îÇ  ‚Ä¢ SourceSelector            ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ  ‚Ä¢ ChordVisualization        ‚îÇ
        ‚îÇ  ‚Ä¢ MonitoringTools           ‚îÇ              ‚îÇ  ‚Ä¢ MIDIRollViewer            ‚îÇ
        ‚îÇ  ‚Ä¢ TakeManager               ‚îÇ              ‚îÇ  ‚Ä¢ ExportOptionsPanel        ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ                                               ‚îÇ
                        ‚îÇ                                               ‚îÇ
                        ‚ñº                                               ‚ñº
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ  Recording Services          ‚îÇ              ‚îÇ  Analysis Services           ‚îÇ
        ‚îÇ                              ‚îÇ              ‚îÇ                              ‚îÇ
        ‚îÇ  ‚Ä¢ RecordingService          ‚îÇ              ‚îÇ  ‚Ä¢ KlangioService            ‚îÇ
        ‚îÇ  ‚Ä¢ AudioProcessingService    ‚îÇ              ‚îÇ  ‚Ä¢ ReplicateService          ‚îÇ
        ‚îÇ  ‚Ä¢ CloudStorageService       ‚îÇ              ‚îÇ  ‚Ä¢ ChordDetectionService     ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

#### –ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```
src/components/studio/recording/
‚îú‚îÄ‚îÄ UnifiedRecordingStudio.tsx        # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îú‚îÄ‚îÄ RecordingPanel.tsx                # –ü–∞–Ω–µ–ª—å –∑–∞–ø–∏—Å–∏
‚îÇ   ‚îú‚îÄ‚îÄ RecordButton.tsx              # –ö–Ω–æ–ø–∫–∞ –∑–∞–ø–∏—Å–∏
‚îÇ   ‚îú‚îÄ‚îÄ TakesList.tsx                 # –°–ø–∏—Å–æ–∫ –¥—É–±–ª–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ RecordingControls.tsx         # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å—å—é
‚îú‚îÄ‚îÄ MonitoringTools.tsx               # –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
‚îÇ   ‚îú‚îÄ‚îÄ Metronome.tsx                 # –ú–µ—Ç—Ä–æ–Ω–æ–º (‚úÖ —É–∂–µ –µ—Å—Ç—å)
‚îÇ   ‚îú‚îÄ‚îÄ GuitarTuner.tsx               # –¢—é–Ω–µ—Ä (‚úÖ —É–∂–µ –µ—Å—Ç—å)
‚îÇ   ‚îú‚îÄ‚îÄ AudioLevelMeter.tsx           # –ò–∑–º–µ—Ä–∏—Ç–µ–ª—å —É—Ä–æ–≤–Ω—è (‚úÖ —É–∂–µ –µ—Å—Ç—å)
‚îÇ   ‚îî‚îÄ‚îÄ PitchMonitor.tsx              # –ú–æ–Ω–∏—Ç–æ—Ä –≤—ã—Å–æ—Ç—ã —Ç–æ–Ω–∞ (NEW)
‚îú‚îÄ‚îÄ SourceSelector.tsx                # –í—ã–±–æ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ MicrophoneSource.tsx          # –ú–∏–∫—Ä–æ—Ñ–æ–Ω
‚îÇ   ‚îú‚îÄ‚îÄ CloudSource.tsx               # –û–±–ª–∞—á–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îî‚îÄ‚îÄ TrackSource.tsx               # –°—Ç–µ–º—ã –∏–∑ —Ç—Ä–µ–∫–æ–≤
‚îî‚îÄ‚îÄ TakeManager.tsx                   # –ú–µ–Ω–µ–¥–∂–µ—Ä –¥—É–±–ª–µ–π (NEW)

src/components/studio/transcription/
‚îú‚îÄ‚îÄ TranscriptionWorkflow.tsx         # Workflow —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
‚îú‚îÄ‚îÄ TranscriptionPanel.tsx            # –ü–∞–Ω–µ–ª—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ EngineSelector.tsx            # –í—ã–±–æ—Ä –¥–≤–∏–∂–∫–∞ (Klangio/Replicate)
‚îÇ   ‚îú‚îÄ‚îÄ ModelSelector.tsx             # –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ TranscriptionProgress.tsx     # –ü—Ä–æ–≥—Ä–µ—Å—Å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ TranscriptionResults.tsx      # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
‚îú‚îÄ‚îÄ ChordVisualization.tsx            # –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∞–∫–∫–æ—Ä–¥–æ–≤ (NEW)
‚îÇ   ‚îú‚îÄ‚îÄ ChordTimeline.tsx             # –¢–∞–π–º–ª–∞–π–Ω –∞–∫–∫–æ—Ä–¥–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ ChordDiagram.tsx              # –ê–ø–ø–ª–∏–∫–∞—Ç—É—Ä–∞ –∞–∫–∫–æ—Ä–¥–∞
‚îÇ   ‚îî‚îÄ‚îÄ ChordLibrary.tsx              # –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∞–∫–∫–æ—Ä–¥–æ–≤
‚îú‚îÄ‚îÄ MIDIRollViewer.tsx                # –ü—Ä–æ—Å–º–æ—Ç—Ä MIDI (NEW)
‚îÇ   ‚îú‚îÄ‚îÄ PianoRoll.tsx                 # –ü–∏–∞–Ω–æ-—Ä–æ–ª–ª
‚îÇ   ‚îú‚îÄ‚îÄ DrumRoll.tsx                  # –ë–∞—Ä–∞–±–∞–Ω–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä
‚îÇ   ‚îî‚îÄ‚îÄ GuitarTab.tsx                 # –¢–∞–±—É–ª–∞—Ç—É—Ä–∞
‚îî‚îÄ‚îÄ ExportOptionsPanel.tsx            # –û–ø—Ü–∏–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞
    ‚îú‚îÄ‚îÄ FormatSelector.tsx            # –í—ã–±–æ—Ä —Ñ–æ—Ä–º–∞—Ç–æ–≤
    ‚îú‚îÄ‚îÄ ExportPresets.tsx             # –ü—Ä–µ—Å–µ—Ç—ã —ç–∫—Å–ø–æ—Ä—Ç–∞
    ‚îî‚îÄ‚îÄ BatchExport.tsx               # –ì—Ä—É–ø–ø–æ–≤–æ–π —ç–∫—Å–ø–æ—Ä—Ç

src/services/studio/
‚îú‚îÄ‚îÄ RecordingService.ts               # –°–µ—Ä–≤–∏—Å –∑–∞–ø–∏—Å–∏ (NEW)
‚îú‚îÄ‚îÄ TranscriptionService.ts           # –°–µ—Ä–≤–∏—Å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ (NEW)
‚îú‚îÄ‚îÄ ChordDetectionService.ts          # –°–µ—Ä–≤–∏—Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞–∫–∫–æ—Ä–¥–æ–≤ (NEW)
‚îî‚îÄ‚îÄ MIDIProcessingService.ts          # –°–µ—Ä–≤–∏—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ MIDI (NEW)

src/hooks/studio/
‚îú‚îÄ‚îÄ useRecordingWorkflow.ts           # Workflow –∑–∞–ø–∏—Å–∏ (NEW)
‚îú‚îÄ‚îÄ useTranscriptionWorkflow.ts       # Workflow —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ (NEW)
‚îú‚îÄ‚îÄ useChordDetection.ts              # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞–∫–∫–æ—Ä–¥–æ–≤ (NEW)
‚îî‚îÄ‚îÄ useMIDIExport.ts                  # –≠–∫—Å–ø–æ—Ä—Ç MIDI (NEW)
```

#### –û–±–Ω–æ–≤–ª—è–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```
src/components/stem-studio/
‚îú‚îÄ‚îÄ VocalReplacementDialog.tsx        # FIX: –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å audioUrl —Å—Ç–µ–º–∞
‚îú‚îÄ‚îÄ ArrangementReplacementDialog.tsx  # FIX: –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å audioUrl —Å—Ç–µ–º–∞
‚îî‚îÄ‚îÄ TranscriptionExportPanel.tsx      # REFACTOR: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π

#### 1. Unified Studio Store
```typescript
// src/stores/useUnifiedStudioStore.ts
interface UnifiedStudioStore {
  project: StudioProject | null;
  activeTab: 'tracks' | 'mixer' | 'recording' | 'transcription' | 'export';
  
  // Recording state (NEW)
  recordingState: {
    isRecording: boolean;
    currentTake: AudioTake | null;
    takes: AudioTake[];
    source: 'microphone' | 'cloud' | 'stem';
    selectedStem?: TrackStem;
  };
  
  // Transcription state (NEW)
  transcriptionState: {
    isProcessing: boolean;
    engine: 'klangio' | 'replicate';
    model: TranscriptionModel;
    results: TranscriptionResults | null;
    chords: Chord[];
    midi: MIDIData | null;
  };
  
  // Actions (NEW)
  startRecording: (source: RecordingSource) => void;
  stopRecording: () => void;
  saveTake: (take: AudioTake) => Promise<void>;
  transcribeAudio: (audioUrl: string, options: TranscriptionOptions) => Promise<void>;
  detectChords: (audioUrl: string) => Promise<Chord[]>;
}
```

#### 2. Studio Project Model
```typescript
// –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –º–æ–¥–µ–ª–∏
interface StudioProject {
  // ... existing fields
  
  // NEW: Recording takes
  takes?: AudioTake[];
  
  // NEW: Transcription data
  transcription?: {
    chords: Chord[];
    midi: MIDIData;
    notes: Note[];
    beats: Beat[];
  };
}

interface AudioTake {
  id: string;
  project_id: string;
  audio_url: string;
  duration: number;
  created_at: string;
  source: 'microphone' | 'cloud' | 'stem';
  stem_id?: string;
  metadata?: {
    bpm?: number;
    key?: string;
    quality_score?: number; // AI –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∑–∞–ø–∏—Å–∏
  };
}
```

---

## üéµ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. Unified Recording System

#### 1.1 Recording Sources

**Microphone Recording**
- –ó–∞–ø–∏—Å—å —Å –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ (–¥–æ 10 –º–∏–Ω—É—Ç)
- Real-time –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —É—Ä–æ–≤–Ω—è
- –ú–µ—Ç—Ä–æ–Ω–æ–º —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º —Ç–µ–º–ø–æ–º
- Count-in (–æ—Ç—Å—á—ë—Ç –ø–µ—Ä–µ–¥ –∑–∞–ø–∏—Å—å—é)
- –ê–≤—Ç–æ-—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥

**Cloud Audio Import**
- –í—ã–±–æ—Ä –∏–∑ reference-audio bucket
- Drag & drop –∑–∞–≥—Ä—É–∑–∫–∞
- Preview –ø–µ—Ä–µ–¥ –∏–º–ø–æ—Ä—Ç–æ–º
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤: MP3, WAV, OGG, M4A

**Stem-based Recording**
- –ó–∞–ø–∏—Å—å –ø–æ–≤–µ—Ä—Ö —Å—Ç–µ–º–∞ (–≤–æ–∫–∞–ª –ø–æ–≤–µ—Ä—Ö instrumental)
- –ó–∞–º–µ–Ω–∞ —Å—Ç–µ–º–∞ (–Ω–æ–≤—ã–π –≤–æ–∫–∞–ª –≤–º–µ—Å—Ç–æ —Å—Ç–∞—Ä–æ–≥–æ)
- –ú–∏–∫—Å —Å –æ—Ä–∏–≥–∏–Ω–∞–ª–æ–º (blend control 0-100%)
- Auto-alignment (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ —Ç–µ–º–ø—É)

#### 1.2 Multi-Take Recording

**Take Management**
- –ó–∞–ø–∏—Å—å –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥—É–±–ª–µ–π
- A/B —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥—É–±–ª–µ–π
- –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ AI (pitch accuracy, timing, clarity)
- –í—ã–±–æ—Ä –ª—É—á—à–µ–≥–æ –¥—É–±–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- Composite recording (—Å—à–∏–≤–∫–∞ –ª—É—á—à–∏—Ö —á–∞—Å—Ç–µ–π)

**Workflow:**
```
1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ (–º–∏–∫—Ä–æ—Ñ–æ–Ω/–æ–±–ª–∞–∫–æ/—Å—Ç–µ–º)
2. –í—ã–±—Ä–∞—Ç—å —Ä–µ–∂–∏–º (single/multi-take)
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–µ—Ç—Ä–æ–Ω–æ–º (BPM, count-in)
4. –ó–∞–ø–∏—Å–∞—Ç—å –¥—É–±–ª—å
5. –ü–æ–≤—Ç–æ—Ä–∏—Ç—å 2-5 —Ä–∞–∑
6. –°—Ä–∞–≤–Ω–∏—Ç—å –¥—É–±–ª–∏ (A/B comparison)
7. –í—ã–±—Ä–∞—Ç—å –ª—É—á—à–∏–π –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å composite
8. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç
```

#### 1.3 Monitoring Tools

**Metronome** (‚úÖ —É–∂–µ –µ—Å—Ç—å –≤ GuitarStudio)
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π BPM (40-240)
- –†–∞–∑–º–µ—Ä—ã: 2/4, 3/4, 4/4, 5/4, 6/8, 7/8
- –ì—Ä–æ–º–∫–æ—Å—Ç—å (0-100%)
- –ê–∫—Ü–µ–Ω—Ç—ã –Ω–∞ —Å–∏–ª—å–Ω—ã–µ –¥–æ–ª–∏
- Visual –º–µ—Ç—Ä–æ–Ω–æ–º (–º–∏–≥–∞—é—â–∏–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä)

**Guitar Tuner** (‚úÖ —É–∂–µ –µ—Å—Ç—å –≤ GuitarStudio)
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å—Ç—Ä–æ–π (E A D G B E)
- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å—Ç—Ä–æ–∏ (Drop D, Open G, etc.)
- Real-time pitch detection
- Visual –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä (—Ü–µ–Ω—Ç—Ä/–æ—Å—Ç—Ä–µ–µ/—Ç—É–ø–µ–µ)
- Auto-tune —Ä–µ–∂–∏–º (pitch correction)

**Audio Level Meter** (‚úÖ —É–∂–µ –µ—Å—Ç—å –≤ GuitarStudio)
- Peak level indicator
- RMS level indicator
- Clip detection
- –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è (–∑–µ–ª—ë–Ω—ã–π/–∂—ë–ª—Ç—ã–π/–∫—Ä–∞—Å–Ω—ã–π)

**Pitch Monitor** (NEW)
- Real-time pitch visualization
- Pitch curve overlay
- Vibrato detection
- Pitch drift warning
- Target pitch indicator

### 2. Transcription & Analysis

#### 2.1 Chord Detection

**Klangio Chord Recognition**
- –†–µ–∂–∏–º—ã: basic, extended
- Vocabulary: major-minor, full (extended chords)
- Output: chord timeline —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏
- Confidence score –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫–∫–æ—Ä–¥–∞
- Auto-correction –¥–ª—è —á–∞—Å—Ç—ã—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π

**Chord Visualization**
- Timeline —Å –∞–∫–∫–æ—Ä–¥–∞–º–∏ –Ω–∞–¥ waveform
- Chord diagrams (–∞–ø–ø–ª–∏–∫–∞—Ç—É—Ä—ã) –¥–ª—è –≥–∏—Ç–∞—Ä—ã
- Chord progression –∞–Ω–∞–ª–∏–∑ (I-IV-V, ii-V-I, etc.)
- Chord library —Å –ø–æ–∏—Å–∫–æ–º
- Export –≤ ChordPro, UltimateGuitar format

**Workflow:**
```
1. –ó–∞–≥—Ä—É–∑–∏—Ç—å –∞—É–¥–∏–æ (–º–∏–∫—Ä–æ—Ñ–æ–Ω/–æ–±–ª–∞–∫–æ/—Å—Ç–µ–º)
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å chord detection (Klangio API)
3. –î–æ–∂–¥–∞—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (10-30 —Å–µ–∫)
4. –ü—Ä–æ—Å–º–æ—Ç—Ä chord timeline
5. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–∫–∫–æ—Ä–¥–æ–≤ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
6. Export –≤ ChordPro/PDF
```

#### 2.2 MIDI Transcription

**Engine Selection**
- **Klangio** - –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–π –¥–ª—è guitar/piano/bass
- **Replicate Basic Pitch** - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π, –±—ã—Å—Ç—Ä—ã–π

**Model Selection** (Klangio)
- guitar - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –≥–∏—Ç–∞—Ä—ã
- piano - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è —Ñ–æ—Ä—Ç–µ–ø–∏–∞–Ω–æ
- bass - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –±–∞—Å–∞
- drums - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è —É–¥–∞—Ä–Ω—ã—Ö
- vocal - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –≤–æ–∫–∞–ª–∞
- universal - –¥–ª—è –ª—é–±—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

**Output Formats**
- MIDI (.mid) - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π MIDI —Ñ–∞–π–ª
- MIDI Quantized (.mid) - –∫–≤–∞–Ω—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π MIDI
- MusicXML (.xml/.mxml) - –¥–ª—è Sibelius, Finale
- Guitar Pro (.gp5) - –¥–ª—è Guitar Pro 5/6/7
- PDF (.pdf) - –Ω–æ—Ç—ã + —Ç–∞–±—É–ª–∞—Ç—É—Ä–∞

**MIDI Roll Viewer** (NEW)
- Piano roll –¥–ª—è –∫–ª–∞–≤–∏—à–Ω—ã—Ö
- Drum roll –¥–ª—è —É–¥–∞—Ä–Ω—ã—Ö
- Guitar tab –¥–ª—è –≥–∏—Ç–∞—Ä—ã
- Zoom in/out
- Play back MIDI —Å —Å–∏–Ω—Ç–µ–∑–∞—Ç–æ—Ä–æ–º
- Export –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤

**Workflow:**
```
1. –í—ã–±—Ä–∞—Ç—å —Å—Ç–µ–º/–∑–∞–ø–∏—Å—å –¥–ª—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
2. –í—ã–±—Ä–∞—Ç—å –¥–≤–∏–∂–æ–∫ (Klangio/Replicate)
3. –í—ã–±—Ä–∞—Ç—å –º–æ–¥–µ–ª—å (guitar/piano/etc)
4. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é
5. –î–æ–∂–¥–∞—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (30-120 —Å–µ–∫)
6. –ü—Ä–æ—Å–º–æ—Ç—Ä MIDI roll
7. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
8. Export –≤ –Ω—É–∂–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
```

#### 2.3 Beat Tracking

**Klangio Beat Detection**
- Tempo detection (BPM)
- Beat markers (downbeats)
- Time signature detection
- Tempo stability analysis
- Strumming pattern detection (–¥–ª—è –≥–∏—Ç–∞—Ä—ã)

**Visualization**
- Beat markers –Ω–∞ waveform
- Tempo curve (–µ—Å–ª–∏ —Ç–µ–º–ø –º–µ–Ω—è–µ—Ç—Å—è)
- Grid overlay (—Å–µ—Ç–∫–∞ —Ä–∏—Ç–º–∞)
- Click track generation

### 3. Vocal & Instrumental Processing

#### 3.1 Add Vocal to Instrumental

**–§—É–Ω–∫—Ü–∏—è:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–æ–∫–∞–ª–∞ –∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª—å–Ω–æ–º—É —Ç—Ä–µ–∫—É

**Workflow:**
```
1. –í—ã–±—Ä–∞—Ç—å instrumental —Ç—Ä–µ–∫ (–∏–ª–∏ —Å—Ç–µ–º)
2. –û—Ç–∫—Ä—ã—Ç—å "Add Vocal" dialog
3. –ó–∞–ø–∏—Å–∞—Ç—å –≤–æ–∫–∞–ª (–º–∏–∫—Ä–æ—Ñ–æ–Ω) –ò–õ–ò –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ –æ–±–ª–∞–∫–∞
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
   - Volume balance (vocal vs instrumental)
   - Vocal effects (reverb, delay, compression)
   - Pitch correction (auto-tune level)
   - EQ presets (warm, bright, radio)
5. Preview –º–∏–∫—Å–∞
6. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —á–µ—Ä–µ–∑ Suno AI
7. –ü–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–π —Ç—Ä–µ–∫ —Å –≤–æ–∫–∞–ª–æ–º
```

**API Integration:**
- Suno AI v5 - `extend_audio` endpoint
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - `audio_url` - instrumental —Ç—Ä–µ–∫
  - `vocals_audio_url` - –∑–∞–ø–∏—Å–∞–Ω–Ω—ã–π –≤–æ–∫–∞–ª
  - `prompt` - –æ–ø–∏—Å–∞–Ω–∏–µ —Å—Ç–∏–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  - `continue_at` - —Ç–æ—á–∫–∞ —Å—Ç–∞—Ä—Ç–∞ (–æ–±—ã—á–Ω–æ 0)

#### 3.2 Add Instrumental to Vocal

**–§—É–Ω–∫—Ü–∏—è:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª–∞ –∫ –≤–æ–∫–∞–ª—å–Ω–æ–º—É —Ç—Ä–µ–∫—É

**Workflow:**
```
1. –í—ã–±—Ä–∞—Ç—å vocal —Ç—Ä–µ–∫ (–∏–ª–∏ —Å—Ç–µ–º)
2. –û—Ç–∫—Ä—ã—Ç—å "Add Instrumental" dialog
3. –í—ã–±—Ä–∞—Ç—å —Ç–∏–ø –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª–∞:
   - AI Generation (Suno –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–π)
   - From Library (–≤—ã–±–æ—Ä –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏)
   - Record/Upload (–∑–∞–ø–∏—Å—å –≥–∏—Ç–∞—Ä—ã/–ø–∏–∞–Ω–∏–Ω–æ)
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
   - Style prompt (–¥–ª—è AI generation)
   - Volume balance
   - Key matching (–∞–≤—Ç–æ-–ø–æ–¥–±–æ—Ä —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏)
   - Tempo matching (–∞–≤—Ç–æ-–ø–æ–¥–±–æ—Ä —Ç–µ–º–ø–∞)
5. Preview –º–∏–∫—Å–∞
6. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é
7. –ü–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–π —Ç—Ä–µ–∫ —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª–æ–º
```

#### 3.3 Replace Vocal (FIX)

**–¢–µ–∫—É—â–∏–π –±–∞–≥:** VocalReplacementDialog –Ω–µ –ø–µ—Ä–µ–¥–∞—ë—Ç audioUrl —Å—Ç–µ–º–∞

**Fix:**
```typescript
// VocalReplacementDialog.tsx
const handleGenerate = async () => {
  // ... existing code
  
  // FIX: Get instrumental stem URL
  const instrumentalStem = track.stems?.find(s => 
    s.stem_type === 'instrumental' || s.stem_type === 'accompaniment'
  );
  
  if (!instrumentalStem?.audio_url) {
    toast.error('–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —Å—Ç–µ–º –Ω–µ –Ω–∞–π–¥–µ–Ω');
    return;
  }
  
  const requestData = {
    // ... existing fields
    audio_url: instrumentalStem.audio_url, // FIX: –ø–µ—Ä–µ–¥–∞—Ç—å URL —Å—Ç–µ–º–∞
    vocals_audio_url: recordedVocalUrl,    // –ù–æ–≤—ã–π –≤–æ–∫–∞–ª
  };
  
  // ... rest of code
};
```

#### 3.4 Replace Arrangement (FIX)

**–¢–µ–∫—É—â–∏–π –±–∞–≥:** ArrangementReplacementDialog –Ω–µ –ø–µ—Ä–µ–¥–∞—ë—Ç audioUrl —Å—Ç–µ–º–∞

**Fix:**
```typescript
// ArrangementReplacementDialog.tsx
const handleGenerate = async () => {
  // ... existing code
  
  // FIX: Get vocal stem URL
  const vocalStem = track.stems?.find(s => 
    s.stem_type === 'vocals'
  );
  
  if (!vocalStem?.audio_url) {
    toast.error('–í–æ–∫–∞–ª—å–Ω—ã–π —Å—Ç–µ–º –Ω–µ –Ω–∞–π–¥–µ–Ω');
    return;
  }
  
  const requestData = {
    // ... existing fields
    audio_url: vocalStem.audio_url,        // FIX: –ø–µ—Ä–µ–¥–∞—Ç—å URL —Å—Ç–µ–º–∞
    instrumental_url: newInstrumentalUrl,   // –ù–æ–≤—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª
  };
  
  // ... rest of code
};
```

### 4. Extension & Remix

#### 4.1 Extend Track (‚úÖ —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

**–§—É–Ω–∫—Ü–∏—è:** –ü—Ä–æ–¥–ª–µ–Ω–∏–µ —Ç—Ä–µ–∫–∞ –Ω–∞ 10-40 —Å–µ–∫—É–Ω–¥

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- ExtendDialog.tsx - UI
- Suno AI v5 - `extend` endpoint
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏: duration (10/20/30/40s), prompt

**–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**
- Auto-fade –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞
- Extend with new section (verse ‚Üí chorus)
- Multiple extensions (40s ‚Üí 80s ‚Üí 120s)

#### 4.2 Remix Track (‚úÖ —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

**–§—É–Ω–∫—Ü–∏—è:** –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–º–∏–∫—Å–∞ —Å –Ω–æ–≤—ã–º —Å—Ç–∏–ª–µ–º

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- RemixDialog.tsx - UI
- Suno AI v5 - `extend_audio` endpoint
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏: style prompt, intensity

**–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**
- Style transfer from reference track
- Remix presets (EDM, Acoustic, Lo-fi)
- Stem-selective remix (—Ç–æ–ª—å–∫–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª/–≤–æ–∫–∞–ª)

### 5. Export & Sharing

#### 5.1 Multi-format Export

**Audio Formats:**
- MP3 (320 kbps) - –¥–ª—è —à–∞—Ä–∏–Ω–≥–∞
- WAV (44.1kHz, 16-bit) - –¥–ª—è –º–∞—Å—Ç–µ—Ä–∏–Ω–≥–∞
- OGG (high quality) - –¥–ª—è –≤–µ–±–∞
- M4A (AAC) - –¥–ª—è iOS

**Notation Formats:**
- MIDI (.mid) - –¥–ª—è DAW
- MIDI Quantized (.mid) - –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏
- MusicXML (.xml) - –¥–ª—è –Ω–æ—Ç–∞—Ç–æ—Ä–æ–≤
- Guitar Pro (.gp5) - –¥–ª—è –≥–∏—Ç–∞—Ä–∏—Å—Ç–æ–≤
- PDF (.pdf) - –Ω–æ—Ç—ã + —Ç–∞–±—É–ª–∞—Ç—É—Ä–∞
- ChordPro (.cho) - —Ç–µ–∫—Å—Ç —Å –∞–∫–∫–æ—Ä–¥–∞–º–∏

**Stems Export:**
- Individual stems (vocals, instrumental, drums, bass, etc.)
- Grouped stems (drums + bass, synths + pads)
- Dry stems (–±–µ–∑ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤)
- Wet stems (—Å —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏)

#### 5.2 Export Presets

**Quick Export Presets:**
- "Songwriter Package" - MP3 + Chords + Lyrics PDF
- "Producer Package" - WAV + Stems + MIDI
- "Guitarist Package" - MP3 + GP5 + PDF tabs
- "Karaoke Package" - Instrumental MP3 + Lyrics
- "Covers Package" - Stems + MIDI + Chords

#### 5.3 Batch Export

**–§—É–Ω–∫—Ü–∏—è:** –≠–∫—Å–ø–æ—Ä—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

**Workflow:**
```
1. –í—ã–±—Ä–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞:
   - Tracks (–æ—Å–Ω–æ–≤–Ω–æ–π —Ç—Ä–µ–∫ + –≤–µ—Ä—Å–∏–∏)
   - Stems (vocal, instrumental, etc.)
   - MIDI files
   - Chord charts
2. –í—ã–±—Ä–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–ø—Ü–∏–∏ (bitrate, sample rate, etc.)
4. –ó–∞–ø—É—Å—Ç–∏—Ç—å batch export
5. –°–∫–∞—á–∞—Ç—å ZIP –∞—Ä—Ö–∏–≤ —Å–æ –≤—Å–µ–º–∏ —Ñ–∞–π–ª–∞–º–∏
```

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏

### API –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

#### 1. Klangio API

**Endpoint:** `https://api.klangio.com/v1/jobs`

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ä–µ–∂–∏–º—ã:**
- `transcription` - —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –≤ MIDI/–Ω–æ—Ç—ã
- `chord-recognition` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞–∫–∫–æ—Ä–¥–æ–≤
- `chord-recognition-extended` - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∞–∫–∫–æ—Ä–¥—ã
- `beat-tracking` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–º–ø–∞ –∏ –±–∏—Ç

**–ú–æ–¥–µ–ª–∏:**
- guitar, piano, bass, drums, vocal, lead, string, wind
- universal, detect, multi, piano_arrangement

**Outputs:**
- midi, midi_quant, mxml, gp5, pdf, json

**–¢–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:**
- ‚ö†Ô∏è API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ 2/5 —Ñ–æ—Ä–º–∞—Ç–æ–≤ (MIDI + MusicXML)
- ‚ö†Ô∏è GP5, PDF, MIDI Quantized –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç
- ‚è≥ PR #149: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç–∞, –æ–∂–∏–¥–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**
```typescript
// Edge Function: klangio-analyze/index.ts

// 1. –î–æ–±–∞–≤–∏—Ç—å retry –ª–æ–≥–∏–∫—É –¥–ª—è missing outputs
async function retryMissingOutputs(jobId: string, missingFormats: string[]) {
  // –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø–æ–ª—É—á–∏—Ç—å outputs —á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
  for (const format of missingFormats) {
    const response = await fetch(`https://api.klangio.com/v1/jobs/${jobId}/outputs/${format}`);
    if (response.ok) {
      // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å output –≤ storage
    }
  }
}

// 2. Fallback –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é PDF –∏–∑ MIDI
async function generatePdfFromMidi(midiUrl: string) {
  // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å musescore –∏–ª–∏ –¥—Ä—É–≥–æ–π –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä
  // –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤ storage, –≤–µ—Ä–Ω—É—Ç—å URL
}

// 3. –ö–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏—è MIDI –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
function quantizeMidi(midiData: MIDIData, quantizeValue: number) {
  // –ö–≤–∞–Ω—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–æ—Ç—ã –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
  // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ midi_quant
}
```

#### 2. Replicate API

**Model:** `spotify/basic-pitch`

**Endpoint:** `/predictions`

**Parameters:**
- `audio_url` - URL –∞—É–¥–∏–æ —Ñ–∞–π–ª–∞
- `onset_threshold` - –ø–æ—Ä–æ–≥ –¥–µ—Ç–µ–∫—Ü–∏–∏ –Ω–æ—Ç (0.0-1.0)
- `frame_threshold` - –ø–æ—Ä–æ–≥ —Ñ—Ä–µ–π–º–∞ (0.0-1.0)
- `minimum_note_length` - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –Ω–æ—Ç—ã (ms)
- `minimum_frequency` - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞ (Hz)
- `maximum_frequency` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞ (Hz)

**Output:**
- MIDI file URL
- Note events (pitch, time, duration)

**–ü–ª—é—Å—ã:**
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç –≤—ã–±–æ—Ä–∞ –º–æ–¥–µ–ª–∏)
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π (10-30 —Å–µ–∫)

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –¢–æ–ª—å–∫–æ MIDI (–Ω–µ—Ç GP5, PDF, MusicXML)
- ‚ùå –ú–µ–Ω–µ–µ —Ç–æ—á–Ω—ã–π –¥–ª—è –≥–∏—Ç–∞—Ä—ã/–±–∞—Å–∞
- ‚ùå –ù–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∞–∫–∫–æ—Ä–¥—ã

#### 3. Suno AI v5

**Endpoints:**

**3.1 Generate with Vocals**
```
POST /api/v5/generate
{
  "prompt": "style description",
  "vocals_audio_url": "URL to recorded vocals",
  "model": "chirp-v5",
  "instrumental": false
}
```

**3.2 Extend Audio**
```
POST /api/v5/extend
{
  "audio_url": "URL to base track",
  "continue_at": 30,
  "duration": 40
}
```

**3.3 Replace Section** (—á–µ—Ä–µ–∑ extend_audio)
```
POST /api/v5/extend_audio
{
  "audio_url": "URL to base audio (stem)",
  "vocals_audio_url": "URL to new vocals/instrumental",
  "prompt": "style",
  "continue_at": 0
}
```

### Database Schema

#### –ù–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã

**audio_takes** - —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–µ–π –∑–∞–ø–∏—Å–∏
```sql
CREATE TABLE public.audio_takes (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  project_id UUID REFERENCES studio_projects(id) ON DELETE CASCADE,
  user_id UUID REFERENCES profiles(id) ON DELETE CASCADE,
  audio_url TEXT NOT NULL,
  duration_seconds INTEGER,
  source TEXT CHECK (source IN ('microphone', 'cloud', 'stem')),
  stem_id UUID REFERENCES track_stems(id) ON DELETE SET NULL,
  metadata JSONB DEFAULT '{}'::jsonb,
  quality_score DECIMAL(3,2),
  is_selected BOOLEAN DEFAULT false,
  created_at TIMESTAMPTZ DEFAULT now(),
  updated_at TIMESTAMPTZ DEFAULT now()
);

CREATE INDEX idx_audio_takes_project ON audio_takes(project_id);
CREATE INDEX idx_audio_takes_user ON audio_takes(user_id);
```

**transcription_jobs** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
```sql
CREATE TABLE public.transcription_jobs (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  audio_url TEXT NOT NULL,
  engine TEXT CHECK (engine IN ('klangio', 'replicate')) NOT NULL,
  model TEXT,
  status TEXT CHECK (status IN ('pending', 'processing', 'completed', 'failed')) DEFAULT 'pending',
  progress INTEGER DEFAULT 0,
  results JSONB,
  error TEXT,
  created_at TIMESTAMPTZ DEFAULT now(),
  completed_at TIMESTAMPTZ,
  user_id UUID REFERENCES profiles(id)
);

CREATE INDEX idx_transcription_jobs_status ON transcription_jobs(status);
CREATE INDEX idx_transcription_jobs_user ON transcription_jobs(user_id);
```

**chord_data** - —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ–± –∞–∫–∫–æ—Ä–¥–∞—Ö
```sql
CREATE TABLE public.chord_data (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  track_id UUID REFERENCES tracks(id) ON DELETE CASCADE,
  stem_id UUID REFERENCES track_stems(id) ON DELETE CASCADE,
  chords JSONB NOT NULL, -- Array of {chord, start, end, confidence}
  key TEXT,
  detected_at TIMESTAMPTZ DEFAULT now(),
  source TEXT CHECK (source IN ('klangio', 'manual')) DEFAULT 'klangio'
);

CREATE INDEX idx_chord_data_track ON chord_data(track_id);
CREATE INDEX idx_chord_data_stem ON chord_data(stem_id);
```

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–∞–±–ª–∏—Ü

**studio_projects** - –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è –¥–ª—è –∑–∞–ø–∏—Å–∏
```sql
ALTER TABLE studio_projects
ADD COLUMN recording_settings JSONB DEFAULT '{
  "metronome_enabled": false,
  "metronome_bpm": 120,
  "metronome_time_signature": "4/4",
  "count_in_bars": 2,
  "monitor_enabled": true
}'::jsonb;
```

**track_stems** - –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è –¥–ª—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
```sql
ALTER TABLE track_stems
ADD COLUMN midi_url TEXT,
ADD COLUMN midi_quant_url TEXT,
ADD COLUMN musicxml_url TEXT,
ADD COLUMN gp5_url TEXT,
ADD COLUMN pdf_url TEXT,
ADD COLUMN transcription_metadata JSONB DEFAULT '{}'::jsonb;
```

### Performance Optimization

#### 1. Lazy Loading
- –ó–∞–≥—Ä—É–∂–∞—Ç—å chord diagrams —Ç–æ–ª—å–∫–æ –ø—Ä–∏ hover/click
- Lazy load MIDI roll viewer (—Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –æ—Ç–∫—Ä—ã—Ç)
- Virtualize take list (react-virtuoso)

#### 2. Audio Streaming
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å chunked streaming –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
- Progressive loading waveform (–ø–æ–∫–∞–∑–∞—Ç—å low-res, –ø–æ—Ç–æ–º high-res)
- Cache decoded audio data –≤ IndexedDB

#### 3. Caching Strategy
```typescript
// TanStack Query config
{
  staleTime: 5 * 60 * 1000,      // 5 –º–∏–Ω—É—Ç
  gcTime: 30 * 60 * 1000,        // 30 –º–∏–Ω—É—Ç
  refetchOnWindowFocus: false,
  refetchOnReconnect: true,
}
```

#### 4. Web Workers
- Decode audio –≤ Web Worker
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è waveform –≤ Worker
- MIDI processing –≤ Worker

---

## üìÖ –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### Phase 1: Foundation & Fixes (Week 1-2)

**–¶–µ–ª—å:** –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–∞–≥–∏ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –±–∞–∑—É

**Tasks:**
1. ‚úÖ **T1.1**: –ò—Å–ø—Ä–∞–≤–∏—Ç—å VocalReplacementDialog - –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å audioUrl —Å—Ç–µ–º–∞
2. ‚úÖ **T1.2**: –ò—Å–ø—Ä–∞–≤–∏—Ç—å ArrangementReplacementDialog - –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å audioUrl —Å—Ç–µ–º–∞
3. ‚ö†Ô∏è **T1.3**: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ Klangio outputs (PR #149 —É–∂–µ —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç)
4. üîÑ **T1.4**: –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É UnifiedRecordingStudio –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
5. üîÑ **T1.5**: –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å—ã (RecordingService, TranscriptionService)
6. üîÑ **T1.6**: –û–±–Ω–æ–≤–∏—Ç—å database schema (audio_takes, transcription_jobs, chord_data)

**Acceptance Criteria:**
- [ ] VocalReplacementDialog —É—Å–ø–µ—à–Ω–æ –∑–∞–º–µ–Ω—è–µ—Ç –≤–æ–∫–∞–ª —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º instrumental —Å—Ç–µ–º–∞
- [ ] ArrangementReplacementDialog —É—Å–ø–µ—à–Ω–æ –∑–∞–º–µ–Ω—è–µ—Ç –∞—Ä–∞–Ω–∂–∏—Ä–æ–≤–∫—É —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º vocal —Å—Ç–µ–º–∞
- [ ] Klangio –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∏—á–∏–Ω—É missing outputs
- [ ] –ë–∞–∑–æ–≤—ã–π UnifiedRecordingStudio –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤ StudioShell
- [ ] –°–µ—Ä–≤–∏—Å—ã –ø–æ–∫—Ä—ã—Ç—ã unit —Ç–µ—Å—Ç–∞–º–∏ (>80% coverage)
- [ ] Database migrations —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è

**Success Metrics:**
- Zero failed generations –∏–∑-–∑–∞ missing audioUrl
- Diagnostic logs –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç root cause –¥–ª—è Klangio
- 100% test coverage –¥–ª—è –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

---

### Phase 2: Recording System (Week 3-4)

**–¶–µ–ª—å:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å unified recording system —Å multi-take support

**Tasks:**
1. üîÑ **T2.1**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å RecordingPanel —Å source selector
2. üîÑ **T2.2**: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Metronome, GuitarTuner, AudioLevelMeter
3. üîÑ **T2.3**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å multi-take recording
4. üîÑ **T2.4**: –°–æ–∑–¥–∞—Ç—å TakeManager —Å A/B comparison
5. üîÑ **T2.5**: –î–æ–±–∞–≤–∏—Ç—å AI quality scoring –¥–ª—è –¥—É–±–ª–µ–π
6. üîÑ **T2.6**: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å UnifiedStudioStore
7. üîÑ **T2.7**: –î–æ–±–∞–≤–∏—Ç—å cloud storage –¥–ª—è takes (audio-takes bucket)

**Acceptance Criteria:**
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∑–∞–ø–∏—Å–∞—Ç—å –∞—É–¥–∏–æ —Å –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞
- [ ] –ú–µ—Ç—Ä–æ–Ω–æ–º —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º BPM –∏ —Ä–∞–∑–º–µ—Ä–æ–º
- [ ] Multi-take recording –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø–∏—Å–∞—Ç—å 5+ –¥—É–±–ª–µ–π
- [ ] A/B comparison –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å—Ä–∞–≤–Ω–∏—Ç—å –ª—é–±—ã–µ 2 –¥—É–±–ª—è
- [ ] AI quality score –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Ü–µ–Ω–∫—É 0-100 –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥—É–±–ª—è
- [ ] –î—É–±–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –æ–±–ª–∞–∫–æ
- [ ] –í—ã–±—Ä–∞–Ω–Ω—ã–π –¥—É–±–ª—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ studio_project

**Success Metrics:**
- 90% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —É—Å–ø–µ—à–Ω–æ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç –ø–µ—Ä–≤—ã–π –¥—É–±–ª—å
- Average 3.5 –¥—É–±–ª–µ–π –Ω–∞ –æ–¥–Ω—É —Å–µ—Å—Å–∏—é –∑–∞–ø–∏—Å–∏
- 80% –≤—ã–±–∏—Ä–∞—é—Ç –¥—É–±–ª—å —Å highest AI score

---

### Phase 3: Transcription & Chords (Week 5-6)

**–¶–µ–ª—å:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å transcription workflow —Å chord visualization

**Tasks:**
1. üîÑ **T3.1**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å TranscriptionPanel —Å engine/model selector
2. üîÑ **T3.2**: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Klangio chord detection
3. üîÑ **T3.3**: –°–æ–∑–¥–∞—Ç—å ChordTimeline —Å overlay –Ω–∞ waveform
4. üîÑ **T3.4**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å ChordDiagram —Å guitar fingerings
5. üîÑ **T3.5**: –°–æ–∑–¥–∞—Ç—å ChordLibrary —Å –ø–æ–∏—Å–∫–æ–º
6. üîÑ **T3.6**: –î–æ–±–∞–≤–∏—Ç—å MIDI transcription (Klangio + Replicate)
7. üîÑ **T3.7**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å MIDIRollViewer (piano roll)
8. üîÑ **T3.8**: –î–æ–±–∞–≤–∏—Ç—å GuitarTab viewer –¥–ª—è —Ç–∞–±—É–ª–∞—Ç—É—Ä
9. üîÑ **T3.9**: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å TranscriptionExportPanel

**Acceptance Criteria:**
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å chord detection –Ω–∞ –ª—é–±–æ–º –∞—É–¥–∏–æ
- [ ] ChordTimeline –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–∫–∫–æ—Ä–¥—ã –Ω–∞–¥ waveform —Å sync
- [ ] –ö–ª–∏–∫ –Ω–∞ –∞–∫–∫–æ—Ä–¥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç guitar fingering diagram
- [ ] ChordLibrary –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–∫–∞—Ç—å –∞–∫–∫–æ—Ä–¥—ã –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
- [ ] MIDI transcription —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –æ–±–æ–∏–º–∏ –¥–≤–∏–∂–∫–∞–º–∏ (Klangio + Replicate)
- [ ] MIDIRollViewer –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–æ—Ç—ã –Ω–∞ piano roll
- [ ] GuitarTab –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–∞–±—É–ª–∞—Ç—É—Ä—É –¥–ª—è –≥–∏—Ç–∞—Ä–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤
- [ ] –≠–∫—Å–ø–æ—Ä—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–æ –≤—Å–µ —Ñ–æ—Ä–º–∞—Ç—ã (MIDI, GP5, PDF, MusicXML)

**Success Metrics:**
- 70% –≥–∏—Ç–∞—Ä–∏—Å—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç chord detection
- 85% chord detection accuracy (–ø–æ feedback)
- 60% –∏—Å–ø–æ–ª—å–∑—É—é—Ç MIDI export

---

### Phase 4: Add Vocal/Instrumental (Week 7-8)

**–¶–µ–ª—å:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤–æ–∫–∞–ª–∞/–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª–∞

**Tasks:**
1. üîÑ **T4.1**: –°–æ–∑–¥–∞—Ç—å AddVocalDialog
2. üîÑ **T4.2**: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø–∏—Å—å –≤–æ–∫–∞–ª–∞ –≤ AddVocalDialog
3. üîÑ **T4.3**: –î–æ–±–∞–≤–∏—Ç—å vocal effects (reverb, delay, compression)
4. üîÑ **T4.4**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å pitch correction (auto-tune)
5. üîÑ **T4.5**: –°–æ–∑–¥–∞—Ç—å AddInstrumentalDialog
6. üîÑ **T4.6**: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å AI generation –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª–∞ (Suno)
7. üîÑ **T4.7**: –î–æ–±–∞–≤–∏—Ç—å key/tempo matching
8. üîÑ **T4.8**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å volume balance controls
9. üîÑ **T4.9**: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å Suno AI v5 API

**Acceptance Criteria:**
- [ ] AddVocalDialog –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø–∏—Å–∞—Ç—å –≤–æ–∫–∞–ª –ø–æ–≤–µ—Ä—Ö instrumental
- [ ] Vocal effects –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤ real-time preview
- [ ] Pitch correction —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º —É—Ä–æ–≤–Ω–µ–º (0-100%)
- [ ] AddInstrumentalDialog –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª —á–µ—Ä–µ–∑ Suno AI
- [ ] Key matching –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–±–∏—Ä–∞–µ—Ç —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- [ ] Tempo matching —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç —Ç–µ–º–ø
- [ ] Volume balance –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–∏–∫—Å–æ–≤–∞—Ç—å vocal + instrumental
- [ ] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π —Ç—Ä–µ–∫

**Success Metrics:**
- 50% instrumental —Ç—Ä–µ–∫–æ–≤ –ø–æ–ª—É—á–∞—é—Ç –≤–æ–∫–∞–ª
- 30% vocal —Ç—Ä–µ–∫–æ–≤ –ø–æ–ª—É—á–∞—é—Ç –Ω–æ–≤—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª
- 90% —É—Å–ø–µ—à–Ω—ã—Ö –≥–µ–Ω–µ—Ä–∞—Ü–∏–π —Å –ø–µ—Ä–≤–æ–≥–æ —Ä–∞–∑–∞

---

### Phase 5: Export & Polish (Week 9-10)

**–¶–µ–ª—å:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å export system –∏ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø–æ–ª–∏—Ä–æ–≤–∫–∞

**Tasks:**
1. üîÑ **T5.1**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å ExportOptionsPanel
2. üîÑ **T5.2**: –°–æ–∑–¥–∞—Ç—å export presets (Songwriter, Producer, Guitarist, etc.)
3. üîÑ **T5.3**: –î–æ–±–∞–≤–∏—Ç—å batch export –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
4. üîÑ **T5.4**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å ZIP packaging –¥–ª—è batch export
5. üîÑ **T5.5**: –î–æ–±–∞–≤–∏—Ç—å format conversion (MP3, WAV, OGG, M4A)
6. üîÑ **T5.6**: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (lazy loading, web workers)
7. üîÑ **T5.7**: –î–æ–±–∞–≤–∏—Ç—å keyboard shortcuts
8. üîÑ **T5.8**: –ù–∞–ø–∏—Å–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏ tutorials
9. üîÑ **T5.9**: E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö workflows
10. üîÑ **T5.10**: Beta testing —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

**Acceptance Criteria:**
- [ ] ExportOptionsPanel –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–±—Ä–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç—ã —ç–∫—Å–ø–æ—Ä—Ç–∞
- [ ] Export presets —Ä–∞–±–æ—Ç–∞—é—Ç –æ–¥–Ω–∏–º –∫–ª–∏–∫–æ–º
- [ ] Batch export —Å–æ–∑–¥–∞—ë—Ç ZIP —Å –≤—Å–µ–º–∏ —Ñ–∞–π–ª–∞–º–∏
- [ ] Format conversion –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç MP3, WAV, OGG, M4A
- [ ] Performance: <2s load time, 60 FPS UI
- [ ] Keyboard shortcuts –¥–ª—è –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ workflows
- [ ] E2E —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ (100%)
- [ ] Beta users –¥–∞—é—Ç 4.5+ rating

**Success Metrics:**
- 80% –∏—Å–ø–æ–ª—å–∑—É—é—Ç export presets
- 40% –∏—Å–ø–æ–ª—å–∑—É—é—Ç batch export
- 95% satisfaction rate (–∏–∑ beta feedback)
- <1% crash rate

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

### –ë–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∏

1. **Adoption Rate**
   - Target: 60% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏—Å–ø–æ–ª—å–∑—É—é—Ç recording studio –≤ –ø–µ—Ä–≤—É—é –Ω–µ–¥–µ–ª—é
   - Current: N/A (new feature)

2. **Retention Impact**
   - Target: +15% increase in 7-day retention
   - Measure: Cohort analysis –¥–æ/–ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞

3. **Engagement**
   - Target: Average 3.5 recordings per user per week
   - Target: 50% users transcribe at least one recording

4. **Premium Conversion**
   - Target: +20% conversion to premium (for unlimited recordings)
   - Measure: Conversion funnel from free ‚Üí premium

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏

1. **Performance**
   - Page load time: <2 seconds (p95)
   - Recording latency: <100ms
   - UI responsiveness: 60 FPS
   - Transcription time: <60s for 3-minute track

2. **Reliability**
   - Uptime: 99.9%
   - Error rate: <0.5%
   - API success rate: >98%
   - Data loss: 0%

3. **Code Quality**
   - Test coverage: >80%
   - Code duplication: <5%
   - Bundle size impact: <200KB gzipped

### UX –º–µ—Ç—Ä–∏–∫–∏

1. **Task Success Rate**
   - Record first take: >90%
   - Multi-take comparison: >85%
   - Chord detection: >80%
   - MIDI export: >75%

2. **Time to Value**
   - First recording: <2 minutes
   - First transcription: <3 minutes
   - First export: <1 minute

3. **User Satisfaction**
   - NPS score: >40
   - Feature rating: >4.5/5
   - Would recommend: >80%

---

## üé® UX/UI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏

### Mobile-First Design

#### Touch Targets
- Minimum size: 56x56px (iOS guidelines)
- Spacing: 8px –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
- Safe areas: respect Telegram safe areas

#### Gestures
- Swipe left/right - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –¥—É–±–ª—è–º–∏
- Pinch to zoom - zoom –Ω–∞ waveform
- Long press - –æ—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é
- Pull down - refresh/reload

#### Haptic Feedback
- Light impact - button tap
- Medium impact - recording start/stop
- Heavy impact - generation complete
- Success/Error notification - success/error haptic

### Visual Design

#### Color Scheme
```css
/* Recording states */
--recording-idle: #6B7280;      /* Gray */
--recording-active: #EF4444;    /* Red */
--recording-paused: #F59E0B;    /* Amber */
--recording-complete: #10B981;  /* Green */

/* Chord colors */
--chord-major: #3B82F6;         /* Blue */
--chord-minor: #8B5CF6;         /* Purple */
--chord-seventh: #EC4899;       /* Pink */
--chord-diminished: #F97316;    /* Orange */

/* Transcription states */
--transcription-pending: #6B7280;
--transcription-processing: #3B82F6;
--transcription-completed: #10B981;
--transcription-failed: #EF4444;
```

#### Typography
```css
/* Headers */
--font-header: 600 18px 'Inter';

/* Body */
--font-body: 400 14px 'Inter';

/* Caption */
--font-caption: 400 12px 'Inter';

/* Monospace (for BPM, timecode) */
--font-mono: 500 14px 'JetBrains Mono';
```

#### Spacing
```css
--space-xs: 4px;
--space-sm: 8px;
--space-md: 16px;
--space-lg: 24px;
--space-xl: 32px;
```

### Component States

#### Recording Button
```
Idle:       Gray circle, "Tap to Record" label
Recording:  Red pulsing circle, timer, "Tap to Stop"
Paused:     Amber circle, "Paused", "Resume" button
Complete:   Green checkmark, duration, "Save" button
```

#### Take Item
```
Default:    Waveform thumbnail, duration, timestamp
Selected:   Blue border, checkmark badge
Playing:    Play icon ‚Üí Pause icon, progress bar
AI Score:   Badge with score 0-100, color-coded
```

#### Chord Overlay
```
Default:    Chord name above waveform, semi-transparent
Hover:      Solid background, chord diagram popup
Selected:   Blue border, chord details in sidebar
```

#### MIDI Roll
```
Piano Roll: White/black keys, colored note blocks
Drum Roll:  Drum icons, velocity bars
Guitar Tab: 6 strings, fret numbers, timing marks
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å

### Data Privacy

1. **User Recordings**
   - –•—Ä–∞–Ω–∏—Ç—å –≤ –ø—Ä–∏–≤–∞—Ç–Ω–æ–º bucket (audio-takes)
   - RLS policies: —Ç–æ–ª—å–∫–æ owner –≤–∏–¥–∏—Ç —Å–≤–æ–∏ –∑–∞–ø–∏—Å–∏
   - Auto-delete —á–µ—Ä–µ–∑ 90 –¥–Ω–µ–π (–µ—Å–ª–∏ –Ω–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ)
   - GDPR compliance: –ø—Ä–∞–≤–æ –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ

2. **Audio Processing**
   - –í—Å–µ API calls —á–µ—Ä–µ–∑ edge functions (proxy)
   - –ù–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å user_id –Ω–∞–ø—Ä—è–º—É—é –≤ Klangio/Replicate
   - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ metadata, –Ω–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
   - Encrypt audio URLs –≤ —Ç—Ä–∞–Ω–∑–∏—Ç–µ

3. **Transcription Data**
   - MIDI/Chords data –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
   - –û–ø—Ü–∏—è "Keep Private" (–Ω–µ –¥–µ–ª–∏—Ç—å—Å—è)
   - Export –±–µ–∑ watermarks –¥–ª—è premium users

### Rate Limiting

```typescript
// Recording rate limits
const RATE_LIMITS = {
  free: {
    recordings_per_day: 10,
    max_duration_seconds: 300,      // 5 –º–∏–Ω—É—Ç
    transcriptions_per_day: 5,
  },
  premium: {
    recordings_per_day: 100,
    max_duration_seconds: 600,      // 10 –º–∏–Ω—É—Ç
    transcriptions_per_day: 50,
  },
};
```

### Error Handling

1. **Recording Errors**
   - Microphone permission denied ‚Üí fallback to cloud upload
   - Storage quota exceeded ‚Üí compress audio, notify user
   - Network error during upload ‚Üí retry with exponential backoff

2. **Transcription Errors**
   - API timeout ‚Üí retry once, then show error
   - Invalid audio format ‚Üí convert to supported format
   - Rate limit exceeded ‚Üí queue for later processing

3. **Generation Errors**
   - Suno API error ‚Üí show detailed error message
   - Missing stem URL ‚Üí guide user to separate stems first
   - Quota exceeded ‚Üí prompt to upgrade to premium

---

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–≠—Ç–æ—Ç –ø–ª–∞–Ω –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω–æ–µ –≤–∏–¥–µ–Ω–∏–µ –æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω–æ–π —Å—Ç—É–¥–∏–∏ –∑–∞–ø–∏—Å–∏ —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏:

‚úÖ **Unified Recording System** - –∑–∞–ø–∏—Å—å –≤–æ–∫–∞–ª–∞, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –≥–∏—Ç–∞—Ä—ã  
‚úÖ **Multi-Take Recording** - –∑–∞–ø–∏—Å—å –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥—É–±–ª–µ–π —Å AI –æ—Ü–µ–Ω–∫–æ–π  
‚úÖ **Transcription & Chords** - —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –≤ MIDI, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞–∫–∫–æ—Ä–¥–æ–≤  
‚úÖ **Chord Visualization** - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∞–∫–∫–æ—Ä–¥–æ–≤ —Å –∞–ø–ø–ª–∏–∫–∞—Ç—É—Ä–∞–º–∏  
‚úÖ **Add Vocal/Instrumental** - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–æ–∫–∞–ª–∞ –∏–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª–∞  
‚úÖ **Extension & Remix** - –ø—Ä–æ–¥–ª–µ–Ω–∏–µ –∏ —Ä–µ–º–∏–∫—Å —Ç—Ä–µ–∫–æ–≤  
‚úÖ **Multi-Format Export** - —ç–∫—Å–ø–æ—Ä—Ç –≤ MIDI, GP5, PDF, MusicXML, ChordPro  

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è** (Week 1):
   - –ò—Å–ø—Ä–∞–≤–∏—Ç—å VocalReplacementDialog –∏ ArrangementReplacementDialog
   - –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã Klangio –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ (PR #149)
   - –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É UnifiedRecordingStudio

2. **–ö–æ—Ä–æ—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ —Ü–µ–ª–∏** (Week 2-4):
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å recording system —Å multi-take support
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å monitoring tools (–º–µ—Ç—Ä–æ–Ω–æ–º, —Ç—é–Ω–µ—Ä, level meter)

3. **–°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ —Ü–µ–ª–∏** (Week 5-8):
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å transcription workflow —Å chord visualization
   - –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ Add Vocal/Instrumental

4. **–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —Ü–µ–ª–∏** (Week 9-10):
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å export system —Å presets
   - –§–∏–Ω–∞–ª—å–Ω–∞—è –ø–æ–ª–∏—Ä–æ–≤–∫–∞ –∏ beta testing

### –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

- **Code Quality**: -40% –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è, +80% test coverage
- **Performance**: <2s load, 60 FPS, <60s transcription
- **User Experience**: 4.5+ rating, 60% adoption, +15% retention
- **Business Impact**: +20% premium conversion, higher engagement

---

**–ê–≤—Ç–æ—Ä:** AI Planning Agent  
**–î–∞—Ç–∞:** 2026-01-04  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** Ready for Review
