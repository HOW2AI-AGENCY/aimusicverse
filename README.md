<div align="center">

<img src="src/assets/logo.png" alt="MusicVerse AI Logo" width="180" height="180" />

# üéµ MusicVerse AI

### AI-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º—É–∑—ã–∫–∏ –≤ Telegram

<p align="center">
  <strong>–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –º—É–∑—ã–∫—É —Å –ø–æ–º–æ—â—å—é –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞</strong><br>
  <em>Suno AI v5 ‚Ä¢ Telegram Mini App ‚Ä¢ A/B Versioning ‚Ä¢ Stem Studio ‚Ä¢ AI Artists</em>
</p>

---

<a href="http://t.me/AIMusicVerseBot/app">
  <img src="https://img.shields.io/badge/üöÄ%20–û—Ç–∫—Ä—ã—Ç—å%20–≤%20Telegram-26A5E4?style=for-the-badge&logo=telegram&logoColor=white" alt="–û—Ç–∫—Ä—ã—Ç—å –≤ Telegram" />
</a>

---

<p align="center">
  <img src="https://img.shields.io/badge/React-19-61DAFB?style=flat-square&logo=react" alt="React 19" />
  <img src="https://img.shields.io/badge/TypeScript-5.0-blue?style=flat-square&logo=typescript" alt="TypeScript" />
  <img src="https://img.shields.io/badge/Telegram-Mini_App-26A5E4?style=flat-square&logo=telegram" alt="Telegram" />
  <img src="https://img.shields.io/badge/Lovable_Cloud-Backend-8B5CF6?style=flat-square" alt="Lovable Cloud" />
  <img src="https://img.shields.io/badge/Suno_AI-v5-e74c3c?style=flat-square" alt="Suno AI" />
  <img src="https://img.shields.io/badge/Sprint-023-green?style=flat-square" alt="Current Sprint" />
</p>

</div>

---

## üìë –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#Ô∏è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [üìä –°–∏—Å—Ç–µ–º–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#-—Å–∏—Å—Ç–µ–º–Ω–∞—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö](#-–ø–æ—Ç–æ–∫-–¥–∞–Ω–Ω—ã—Ö)
- [üéØ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤](#-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
- [üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [üìä –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏](#-–∫–ª—é—á–µ–≤—ã–µ-–º–µ—Ç—Ä–∏–∫–∏)
- [üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
- [üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
- [üõ†Ô∏è –ù–µ–¥–∞–≤–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏—è](#Ô∏è-–Ω–µ–¥–∞–≤–Ω–∏–µ-—É–ª—É—á—à–µ–Ω–∏—è)

> üí° **–ù–∞–≤–∏–≥–∞—Ü–∏—è:** –°–º. [NAVIGATION_INDEX.md](docs/NAVIGATION_INDEX.md) –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç—ã –≤—Å–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
> 
> üìö **–ö–ª—é—á–µ–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
> - [AI Lyrics Assistant](docs/AI_LYRICS_ASSISTANT.md) - –ß–∞—Ç-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–æ–≤
> - [Stem Studio](docs/STEM_STUDIO.md) - –†–∞–±–æ—Ç–∞ —Å–æ —Å—Ç–µ–º–∞–º–∏ –∏ MIDI
> - [Generation System](docs/GENERATION_SYSTEM.md) - –°–∏—Å—Ç–µ–º–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º—É–∑—ã–∫–∏
> - [TG Mini App Fixes](docs/TELEGRAM_MINI_APP_CRITICAL_FIXES.md) - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
> - [Known Issues](docs/KNOWN_ISSUES.md) - –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üéπ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º—É–∑—ã–∫–∏
- **Suno AI v5** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–µ–∫–æ–≤ –ø–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–º—É –æ–ø–∏—Å–∞–Ω–∏—é
- **A/B –≤–µ—Ä—Å–∏–∏** ‚Äî –∫–∞–∂–¥–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞—ë—Ç 2 –≤–∞—Ä–∏–∞–Ω—Ç–∞
- **Streaming preview** ‚Äî –ø—Ä–µ–¥–ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ –≤–æ –≤—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- **Custom —Ä–µ–∂–∏–º** ‚Äî –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ lyrics –∏ —Å—Ç–∏–ª–µ–º
- **AI Lyrics Chat** ‚Äî —á–∞—Ç-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–æ–≤
- **–ì–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥** ‚Äî –¥–∏–∫—Ç–æ–≤–∫–∞ –æ–ø–∏—Å–∞–Ω–∏—è —á–µ—Ä–µ–∑ Whisper API
- **–ê–≤—Ç–æ-—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ** ‚Äî —á–µ—Ä–Ω–æ–≤–∏–∫–∏ —Ñ–æ—Ä–º—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è 30 –º–∏–Ω—É—Ç

### üìö –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ç—Ä–µ–∫–æ–≤
- **–í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è** ‚Äî –ø–ª–∞–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å 1000+ —Ç—Ä–µ–∫–æ–≤ (react-virtuoso)
- **Lazy loading** ‚Äî –æ—Ç–ª–æ–∂–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –æ–±–ª–æ–∂–µ–∫ —Å blur-—ç—Ñ—Ñ–µ–∫—Ç–æ–º
- **Grid/List —Ä–µ–∂–∏–º—ã** ‚Äî –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- **Swipe-–¥–µ–π—Å—Ç–≤–∏—è** ‚Äî –±—ã—Å—Ç—Ä—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
- **Inline –≤–µ—Ä—Å–∏–∏** ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ A/B –ø—Ä—è–º–æ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ
- **–õ–∞–π–∫–∏** ‚Äî –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å denormalized —Å—á—ë—Ç—á–∏–∫–∞–º–∏

### üéß –ü–ª–µ–µ—Ä
- **–ì–ª–æ–±–∞–ª—å–Ω—ã–π –∞—É–¥–∏–æ** ‚Äî –æ–¥–∏–Ω –∏—Å—Ç–æ—á–Ω–∏–∫ –∑–≤—É–∫–∞ –¥–ª—è –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **3 —Ä–µ–∂–∏–º–∞** ‚Äî compact / expanded / fullscreen
- **üìú –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ lyrics** ‚Äî –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é ¬±0.05s
- **üéØ –£–º–Ω—ã–π –∞–≤—Ç–æ-—Å–∫—Ä–æ–ª–ª** ‚Äî —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ user scroll —Å 5s resume delay
- **–û—á–µ—Ä–µ–¥—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è** ‚Äî Play Next, Add to Queue, Shuffle
- **Audio Visualizer** ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —á–∞—Å—Ç–æ—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **Version playback** ‚Äî —Ä–µ–∂–∏–º—ã –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –≤–µ—Ä—Å–∏–π

### üìù –ü–ª–µ–π–ª–∏—Å—Ç—ã
- **CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ
- **Drag-drop** ‚Äî –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ —Ç—Ä–µ–∫–æ–≤ –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
- **AI-–æ–±–ª–æ–∂–∫–∏** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–±–ª–æ–∂–µ–∫ —á–µ—Ä–µ–∑ Lovable AI
- **Auto-playlists** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–ª–µ–π–ª–∏—Å—Ç—ã –ø–æ –∂–∞–Ω—Ä–∞–º
- **Deep links** ‚Äî —à–∞—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ Telegram

### üéõÔ∏è Stem Studio
- **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Å—Ç–µ–º—ã** ‚Äî vocals, drums, bass, guitar –∏ –¥—Ä.
- **–ú–∏–∫—à–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –≥—Ä–æ–º–∫–æ—Å—Ç—å, mute, solo –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—Ç–µ–º–∞
- **üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ** ‚Äî —Ç–æ—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö —Å—Ç–µ–º–æ–≤ —Å drift detection (0.1s)
- **Waveform** ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤–æ–ª–Ω–æ–≤–æ–π —Ñ–æ—Ä–º—ã (wavesurfer.js)
- **MIDI —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è** ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ Supabase Storage
- **Reference –≥–µ–Ω–µ—Ä–∞—Ü–∏—è** ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç–µ–º–∞ –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ç—Ä–µ–∫–∞
- **üÜï –ó–∞–º–µ–Ω–∞ —Å–µ–∫—Ü–∏–π** ‚Äî –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ —Ç—Ä–µ–∫–∞
- **üéØ –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–µ–∫—Ü–∏–π** ‚Äî Levenshtein distance –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –º–∞—Ç—á–∏–Ω–≥–∞ (RU/EN)
- **A/B —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ** ‚Äî —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ—Ä–∏–≥–∏–Ω–∞–ª–∞ –∏ –∑–∞–º–µ–Ω—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–ò—Å—Ç–æ—Ä–∏—è –∑–∞–º–µ–Ω** ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –≤–µ—Ä—Å–∏–π —Å–µ–∫—Ü–∏–π

### üé® AI –ê—É–¥–∏–æ –ê–Ω–∞–ª–∏–∑
- **BPM detection** ‚Äî –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–º–ø–∞
- **Key signature** ‚Äî –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- **Genre/Mood** ‚Äî –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –∂–∞–Ω—Ä–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è
- **Emotional map** ‚Äî arousal/valence –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
- **Structure analysis** ‚Äî –∞–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç—Ä–µ–∫–∞

### ü§ñ Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- **Mini App SDK 2.0** ‚Äî –Ω–∞—Ç–∏–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Telegram
- **Bot commands** ‚Äî /generate, /cover, /extend, /library
- **Inline queries** ‚Äî –ø–æ–∏—Å–∫ –∏ —à–∞—Ä–∏–Ω–≥ —Ç—Ä–µ–∫–æ–≤
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** ‚Äî –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Ç—Ä–µ–∫–æ–≤
- **Stories sharing** ‚Äî –ø—É–±–ª–∏–∫–∞—Ü–∏—è –≤ Telegram Stories
- **Deep linking** ‚Äî –ø—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ç—Ä–µ–∫–∏/–ø–ª–µ–π–ª–∏—Å—Ç—ã/—Å—Ç—É–¥–∏—é

### üë§ AI-–∞—Ä—Ç–∏—Å—Ç—ã
- **–ü–µ—Ä—Å–æ–Ω—ã** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ AI-–∞—Ä—Ç–∏—Å—Ç–æ–≤ —Å bio –∏ —Å—Ç–∏–ª–µ–º
- **–ü–æ—Ä—Ç—Ä–µ—Ç—ã** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∞–≤–∞—Ç–∞—Ä–æ–≤ —á–µ—Ä–µ–∑ Gemini
- **–ü—É–±–ª–∏—á–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥** ‚Äî discovery –∞—Ä—Ç–∏—Å—Ç–æ–≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞
- **–ú–æ–∏ –∞—Ä—Ç–∏—Å—Ç—ã / –°–æ–æ–±—â–µ—Å—Ç–≤–æ** ‚Äî —Ç–∞–±—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ Artists

### üéÆ Gamification
- **Daily check-in** ‚Äî –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –Ω–∞–≥—Ä–∞–¥—ã
- **Streaks** ‚Äî –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–µ—Ä–∏–π
- **–£—Ä–æ–≤–Ω–∏** ‚Äî –ø—Ä–æ–≥—Ä–µ—Å—Å–∏—è —Å –æ–ø—ã—Ç–æ–º
- **Achievements** ‚Äî –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Å –Ω–∞–≥—Ä–∞–¥–∞–º–∏
- **Leaderboard** ‚Äî 5 –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ä–µ–π—Ç–∏–Ω–≥–∞
- **Credits** ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –≤–∞–ª—é—Ç–∞

### üë®‚Äçüíº Admin Dashboard
- **Overview** ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π/—Ç—Ä–µ–∫–æ–≤
- **Bot Metrics** ‚Äî –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Telegram –±–æ—Ç–∞
- **User Management** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—è–º–∏
- **Broadcast** ‚Äî —Ä–∞—Å—Å—ã–ª–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- **Blog** ‚Äî AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è —Å—Ç–∞—Ç–µ–π

---

## üìä –°–∏—Å—Ç–µ–º–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –û–±—â–∞—è —Å—Ö–µ–º–∞ —Å–∏—Å—Ç–µ–º—ã

```mermaid
graph TB
    subgraph "Frontend Layer"
        A[Telegram Mini App<br/>React 19 + TypeScript]
        B[State Management<br/>Zustand + TanStack Query]
        C[UI Components<br/>shadcn/ui + Tailwind]
    end
    
    subgraph "Backend Layer - Lovable Cloud"
        D[PostgreSQL Database<br/>30+ Tables with RLS]
        E[Edge Functions<br/>45+ Serverless Functions]
        F[Storage<br/>Audio Files & Covers]
    end
    
    subgraph "External Services"
        G[Suno AI v5<br/>Music Generation]
        H[Telegram API<br/>Bot & Notifications]
        I[Gemini AI<br/>Artist Portraits]
    end
    
    A --> B
    B --> C
    A <--> E
    E <--> D
    E <--> F
    E <--> G
    E <--> H
    E <--> I
    
    style A fill:#61DAFB
    style D fill:#336791
    style G fill:#e74c3c
    style H fill:#26A5E4
```

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```mermaid
erDiagram
    users ||--o{ tracks : creates
    users ||--o{ playlists : owns
    users ||--o{ artists : creates
    
    tracks ||--o{ track_versions : "has versions"
    tracks ||--|| audio_analysis : "has analysis"
    tracks ||--o{ track_stems : "has stems"
    tracks ||--o{ track_likes : "receives"
    tracks }o--|| artists : "by artist"
    tracks }o--o| music_projects : "belongs to"
    
    playlists ||--o{ playlist_tracks : contains
    playlist_tracks }o--|| tracks : references
    
    track_versions ||--o{ track_change_log : "has changelog"
    
    generation_tasks ||--|| tracks : generates
    stem_separation_tasks ||--|| track_stems : creates
    
    users {
        uuid id PK
        text telegram_id
        text username
        boolean is_public
    }
    
    tracks {
        uuid id PK
        uuid user_id FK
        uuid active_version_id FK
        text title
        text prompt
        boolean is_public
        boolean has_stems
        int play_count
    }
    
    track_versions {
        uuid id PK
        uuid track_id FK
        text version_label
        boolean is_primary
        text audio_url
    }
    
    playlists {
        uuid id PK
        uuid user_id FK
        text title
        int track_count
        int total_duration
    }
```

---

## üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

### –ü—Ä–æ—Ü–µ—Å—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º—É–∑—ã–∫–∏

```mermaid
sequenceDiagram
    actor User
    participant TG as Telegram
    participant App as MusicVerse App
    participant Edge as Edge Functions
    participant DB as PostgreSQL
    participant Suno as Suno AI v5
    
    User->>TG: –û—Ç–∫—Ä—ã–≤–∞–µ—Ç Mini App
    TG->>App: initData + auth
    App->>Edge: Validate auth
    Edge->>DB: Get/Create user
    DB-->>App: User profile
    
    User->>App: –ó–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
    App->>App: Auto-save draft (localStorage)
    User->>App: –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é
    
    App->>Edge: POST /suno-music-generate
    Edge->>DB: Create generation_task
    Edge->>Suno: Start generation
    Suno-->>Edge: Task ID
    Edge-->>App: Task created
    
    loop Streaming Progress
        Suno-->>Edge: Streaming URL ready
        Edge->>DB: Update streaming_url
        DB-->>App: Realtime update
        App->>User: Show streaming preview
    end
    
    Suno->>Edge: Webhook: Generation complete
    Edge->>DB: Create track + 2 versions
    Edge->>TG: Send notification
    TG->>User: "–í–∞—à —Ç—Ä–µ–∫ –≥–æ—Ç–æ–≤!"
    
    User->>App: –û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ç—Ä–µ–∫
    App->>DB: Increment play_count
    App->>User: –ù–∞—á–∞—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
```

### –°–∏—Å—Ç–µ–º–∞ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (A/B)

```mermaid
graph LR
    A[Generation Request] --> B[Suno AI]
    B --> C[Clip 0 - Version A]
    B --> D[Clip 1 - Version B]
    
    C --> E[track_versions<br/>is_primary = true]
    D --> F[track_versions<br/>is_primary = false]
    
    E --> G[tracks.active_version_id<br/>points to Version A]
    
    style C fill:#90EE90
    style D fill:#FFB6C1
    style E fill:#90EE90
    style F fill:#FFB6C1
```

---

## üéØ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### Frontend —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```mermaid
graph TB
    subgraph "App Shell"
        A[App.tsx<br/>Router + Layout]
        B[GlobalAudioProvider<br/>Single Audio Element]
        C[TelegramContext<br/>Mini App SDK]
    end
    
    subgraph "Pages"
        D[Index - Homepage]
        E[Library - Track List]
        F[Artists - AI Personas]
        G[Projects - Organization]
        H[Playlists - Collections]
    end
    
    subgraph "Core Features"
        I[Player<br/>Compact/Expanded/Fullscreen]
        J[GenerateSheet<br/>Music Creation Form]
        K[Stem Studio<br/>Stem Separation & Mix]
        L[Track Actions<br/>Unified Menus]
    end
    
    subgraph "State Management"
        M[playerStore<br/>Zustand]
        N[TanStack Query<br/>Server State Cache]
    end
    
    A --> B
    A --> C
    A --> D
    A --> E
    A --> F
    A --> G
    A --> H
    
    D --> I
    E --> I
    E --> J
    E --> K
    E --> L
    
    I --> M
    J --> N
    K --> N
    L --> N
    
    style A fill:#61DAFB
    style M fill:#764ABC
    style N fill:#FF4154
```

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–ª–µ–µ—Ä–∞

```mermaid
stateDiagram-v2
    [*] --> Idle
    Idle --> Loading: User clicks play
    Loading --> Playing: Audio ready
    Playing --> Paused: User pauses
    Paused --> Playing: User resumes
    Playing --> Loading: Change track
    Playing --> Idle: Track ends
    Paused --> Idle: User stops
    
    state Playing {
        [*] --> Compact
        Compact --> Expanded: User expands
        Expanded --> Fullscreen: User taps fullscreen
        Fullscreen --> Expanded: User exits
        Expanded --> Compact: User minimizes
    }
```

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Frontend
```
React 19 + TypeScript 5 + Vite
‚îú‚îÄ‚îÄ Tailwind CSS + shadcn/ui (–¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∞)
‚îú‚îÄ‚îÄ TanStack Query (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö)
‚îú‚îÄ‚îÄ Zustand (–≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)
‚îú‚îÄ‚îÄ Framer Motion (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ @/lib/motion)
‚îú‚îÄ‚îÄ react-virtuoso (–≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–æ–≤)
‚îî‚îÄ‚îÄ wavesurfer.js (–∞—É–¥–∏–æ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è)
```

### Backend (Lovable Cloud)
```
PostgreSQL + Edge Functions
‚îú‚îÄ‚îÄ Row Level Security (–∑–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö)
‚îú‚îÄ‚îÄ Realtime subscriptions (–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
‚îú‚îÄ‚îÄ Storage buckets (–º–µ–¥–∏–∞—Ñ–∞–π–ª—ã)
‚îî‚îÄ‚îÄ 59 Edge Functions (–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)
```

### –ö–ª—é—á–µ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- **Single Audio Source** ‚Äî GlobalAudioProvider
- **Optimized Caching** ‚Äî staleTime 30s, gcTime 10min
- **Batch Queries** ‚Äî usePublicContentOptimized
- **Lazy Images** ‚Äî LazyImage —Å blur placeholder
- **Denormalized Counters** ‚Äî likes_count —Å —Ç—Ä–∏–≥–≥–µ—Ä–∞–º–∏
- **Modular Components** ‚Äî —Ä–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ –ø–æ–¥–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ —Ö—É–∫–∏
- **Lazy Loading** ‚Äî `src/components/lazy/` –¥–ª—è —Ç—è–∂—ë–ª—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **Optimized Motion** ‚Äî `@/lib/motion` –¥–ª—è tree-shaking framer-motion

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### Telegram Mini App
–û—Ç–∫—Ä–æ–π—Ç–µ [@AIMusicVerseBot](http://t.me/AIMusicVerseBot) ‚Üí –Ω–∞–∂–º–∏—Ç–µ "–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
git clone https://github.com/HOW2AI-AGENCY/aimusicverse.git
cd aimusicverse
npm install
npm run dev
```

---

## üìä –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| –ú–µ—Ç–∞-—Ç–µ–≥–∏ Suno | 174+ |
| –ú—É–∑—ã–∫–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ | 277+ |
| –Ø–∑—ã–∫–∏ | 75+ |
| Edge Functions | 45+ |
| –¢–∞–±–ª–∏—Ü –≤ –ë–î | 30+ |
| React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ | 150+ |
| –ö–∞—Å—Ç–æ–º–Ω—ã—Ö —Ö—É–∫–æ–≤ | 60+ |

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/           # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ui/              # shadcn/ui + GlowButton, GlassCard –∏ –¥—Ä.
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ player/          # CompactPlayer, ExpandedPlayer, MobileFullscreen
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ library/         # TrackCard, TrackRow, filters
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ playlist/        # Playlist management
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ stem-studio/     # Stem mixing –∏ waveforms
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ generate-form/   # GenerateSheet modules
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ lyrics-chat/ # LyricsChatAssistant (refactored)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ track-detail/    # TrackAnalysisTab, VersionsTab
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ track-actions/   # Unified action menus
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ gamification/    # Rewards, Leaderboard, Achievements
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin/           # AdminDashboard tabs
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ home/            # Homepage sections
‚îÇ   ‚îú‚îÄ‚îÄ hooks/               # 60+ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Ö—É–∫–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ usePlayerStore   # Zustand player state
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useTracksInfinite# Infinite scroll tracks
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useLyricsChat    # Lyrics assistant logic
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ stores/              # Zustand stores
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ playerStore      # Audio playback state
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ queueStore       # Track queue
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ planTrackStore   # Project track context
‚îÇ   ‚îú‚îÄ‚îÄ pages/               # –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Index.tsx        # Homepage with discovery
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Library.tsx      # Track library
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Artists.tsx      # My Artists + Community tabs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Projects.tsx     # Music projects
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îî‚îÄ‚îÄ lib/                 # Utilities
‚îÇ       ‚îî‚îÄ‚îÄ logger.ts        # Structured logging
‚îú‚îÄ‚îÄ supabase/
‚îÇ   ‚îî‚îÄ‚îÄ functions/           # 45+ Edge Functions
‚îÇ       ‚îú‚îÄ‚îÄ suno-*/          # Music generation
‚îÇ       ‚îú‚îÄ‚îÄ ai-*/            # AI assistants
‚îÇ       ‚îú‚îÄ‚îÄ telegram-*/      # Bot handlers
‚îÇ       ‚îî‚îÄ‚îÄ analyze-*/       # Audio analysis
‚îú‚îÄ‚îÄ docs/                    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ ADR/                     # Architecture Decision Records
```

---

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

| –î–æ–∫—É–º–µ–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| [NAVIGATION.md](NAVIGATION.md) | üó∫Ô∏è –ü—É—Ç–µ–≤–æ–¥–∏—Ç–µ–ª—å –ø–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é |
| [docs/ARCHITECTURE_DIAGRAMS.md](docs/ARCHITECTURE_DIAGRAMS.md) | üèóÔ∏è **–í–∏–∑—É–∞–ª—å–Ω—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã** |
| [docs/PROJECT_SPECIFICATION.md](docs/PROJECT_SPECIFICATION.md) | üìã –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ |
| [docs/DATABASE.md](docs/DATABASE.md) | üóÑÔ∏è –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å ERD |
| [docs/SUNO_API.md](docs/SUNO_API.md) | üéµ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Suno API |
| [docs/SECTION_REPLACEMENT.md](docs/SECTION_REPLACEMENT.md) | üéõÔ∏è **–ó–∞–º–µ–Ω–∞ —Å–µ–∫—Ü–∏–π –≤ Stem Studio** |
| [docs/TELEGRAM_BOT_ARCHITECTURE.md](docs/TELEGRAM_BOT_ARCHITECTURE.md) | ü§ñ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–æ—Ç–∞ |
| [docs/PLAYER_ARCHITECTURE.md](docs/PLAYER_ARCHITECTURE.md) | üéß –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–ª–µ–µ—Ä–∞ |
| [CONTRIBUTING.md](CONTRIBUTING.md) | ü§ù –ü—Ä–∞–≤–∏–ª–∞ –∫–æ–Ω—Ç—Ä–∏–±—É—Ü–∏–∏ |
| [DEVELOPMENT_WORKFLOW.md](DEVELOPMENT_WORKFLOW.md) | üîÑ –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å |

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –Ω–∞ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö
- –í–∞–ª–∏–¥–∞—Ü–∏—è Telegram initData —á–µ—Ä–µ–∑ HMAC
- –°–µ–∫—Ä–µ—Ç—ã —Ç–æ–ª—å–∫–æ –≤ Edge Functions
- DOMPurify –¥–ª—è —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏–∏ HTML
- `is_public` —Ñ–ª–∞–≥–∏ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞
- Logger utility –≤–º–µ—Å—Ç–æ console.log

---

## üõ†Ô∏è –ù–µ–¥–∞–≤–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### Sprint 022: Bundle Optimization üîÑ
- –£–ª—É—á—à–µ–Ω tree-shaking (target: esnext, terser passes: 2)
- –°–æ–∑–¥–∞–Ω `@/lib/motion` –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ framer-motion
- Lazy loading —Ç—è–∂—ë–ª—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (`src/components/lazy/`)
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ date-fns –Ω–∞ core/locale chunks
- Bundle analyzer: `dist/stats.html`

### Phase 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚úÖ
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ –∞—É–¥–∏–æ –ø—Ä–∏ –ø—É—Å—Ç–æ–º src
- –û–±—ä–µ–¥–∏–Ω–µ–Ω—ã —Å—Ç—Ä–∞–Ω–∏—Ü—ã Artists –∏ Actors
- –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω –æ–Ω–±–æ—Ä–¥–∏–Ω–≥ (OnboardingOverlay)
- –£–ø—Ä–æ—â–µ–Ω—ã HeroQuickActions (4 –æ—Å–Ω–æ–≤–Ω—ã—Ö)

### Phase 2: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ ‚úÖ
- GenerateSheet —Ä–∞–∑–±–∏—Ç –Ω–∞ –º–æ–¥—É–ª–∏ (1178‚Üí250 —Å—Ç—Ä–æ–∫)
- –°–æ–∑–¥–∞–Ω —Ö—É–∫ useGenerateForm
- LyricsChatAssistant –º–æ–¥—É–ª—è—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω (833‚Üí200 —Å—Ç—Ä–æ–∫)
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –¥–∏–∞–ª–æ–≥"

### Phase 3: AI Features ‚úÖ
- AnalysisQuickStats ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è BPM/Key/Genre
- Collapsible –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑
- –£–ª—É—á—à–µ–Ω–Ω—ã–π UI –∞–Ω–∞–ª–∏–∑–∞ –∞—É–¥–∏–æ

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

- **Telegram Bot:** [@AIMusicVerseBot](https://t.me/AIMusicVerseBot)
- **Mini App:** [–û—Ç–∫—Ä—ã—Ç—å](http://t.me/AIMusicVerseBot/app)

---

<div align="center">

**–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –∫–æ–º–∞–Ω–¥–æ–π MusicVerse AI**

*Last Updated: 2025-12-09*

</div>
